<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ALox: Log Levels, Log Domains and Log Domain Levels</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- so strange, that doxgen does not highlight each menu item. Just some... -->
<script>
  $(document).ready(function() {     
    fnameStart= window.location.href.lastIndexOf('/')
    fnameEnd=   window.location.href.indexOf('_', fnameStart )
    if( fnameEnd < 0 ) {
        fnameEnd=   window.location.href.indexOf('.', fnameStart )
    }
    if( fnameEnd > -1 ) {
        subString= window.location.href.substring( fnameStart, fnameEnd )
        $('li').toArray().forEach(function(li){
            if(     typeof li.firstChild.href != 'undefined'
                &&  li.firstChild.href.indexOf(subString) > 0 
                ){
               li.classList.add('current');
            }
        });
    }
  });
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="aworx_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="A-Worx-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ALox
   &#160;<span id="projectnumber">V. 1602</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>ALox&#160;Home</span></a></li>
      <li><a href="faq.html"><span>FAQ</span></a></li>
      <li><a href="manual.html"><span>Manual</span></a></li>
      <li><a href="cpp_ref/cppmainpage.html"><span>ALox&#160;for&#160;C++</span></a></li>
      <li><a href="cs_ref/csmainpage.html"><span>ALox&#160;for&#160;C#</span></a></li>
      <li><a href="java_ref/javamainpage.html"><span>ALox&#160;for&#160;Java</span></a></li>
      <li><a href="tools.html"><span>Tools</span></a></li>
      <li><a href="https://github.com/AlexWorx/ALox-Logging-Library"><span>Download</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="manual.html">User Manual</a></li><li class="navelem"><a class="el" href="man_concepts.html">Concepts of ALox Logging</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Log Levels, Log Domains and Log Domain Levels </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#man_levelsanddomains_levels">1. Log Levels</a></li>
<li class="level1"><a href="#man_levelsanddomains_domains">2. Log Domains and Log Domain Levels</a></li>
<li class="level1"><a href="#man_levelsanddomains_hierarchical_domains">3. Hierarchical Log Domains</a></li>
<li class="level1"><a href="#man_levelsanddomains_root_domain">4. The Root Domain of class Logger</a></li>
<li class="level1"><a href="#man_levelsanddomains_default_domains">5. Default Domains</a></li>
<li class="level1"><a href="#man_levelsanddomains_hierarchical_default_domains">6. Default Domains and Domain Hierarchy</a></li>
<li class="level1"><a href="#man_levelsanddomains_internal_domain">7. The Internal Domain &quot;ALOX&quot;</a></li>
<li class="level1"><a href="#man_levelsanddomains_separating_loggers">8. Setting Different Domain Levels on Different Loggers</a></li>
<li class="level1"><a href="#man_levelsanddomains_summary">9. Summary</a></li>
</ul>
</div>
<div class="textblock"><p>This chapter provides all details on log levels and log domains. Before reading it, be sure that you have read and understood the chapter <a class="el" href="man_alox_architecture.html">Overview of the ALox architecture</a>.</p>
<dl class="section note"><dt>Note</dt><dd><b>Differences of ALox for C++, C# and Java</b>:<br />
 As ALox is available for C++, C# and Java, the class and member names within this document may vary a little per language. Especially the class <b>Log</b> has no interface in C++ while in C# and Java its' interface is a copy of that of class <b>Lox</b>, made for pruning the code. In contrast, in C++ the macros Log_xxx and Lox_xxx are used to provide pruned and non-pruned access to methods of class Lox. Please remember this, when reading this manual and translate the references used herein to the right ones of the language of your choice.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_levels"></a>
1. Log Levels</h1>
<p>It is very common for logging eco-systems, and ALox is no exclamation to this, to implement the concept of <em>log levels</em>. Such log level is provided either as a parameter to the log call or is provided by offering different log methods, like <em>error()</em>, <em>warning()</em> or <em>verbose()</em> (or both, as ALox does.) The four levels offered are enumerated in <b>Log.Level</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a221b779e6bb7b8d40677d7642bfefac5">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a221b779e6bb7b8d40677d7642bfefac5">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lox_1_1Log_1_1Level.html">JAVA</a> ) and are named and sorted like this:</p><ul>
<li><em>Verbose</em></li>
<li><em>Info</em></li>
<li><em>Warning</em></li>
<li><em>Error</em></li>
</ul>
<p>The sorting of log levels means that if for example the log level '<em>Info</em>' is enabled, then all log levels below '<em>Info</em>' ('<em>Warning</em>' and '<em>Error</em>') are also enabled. This way, changing the log level changes the so called "verbosity" of your application. The higher the level setting is, the more log messages will appear in the log.</p>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_domains"></a>
2. Log Domains and Log Domain Levels</h1>
<p>The ALox logging ecosystem differs from most others in the respect that log levels are not evaluated against a global setting. Log levels are always evaluated in consideration of a specific <em>log domain</em>.</p>
<p><em>Log domains</em> are simple names (strings) that a developer specifies with a log statement. In a kind, <em>log domains</em> specify a "topic" or "theme" to which that certain log statement belongs to. For example, those parts of a software that implement the user interface, could perform all log statements using the log domain "UI", while the parts that read or write into a database could be named "DBIO" or similar.</p>
<p>Now, ALox administers a setting for the log level per <em>log domain</em>. Such setting is called <em>log domain level</em>. At runtime, for each log statement, the <em>log level</em> is evaluated against the <em>log domain level</em> and the log message is either suppressed or not.</p>
<p>The <em>log domain levels</em> are enumerated in <b>Log.DomainLevel</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">JAVA</a> ) and are:</p>
<ul>
<li><em>Off</em></li>
<li><em>Errors</em></li>
<li><em>WarningsAndErrors</em></li>
<li><em>InfoWarningsAndErrors</em></li>
<li><em>All</em></li>
<li><em>Inherit</em></li>
</ul>
<p>This should be self explanatory, despite the last one, <em>Inherit</em>, which is explained in the next section.</p>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_hierarchical_domains"></a>
3. Hierarchical Log Domains</h1>
<p>One of the major design goals of ALox is simplicity. By nature simplicity is sometimes in in competition with flexibility or feature richness of an API. One way to resolve such conflicting goals is to provide features that - if not wanted or needed or not even known - are invisible to the user. The concept of hierarchical log domains is a good sample of how this was achieved in the ALox API design.</p>
<p>Domain names can incorporate a domain separator character '/' (alternatively '\' or '|'). As long as such domain names are used in the normal way, nothing changes. However, as soon as sub domains are addressed (portions of domain names are given into the API), then the hierarchical domain system internally takes action.</p>
<p>Let us look at a sample: The UI portion of an application might define three domains:</p><ul>
<li>"UI" for general UI messages</li>
<li>"UI/MENU" for messages generated by user menu selections</li>
<li>"UI/DLG" for messages generated by dialog boxes</li>
</ul>
<p>The program code of the UI would register the three domains as follows (C# sample):</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.Scope.None );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/MENU&quot;</span>,   Log.Scope.None );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.Scope.None );</div></div><!-- fragment --><p>(See <b>Lox.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#a0676d6fc6dd68d7c2c0ca49ab8abe630">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a457f426687e79824eec2895798af1830">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a14433cbe7c50daf92ad1123dabab29c7">JAVA</a> ) for further reference.)</p>
<p><br />
 Now, without using the feature of hierarchical domains, the user code that controls the level setting for the domains would set the level of the domains as follows:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.DomainLevel.InfoWarningsAndErrors );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/MENU&quot;</span>,   Log.DomainLevel.InfoWarningsAndErrors );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.DomainLevel.InfoWarningsAndErrors );</div></div><!-- fragment --><p> <em>(See <b>Lox.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#a0676d6fc6dd68d7c2c0ca49ab8abe630">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a457f426687e79824eec2895798af1830">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a14433cbe7c50daf92ad1123dabab29c7">JAVA</a> ) for further reference.) </em></p>
<p>Due to the fact that the default value for the level setting of a domain is <b>Log.DomainLevel.Inherit</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">JAVA</a> ), the two sub domains of "UI" do not need to be set. They inherit the setting from their parent. It is sufficient to set just the parent domain:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.DomainLevel.InfoWarningsAndErrors );</div></div><!-- fragment --><p> In the case, that one of the sub domains should receive a different setting, then this can be easily done applying a specific level to it:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.DomainLevel.InfoWarningsAndErrors );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.DomainLevel.Errors );</div></div><!-- fragment --><p> In this sample, the sub domain "UI/DLG" gets its own setting, while the sub domain "UI/MENU" is still inheriting the setting from parent domain "UI".</p>
<p>The optional parameter <code>propagation</code> controls, if a level setting is recursively applied to all sub domains. It defaults to <b>Propagation.ToDescendants</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lib_1_1enums.html#aeae0c2d4659a32ef54bd221d1a3da4e6aa9857b4deb35c57d5753f94fa00a028e">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/namespacecs_1_1aworx_1_1lib_1_1enums.html#aeae0c2d4659a32ef54bd221d1a3da4e6aa9857b4deb35c57d5753f94fa00a028e">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lib_1_1enums_1_1Propagation.html#a28a2607444247b781afbecd75fee9e93">JAVA</a> ), Hence, the following code would set all three domains to level <em>InfoWarningsAndErrors</em>:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.DomainLevel.Errors );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.DomainLevel.InfoWarningsAndErrors );</div></div><!-- fragment --><p> To prevent this, it is recommended to keep the right order of calls (parent domains first, as in the previous sample) or alternatively to specify the parameter <code>propagation</code> explicitly to false:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.DomainLevel.Errors );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.DomainLevel.InfoWarningsAndErrors, null, <a class="codeRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lib_1_1enums.html#aeae0c2d4659a32ef54bd221d1a3da4e6">Propagation</a>.None );</div></div><!-- fragment --><p>The advantages of hierarchical domains so far are:</p><ul>
<li>You can control a whole set of domains with one statement</li>
<li>If new versions of libraries provide new sub domains, their level setting is automatically controlled without explicitly adding a corresponding call to <em>Log.SetDomain()</em>.</li>
</ul>
<p>But there is one more point on it, described later in this chapter. First let us look at the root domain of a Logger.</p>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_root_domain"></a>
4. The Root Domain of class Logger</h1>
<p>As we have learned about the hierarchical organizations of domains, the next concept is easy to understand. Each instance of class <b>Logger</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1core_1_1Logger.html">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1core_1_1Logger.html">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1core_1_1Logger.html">JAVA</a> ), contains a public field of type <b>Domain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1core_1_1Domain.html">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1core_1_1Domain.html">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1core_1_1Domain.html">JAVA</a> ), which represents the <em>root domain</em>. Whenever a new domain is registered with a Lox, each logger contained in this Lox gets this domain added as a sub domain of its root domain.</p>
<p>Now, if the <em>domain level</em> of such sub domain is not specified (using <b>Lox.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#a0676d6fc6dd68d7c2c0ca49ab8abe630">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a457f426687e79824eec2895798af1830">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a14433cbe7c50daf92ad1123dabab29c7">JAVA</a> ) the setting defaults to "inherit" and hence these sub domains inherit the setting of the root domain. Therefore, the level setting of a Loggers' root domain determines the "default" domain level for "unknown" domains.</p>
<p>Different derivates of class Logger might have different preferences here. For example:</p><ul>
<li>Class <b>ConsoleLogger</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">JAVA</a> ), in its constructor, sets the domain level of its root domain to <b>DomainLevel.All</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">JAVA</a> ). This way, messages that get logged on domains that have not been explicitly set in the boot section of an application (or somewhere else) are displayed in the console. This makes sense, as the console is mainly for debug purposes. As soon as a log statement appears under a domain that is not set properly, the programmer can insert a corresponding statement to set the domain as wanted.</li>
<li>In contrast to this, classes <b>TextFileLogger</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1loggers_1_1TextFileLogger.html">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1loggers_1_1TextFileLogger.html">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1loggers_1_1TextFileLogger.html">JAVA</a> ) or <b>MemoryLogger</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1loggers_1_1MemoryLogger.html">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1loggers_1_1MemoryLogger.html">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1loggers_1_1MemoryLogger.html">JAVA</a> ), when constructed, set its root domain to <b>DomainLevel.Off</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a10ac165398697ce1d642d739cc3b170f">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">JAVA</a> ). This way, all log messages are suppressed unless explicitly set active.</li>
</ul>
<p>To change this default behavior, use method <b>Lox.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#a0676d6fc6dd68d7c2c0ca49ab8abe630">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a457f426687e79824eec2895798af1830">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a14433cbe7c50daf92ad1123dabab29c7">JAVA</a> ) on domain name "/" and provide the right logger name in the filter parameter. For example, if you want to see only <em>warning</em> and <em>error</em> messages for domains that are not explicitly set, insert the following code right after a logger is added:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;/&quot;</span>, Log.DomainLevel.Off, <span class="stringliteral">&quot;Console&quot;</span> );</div></div><!-- fragment --><p> In this line of code, we are using the interface method of class <b>Lox</b> (in fact, the debug logging version <b>Log</b>) and we are filtering the logger we want to change. This is the standard approach. If we are dealing with a logger that is not attached to a <b>Lox</b> yet (or for any other reason), it is also possible to change the domain level of any domain directly in a logger, even before adding a logger to a <b>Lox:</b> </p>
<div class="fragment"><div class="line"><span class="comment">// our release logger, this is created somewhere in the bootstrap section of our application</span></div><div class="line">Lox releaseLox= <span class="keyword">new</span> Lox();</div><div class="line"></div><div class="line">TextFileLogger releaseLogger= <span class="keyword">new</span> TextFileLogger(<span class="stringliteral">&quot;logs_from_field.txt&quot;</span>);</div><div class="line">releaseLogger.SetDomain( releaseLox.InternalDomain, Log.DomainLevel.Off );</div><div class="line"></div><div class="line">releaseLox.AddLogger( releaseLogger );</div><div class="line"></div><div class="line"><span class="comment">//...</span></div><div class="line"><span class="comment">//...</span></div><div class="line"><span class="comment">//...</span></div><div class="line"></div><div class="line"><span class="comment">// Somewhere in our application, we can now activate (e.g. based on a &#39;undocumented&#39;</span></div><div class="line"><span class="comment">// configuration parameter) some domain:</span></div><div class="line">releaseLogger.SetDomain( <span class="stringliteral">&quot;MYAPP/DATABASE&quot;</span>,  Log.DomainLevel.InfoWarningsAndErrors );</div></div><!-- fragment --><p> This is what is happening:</p><ul>
<li>By default, loggers of type <b>TextFileLogger</b> set the level of their root domain to <em>Off</em>.</li>
<li>Therefore, the <b>TextFileLogger</b> is quiet after it is created. Even internal ALox errors and warnings got switched off.</li>
<li>When certain things happen, we activate the domain "MYAPP/DATABASE" to gather information about errors that occur in our applications' database code. As we are hunting some misbehaviour, we are activating log level <em>Info</em> netxt to <em>Error</em> and <em>Warning</em>.</li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_default_domains"></a>
5. Default Domains</h1>
<p>People might argue that providing a domain name to each log statement is an overhead of typing. That is true. For this reason - and to get even more benefits - ALox provides the concept of <em>default domains</em>.</p>
<p>Domains, when registered, can be set as the default domain for a given <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/enumcom_1_1aworx_1_1lox_1_1Log_1_1Scope.html">Log.Scope</a>. Unfortunately but naturally, the possible values for the scope are platform/language dependent. For example, in Java, the scope can be the whole package a class resides in, the class only or just a single method of a class. In C#, the scope can be the actual source file or the actual method within a source file. Namespaces can not be the scope in C#, due to restrictions in the way that <em>caller information</em> is collected.</p>
<p>Now, setting a domain as default is done by specifying a scope value other than <em>None</em> to <b>Lox.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#a0676d6fc6dd68d7c2c0ca49ab8abe630">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a457f426687e79824eec2895798af1830">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a14433cbe7c50daf92ad1123dabab29c7">JAVA</a> )</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.Scope.SourceFile );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/MENU&quot;</span>,   Log.Scope.None );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.Scope.None );</div></div><!-- fragment --><p> This sets the domain "UI" as the default domain for this source file. As a result, the following two log statements are equal:</p>
<div class="fragment"><div class="line">Log.Info( <span class="stringliteral">&quot;UI&quot;</span>, <span class="stringliteral">&quot;User interface initialized&quot;</span> );</div><div class="line">Log.Info( <span class="stringliteral">&quot;User interface initialized&quot;</span> );</div></div><!-- fragment --><p> In other words: If no domain name is given, the last recently registered default domain name for is used.</p>
<p>If a log statement is placed within two scopes at the same time (e.g. Method and SoruceFile) then the inner scopes have higher preference than outer scopes.</p>
<p>The advantage of using default domains are:</p><ul>
<li>less typing and better readability</li>
<li>the domain name can be changed in one place</li>
<li>copy and pasting code into different "domains" does not involve updating the domain name in each log statement.</li>
</ul>
<p>It is not an error to register a domain twice. For example, if a domain should become the default domain for two different scopes, then for each scope a corresponding call to SetDomain can be placed at appropriate locations in the code.</p>
<p>In general, the use of domain names is handled very uncritically by ALox. If a domain is used without prior registering, an internal warning message is logged, but the domain is just created on the fly and everything works nicely. On the other hand, registering a domain several times does not hurt. It is a good practice to avoid multiple registrations of domains for the same scope and the tutorials for the different languages that ALox support describe how this is done:</p>
<ul>
<li>For C#, see tutorial chapter <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/cstutorial.html#tutcs_llld_3">3.3. Where to place ALox log code</a>.</li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_hierarchical_default_domains"></a>
6. Default Domains and Domain Hierarchy</h1>
<p>Let us look at the sample from above once more:</p>
<div class="fragment"><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.Scope.SourceFile );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/MENU&quot;</span>,   Log.Scope.None );</div><div class="line">Log.SetDomain( <span class="stringliteral">&quot;UI/DLG&quot;</span>,    Log.Scope.None );</div></div><!-- fragment --><p> Now, as we have our root domain "UI" set up as the default domain, we can address the sub domains using the '~' symbol. The following two log statements become are equal:</p>
<div class="fragment"><div class="line">Log.Info( <span class="stringliteral">&quot;UI/DLG&quot;</span>, <span class="stringliteral">&quot;Dialog opened&quot;</span> );</div><div class="line">Log.Info( <span class="stringliteral">&quot;~/DLG&quot;</span>,  <span class="stringliteral">&quot;Dialog opened&quot;</span> );</div></div><!-- fragment --><p> The benefits are the same as above:</p>
<ul>
<li>less typing and better readability</li>
<li>the domain name can be changed in one place</li>
<li>copy and pasting code into different "domains" does not involve updating the domain name in each log statement, as long as the same sub domain names are wanted.</li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_internal_domain"></a>
7. The Internal Domain "ALOX"</h1>
<p>Now, let us have a look at internal log messages coming from the ALox ecosystem itself and how their domain level can be controlled. This is quite easy and straightforward.</p>
<p>ALox uses a domain called "ALOX" to log internal. This name is not hard coded, but represented in a field in class <b>Lox.</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html">JAVA</a> ). E.g. in C#, this field is called <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#aed8c5ed6af267304f7aae60589a589c3">Lox.InternalDomain</a>. If you want to change the internal domain name, you go ahead as follows:</p>
<div class="fragment"><div class="line">Lox aLox= <span class="keyword">new</span> Lox();</div><div class="line">aLox.InternalDomain=    <span class="stringliteral">&quot;MYAPP/OTHERS/ALOX&quot;</span>;</div></div><!-- fragment --><p> If you want to change it for the static singleton Lox encapsulated in class Log, the code is:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#if ALOX_DBG_LOG</span></div><div class="line">    Log.LOX.InternalDomain= <span class="stringliteral">&quot;MYAPP/OTHERS/ALOX&quot;</span>;</div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --><p> More interesting is of course to enable or disable the domain for certain loggers. Again, console loggers that are enabled for debug messages of your software might want to show all internal messages, while distinct derivates of loggers, especially release loggers, might not.</p>
<p>The API request this internal domain's log level to be specified in the moment a logger is added to the log. See parameter <em>internalDomainLevel</em> in <b>Lox.AddLogger</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#abd300988900048304b481573883406d8">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#acf0a999558902558b312a55f0f98e39b">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a11ce703948713f6ac0111873a8f09dc5">JAVA</a> ).</p>
<p>Of course, the domain level of the internal domain can be manipulated like any other domains <em>Log/Lox.SetDomain()</em>. The code would look like this:</p>
<div class="fragment"><div class="line"><span class="comment">// set internal messages of for all logers in our private Lox</span></div><div class="line">aLox.SetDomain( aLox.InternalDomain,   Log.DomainLevel.Off );</div><div class="line"></div><div class="line"><span class="comment">// Observe into ALox configuration changes in our debug logger</span></div><div class="line"><span class="preprocessor">#if ALOX_DBG_LOG</span></div><div class="line">    Log.SetDomain( Log.LOX.InternalDomain, Log.DomainLevel.All, <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> );</div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --><p> In the moment a <b>Logger</b> gets added to a <b>Lox</b>, the method checks whether the internal domain is already registered with the given logger. If not, it is registered and set to domain level <b>WarningsAndErrors</b>. This means, that it does not play a role, if changes to the level of domain "ALOX" are performed prior to adding a logger (using <b>Logger.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1core_1_1Logger.html#ac449bb9b0f280d33286db8463f48e287">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1core_1_1Logger.html#a122416e30207f27bc01d0a38fa89618f">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1core_1_1Logger.html#aa04d2808f596473483133bade2030231">JAVA</a> ) ) or after a logger was added (using <b>Lox.SetDomain</b> (<a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#a0676d6fc6dd68d7c2c0ca49ab8abe630">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a457f426687e79824eec2895798af1830">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a14433cbe7c50daf92ad1123dabab29c7">JAVA</a> ) ).</p>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_separating_loggers"></a>
8. Setting Different Domain Levels on Different Loggers</h1>
<p>We want to end this chapter, with another very important feature that the ALox logging ecosystem just "provides by design": The concept of matching <em>log levels</em> against <em>log domains</em> does not only allow us to configure the verbosity of the log output per domain. In addition, because of the simple fact that the <em>domain log level</em> setting is stored per <em>Logger</em> and not globally, ALox can be configured to have different loggers logging completely different things.</p>
<p>As we have already seen a source sample of that provided in the tutorials (see section <em>Directing log output to distinct loggers</em>: <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/cpptutorial.html#tutcpp_more_seplog">C++</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/cstutorial.html#tutcs_more_seplog">C#</a>, <a class="elRef" doxygen="/home/a/mnt/dev/A-Worx/ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/javatutorial.html#tutjava_more_seplog">Java</a>), we want to give now a more formal description on how this is achieved:</p>
<ul>
<li>Create and add your loggers using <b>AddLogger</b></li>
<li>For each <b>log domain</b> with log output that should go to all loggers invoke <b>SetDomain</b> without specifying the parameter <b>loggerFilter</b></li>
<li>For each <b>log domain</b> with a log output that should go exclusively to a certain logger (or a set of loggers) go ahead and:<ul>
<li>for each logger, that should receive the domains' log messages, invoke <b>SetDomain</b> and specify the parameter <b>loggerFilter</b> to address the according logger by name. For these loggers set the parameter domainLevel to your desired verbosity.</li>
<li>for each logger, that should <b>not</b> receive the domains' log messages, invoke <b>SetDomain</b> and specify the parameter <b>loggerFilter</b> to address the according logger by name. For these loggers set the parameter domainLevel to <b>DomainLevel.Off</b>.</li>
</ul>
</li>
</ul>
<p>This probably sounds more complex than it is. If you think about it for a second, it should become obvious.</p>
<p>This mechanism allows for example to redirect all logs coming from an external library (or a different department in your company or just a portion of code that you are currently not interested in) maybe together with your logs into a file, while on the debug console you see exclusively the things that bother your right now.</p>
<p>Or, as another example, you could consider a logger that sends alert emails to you. Of-course, you just want to receive such mails on very special occasions, e.g. something really severe happens.</p>
<p><br />
 </p>
<h1><a class="anchor" id="man_levelsanddomains_summary"></a>
9. Summary</h1>
<p>Okay, this was quite a bunch of things that we need to know about <em>log levels</em> and corresponding <em>log domains</em> and their <em>log domain levels</em>.<br />
 So, let us summarize the takeaways of this chapter and repeat quickly what we learned:</p>
<ul>
<li>Each log call is related to a certain <em>log domain</em>.</li>
<li>The log levels <em>Error</em>, <em>Warning</em>, <em>Info</em>, <em>Verbose</em> of each log call determine how they get filtered according to the <em>log domain level</em> of the domain that a log call specifies.</li>
<li>Log domains are hierarchically organized and domain levels can be inherited through this hierarchy.</li>
<li>Log domains are attached to Loggers and hence can be controlled per Logger.</li>
<li>Each logger has a <em>root domain</em>. Due to the inheritance feature of the <em>domain level</em>, this root domains's level determines the level of "unknown" domains (domains that have not been set or registered during the lifetime of the logger).</li>
<li>It is possible to set a default domain for a certain scope.</li>
<li>Using the swung dash character "~" allows to address sub domains of default domains.</li>
<li>class Lox has an own domain "ALOX" for internal messages.</li>
<li>The parameter <em>loggerFilter</em> of method <em>Log.SetDomain()</em> allows to separate log messages of certain log domains into different log streams. </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 5 2016 10:23:33 for ALox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
