<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ALox: 11 - Internal Logging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- so strange, that doxgen does not highlight each menu item. Just some... -->
<script>
  $(document).ready(function() {     
    fnameStart= window.location.href.lastIndexOf('/')
    fnameEnd=   window.location.href.indexOf('_', fnameStart )
    if( fnameEnd < 0 ) {
        fnameEnd=   window.location.href.indexOf('.', fnameStart )
    }
    if( fnameEnd > -1 ) {
        subString= window.location.href.substring( fnameStart, fnameEnd )
        $('li').toArray().forEach(function(li){
            if(     typeof li.firstChild.href != 'undefined'
                &&  li.firstChild.href.indexOf(subString) > 0 
                ){
               li.classList.add('current');
            }
        });
    }
  });
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="aworx_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="A-Worx-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ALox
   &#160;<span id="projectnumber">V. 1604 R. 1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>ALox&#160;Home</span></a></li>
      <li><a href="faq.html"><span>FAQ</span></a></li>
      <li><a href="manual.html"><span>Manual</span></a></li>
      <li><a href="cpp_ref/cppmainpage.html"><span>ALox&#160;for&#160;C++</span></a></li>
      <li><a href="cs_ref/csmainpage.html"><span>ALox&#160;for&#160;C#</span></a></li>
      <li><a href="java_ref/javamainpage.html"><span>ALox&#160;for&#160;Java</span></a></li>
      <li><a href="tools.html"><span>Tools</span></a></li>
      <li><a href="https://github.com/AlexWorx/ALox-Logging-Library"><span>Download</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">11 - Internal Logging </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Well, it seems like a miracle that C++ compilers are written in C++ and looking behind the scenes it is really fine piece of <em>software art</em> when you really start bootstrapping such a system from scratch!</p>
<p>Well, with ALox it was much more simple: We implemented ALox and when this was done, we just added ALox Log lines into ALox code. Easy!</p>
<p>So, this chapter explains how these internal domains are organized and how an ALox user can work with them. A first introduction to this is given in the language-specific tutorials, chapter <b>ALox Configuration Information and Internal Log Messages</b> ( <a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/cpptutorial.html#tutcpp_config">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/cstutorial.html#tutcs_config">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/javatutorial.html#tutjava_config">Java</a>).</p>
<h1><a class="anchor" id="man_internal_domains_tree"></a>
1. The Internal Domain Tree</h1>
<p><em>Log Domains</em> are hierarchically organized in ALox. All <em>Log Domains</em> together constitute a "tree of &lt;em&gt;Log Domains&lt;/em&gt;". Class <b>Lox</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html">Java</a>) maintains the tree, inserts <em>Log Domains</em> 'on the fly' and manages the <em>Verbosity</em> on a per <em>Log Domain</em> and <em>Logger</em> basis.</p>
<p>For internal <em>Log Statement</em>, ALox uses a second, separate domain tree. The separation is made to keep the main tree of <em>Log Domains</em> 'free' for custom domains. If this was different, then setting the root domain as in the following sample:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;/&quot;</span> );</div></div><!-- fragment --><p> would affect internal log messages as well. Because of the separation, they are not. To set or modify the <em>Verbosity</em> of internal <em>Log Domains</em>, static field <b>ALox.InternalDomains</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1ALox.html#a27e1cb674b3172d5696b38af8479755d">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1ALox.html#a7b6260c97ca73f960a2b5aabd5cc91ae">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1ALox.html#a7911d1f444b0ff44a320f9c9fe69b288">Java</a>) has to be used as follows:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1ALox.html">ALox</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1ALox.html#a27e1cb674b3172d5696b38af8479755d">InternalDomains</a> );</div></div><!-- fragment --><p> When you check out the reference documentation as linked above, you will see that this field is a simple string <code>"$/"</code>. Therefore, the code:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;$/&quot;</span> );</div></div><!-- fragment --><p> is equivalent to the previous line.</p>
<dl class="section note"><dt>Note</dt><dd>Of-course it is advised to use the static field instead of 'hard-coding' <code>"$/"</code> to be compatible with future versions of ALox (...or at least get a compiler error if this would be changed to something different than a string code.).</dd></dl>
<p>This piece of information is all you need to control <em>Verbosity</em> of ALox internal messages.</p>
<p>Please note, that method <b>Log.AddDebugLogger</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a06444d2e7a321e26fe1d4c309cb8ed49">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a289d55c41f1955839796edfb71e233e4">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Log.html#afd7ff33d8bad2b6577c6ff34156743ce">Java</a>) sets the <em>Verbosity.Warning</em> for the internal domain. This way, when using ALox, your debug-logger will show you errors and warnings if something goes wrong inside of ALox (e.g. when you pass wrong parameters to ALox, etc.).</p>
<h1><a class="anchor" id="man_internal_domains_sub"></a>
2. Sub-Domains used by ALox</h1>
<p>For different topics, ALox uses different sub-domains for its internal logging. As usual, this allows to control the <em>Verbosity</em> of the internal log output more granular then by setting the internal root domain <code>"$/"</code>. For example, if a software uses wrong <em>Log Domains</em> evaluated from a more complex configuration of <em>Scope Domains</em>, then, to investigate into the problem, sub-domain <code>'DMN'</code> could be set to more verbose, while suppressing other internal messages:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;$/&quot;</span> );</div></div><!-- fragment --><p>The list of sub-domains used by ALox is given in the following table:</p>
<table class="doxtable">
<tr>
<th>Sub-Domain </th><th>Description  </th></tr>
<tr>
<td>LGR </td><td>Used when <em>Loggers</em> are registered, retrieved or removed from a <b>Lox</b> and when the <em>Verbosity</em> of a <em>Log Domain</em> for a <em>Logger</em> is changed.<br />
In addition used with method <b>Lox.SetStartTime</b>. </td></tr>
<tr>
<td>DMN </td><td>Used when <em>Log Domains</em> are registered (on first use), when <em>Scope Domains</em> are set or removed and when <em>Domain Substitution</em>Rs are set. </td></tr>
<tr>
<td>PFX </td><td>Used when <em>Prefix Logables</em> are set or removed. </td></tr>
<tr>
<td>THR </td><td>Used with method <b>Lox.MapThreadName</b>. </td></tr>
<tr>
<td>LGD </td><td>Used with storing and retrieving <em>Log Data</em> objects. </td></tr>
</table>
<h1><a class="anchor" id="man_internal_domains_external"></a>
3. External Use of Internal Domains</h1>
<p>It is not 'forbidden' to have custom <em>Log Statements</em> using the internal domain tree:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1ALox.html">ALox</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1ALox.html#a27e1cb674b3172d5696b38af8479755d">InternalDomains</a> + <span class="stringliteral">&quot;MYDOM&quot;</span>, <span class="stringliteral">&quot;Hello, this logs &#39;on&#39; internal domain &#39;$/MYDOM&#39;!&quot;</span> );</div></div><!-- fragment --><p> Of-course it is advisable to do so only if there are good reasons for that. There is one occasion where this is already, by default done. ALox builds on underlying utility library <b>ALib</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/namespaceaworx_1_1lib.html">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/namespacecs_1_1aworx_1_1lib.html">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/namespacecom_1_1aworx_1_1lib.html">Java</a>). ALib does not 'know' ALox (it is just too low level to 'know') and hence uses an own way to have at least a minimum, fundamental way to communicate problems to the outer world. This communication is implemented using ALib classes <b>Report</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lib_1_1Report.html">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lib_1_1Report.html">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lib_1_1Report.html">Java</a>) and <b>ReportWriter</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lib_1_1ReportWriter.html">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/interfacecs_1_1aworx_1_1lib_1_1ReportWriter.html">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/interfacecom_1_1aworx_1_1lib_1_1ReportWriter.html">Java</a>). These classes together implement a pattern of having a 'pluggable' object that handles report messages. The whole concept is mainly used in debug versions of ALib to report assertions caused by wrong parameters or other faulty use of ALib classes.</p>
<p>Now, method <b>Log.AddDebugLogger</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Log.html#a06444d2e7a321e26fe1d4c309cb8ed49">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Log.html#a289d55c41f1955839796edfb71e233e4">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Log.html#afd7ff33d8bad2b6577c6ff34156743ce">Java</a>) not only creates a (or more) <em>Logger</em> and attaches it to the <em>Lox</em> singleton used for debug-logging, it also creates a custom <b>ReportWriter</b> and plugs it to ALib! The type of this <b>ReportWriter</b> is <b>ALoxReportWriter</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1ALoxReportWriter.html">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1ALoxReportWriter.html">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1ALoxReportWriter.html">Java</a>). This class is forwarding ALib reports to the debug <b>Lox</b> singleton using internal domain <code>'$/REPORT'</code>.</p>
<p>This all makes a lot of sense, because this way, internal ALib reports are directed to the same domain tree as internal ALox logging! When enabling internal log messages of ALox for a <em>Logger</em>, then also ALib reports are recieved.</p>
<h1><a class="anchor" id="man_internal_domains_remarks"></a>
3. Final Remarks</h1>
<p>It is absolutely OK, to register a <em>Logger</em> exclusively for internal domains. Methods <b>Lox.RemoveLogger</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#ab2aa68c613846fce90749385f1c373e1">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a6ff46242d1899057c8a7124527ee0521">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a50816f6ae535958e8f0904e1ab028bbb">Java</a>) always removes the logger from both, internal and standard <em>Log Domains</em>.</p>
<p>As an alternative to internal logging, method <b>Lox.LogConfig</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:cpp_ref/" href="cpp_ref/classaworx_1_1lox_1_1Lox.html#ade5edb3b47eee24a0185ac0b7efa8c17">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:cs_ref/" href="cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a3592a8dbdcc93787ee5dfe8ce70df118">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:java_ref/" href="java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#a1a8a9b854d09ded3321e4a7577d6cda2">Java</a>) provides an actual snapshot of all settings made for a <b>Lox</b> and its <em>Loggers</em> attached. Depending on the situation, each way to disclose what is going on inside ALox might help when something is irritating. By the way, <b>Lox.LogConfig</b> lists the <em>Verbosity</em> settings for each <em>Logger</em> for standard domains as well as for internal domains! </p><hr/>
 <center>Next chapter: <a class="el" href="man_external_verbosity_configuration.html">12 - External Verbosity Configuration</a> </center> <center> <a class="el" href="manual.html">Back to index</a> </center> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 26 2016 13:01:47 for ALox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
