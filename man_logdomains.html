<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ALox: 04 - Log Domains</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="aworx_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="A-Worx-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ALox
   &#160;<span id="projectnumber">V. 1709 R. 0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--ALox Main Menu-->
<div style="background: #2f3a48; " >
<table  class="aworx-menutable"  >
 <tbody>
 <tr style="height: 36px;">
  <td> <a class="aworx-menu_hl" href="index.html"                  >Home</a>                        </td>
  <td> <a class="aworx-menu"    href="cpp_ref/cppmainpage.html"    >ALox for C++</a>                </td>
  <td> <a class="aworx-menu"    href="cs_ref/csmainpage.html"      >ALox for C#</a>                 </td>
  <td> <a class="aworx-menu"    href="java_ref/javamainpage.html"  >ALox for Java</a>               </td>
  <td> <a class="aworx-menu"    href="https://github.com/AlexWorx/ALox-Logging-Library">Download</a></td>
 </tr>
 </tbody>
</table>
</div>
<!--end ALox Main Menu-->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">04 - Log Domains </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#man_logdomains_intro">1. Why Log Domains?</a><ul><li class="level2"><a href="#man_logdomains_chars_allowed">1.1 Allowed Characters</a></li>
</ul>
</li>
<li class="level1"><a href="#man_logdomains_hierarchical_domains">2. Hierarchical Log Domains</a></li>
<li class="level1"><a href="#man_logdomains_default_domains">3. Scope Domains</a></li>
<li class="level1"><a href="#man_logdomains_absolut_and_relative">4. Absolute and Relative Domain Paths</a></li>
<li class="level1"><a href="#man_logdomains_inner_outer_scopes">5. Inner and Outer Scopes</a></li>
<li class="level1"><a href="#man_logdomains_further_wrapup">6. Further Information and Wrap-Up</a><ul><li class="level2"><a href="#man_logdomains_bootstrap">6.1 Where to set the Verbosity</a></li>
<li class="level2"><a href="#man_logdomains_recursive">6.2 Why Does Verbosity Setting Always Work Recursively?</a></li>
<li class="level2"><a href="#man_logdomains_absorrel">6.3 Absolute or Relative Domain Paths?</a></li>
<li class="level2"><a href="#man_logdomains_internal">6.4 ALox Internal Log Domains</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This chapter provides all details on <em>Log Domains</em>. Before reading it, be sure that you have read and understood the chapter <a class="el" href="man_alox_terminology.html">03 - Terminology and Key Concepts</a>.</p>
<h1><a class="anchor" id="man_logdomains_intro"></a>
1. Why Log Domains?</h1>
<p>Let us quickly recapture what was explained already on <em>Log Domains</em> in the previous chapter and the tutorials. It is very common to logging libraries to provide a system that allows to control the verboseness of the log output, by matching what ALox calls a <em>Verbosity</em> associated to <em>Log Statements</em>. ALox allows to divide the overall set of <em>Log Statements</em> into sub-sets that belong to different topics or 'areas of interest'. These topics are called <em>Log Domains</em> and each <em>Log Statement</em> has one associated. Furthermore, ALox allows to have multiple different <em>Loggers</em> performing each <em>Log Statement</em> in parallel. Now, ALox stores the <em>Verbosity</em> per combination of <em>Log Domain</em> and <em>Logger</em>.</p>
<p>The result is, that the <em>Verbosity</em> can be different not only in respect to each <em>Log Domain</em> but also, the same <em>Log Domain</em> may have a different <em>Verbosity</em> set for different <em>Loggers</em>.</p>
<p>The method to set such <em>Verbosity</em> which is found (in different, overloaded versions) in class <b>Lox</b> is simply called <b>SetVerbosity()</b>. As you see in the reference documentation of <b>Lox.SetVerbosity</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Lox.html#a78d6d149b2be1a323243694826b09762">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#adf2c597f5476b71077fa93d8126631af">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#aa8b1df498e4a9039c9b9a958f2186a05">Java</a>), this method as a minimum requires a value for the <em>Logger</em> that is affected and the <b>Verbosity</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/enumcom_1_1aworx_1_1lox_1_1Verbosity.html">Java</a>) that is to be set. The third parameter, the <em>Log Domain</em> defaults to "/" if not given. Omitting parameter <code>domain</code> with this method tells ALox to set <em>all</em> <em>Log Domains</em> to the same <b>Verbosity</b>.</p>
<dl class="section note"><dt>Note</dt><dd>The fourth parameter of method <b>SetVerbosity</b> found in the reference documentation is not covered in this chapter. The impatient reader might refer to <a class="el" href="man_external_verbosity_configuration.html">13 - External Verbosity Configuration</a>.</dd></dl>
<p>This probably sounds more complex than it is. If you think about it for a second, it should become obvious. As a sample, this mechanism allows to log warning and error messages of an application of just any <em>Log Domain</em> to a file to have that log available across different debug-sessions, while the IDEs' console output is much more verbose in respect to those <em>Log Domains</em> a programmer currently is interested in.<br />
 Or, as another example, we could consider a <em>Logger</em> that sends alert Emails to system administrators. Of-course, Emails should be sent only for very special events, e.g. when something really severe happens. You may collect these severe errors in a special domain "/ADMIN" (real-time administration errors) and exclusively activate this domain for this Email-sending <em>Logger</em>.</p>
<h2><a class="anchor" id="man_logdomains_chars_allowed"></a>
1.1 Allowed Characters</h2>
<p>Domain names may only consist of the following characters:</p><ul>
<li>Upper case letters <code>'A'</code> to <code>'Z'</code> </li>
<li>Numbers <code>'0'</code> to <code>'9'</code> </li>
<li>Hyphen (<code>'-'</code>) and underscore (<code>'_'</code>)</li>
</ul>
<p>If one of this characters is used, ALox replaces this character with <code>#</code> (which, as stated above is otherwise equally not allowed) without further notice (no internal log statement is given). As a result, the provision of illegal domain names <code>"ABCa$)"</code> or <code>"ABC&lt;=&gt;"</code> will result in the same domain name <code>"ABC###"</code>.</p>
<h1><a class="anchor" id="man_logdomains_hierarchical_domains"></a>
2. Hierarchical Log Domains</h1>
<p>One of the major design goals of ALox is simplicity. By nature simplicity is sometimes in in competition with flexibility or feature richness of an API. One way to resolve such conflicting goals is to provide features that - if not wanted or needed or not even known - are invisible to the user. The concept of hierarchical <em>Log Domains</em> is a good sample of how this was achieved in the ALox API design.</p>
<p>Consider an application with a user interface. Within the code that implements the UI, a lot of <em>Log Statements</em> using different <em>Verbosities</em> may be embedded using <em>Log Domain</em> 'UI'. Depending on the complexity of an application, switching domain 'UI' to a more verbose level (by setting the <em>Verbosity</em> of <em>Log Domain</em> 'UI'), might already lead to a huge amount of <em>Log Statements</em>. Of-course, the solution is to split that domain into several ones, e.g. one for UI dialogs, one for manipulations of the main window, one for menu events and one for mouse interactions, etc. Therefore, splitting domains in sub-topics is a very common use case as soon as code becomes more complex. To support this use case, ALox organizes <em>Log Domains</em> hierarchically. The sample would lead to:</p>
<div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_2.svg" width="403" height="172"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<p>Every method in ALox that accepts a <em>Log Domain</em> as a parameter, a <b>domain path</b> can be used. Domains in a path are separated by character '/'. As soon as domain parameters contain path separators, the hierarchical domain system of ALox takes action.<br />
 The <em>Log Domains'</em> paths in our sample would be named:</p><ul>
<li>'/UI'</li>
<li>'/UI/DIALOGS'</li>
<li>'/UI/WINDOW'</li>
<li>'/UI/MENU'</li>
<li>'/UI/MOUSE'</li>
</ul>
<p>Setting the <em>Verbosity</em> of a <em>Log Domain</em> is always done recursively for all its sub-domains (and sub-sub-domains). Let us look at a sample, how an ALox user would setup the domain tree, when debugging.</p>
<p>First, he/she might decide to allow only error messages in general:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html#a6dab5611a4ba1574d65dfcdcb0f77cd9">DebugLogger</a>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Error,   <span class="stringliteral">&quot;/&quot;</span> ); <span class="comment">// could also just omit parameter &quot;/&quot;</span></div></div><!-- fragment --><p> As the interest is currently in domain '/UI/DIALOGS', he/she would first switch '/UI' to a <b>Verbosity</b> that logs <em>error</em>, <em>warning</em> and <em>info</em> statements and then switch sub-domain '/UI/DIALOGS/' to the most verbose level:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html#a6dab5611a4ba1574d65dfcdcb0f77cd9">DebugLogger</a>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info,    <span class="stringliteral">&quot;/UI&quot;</span> );</div><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html#a6dab5611a4ba1574d65dfcdcb0f77cd9">DebugLogger</a>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;/UI/DIALOGS&quot;</span> );</div></div><!-- fragment --><p> As such setting is always recursive, the order of setting domains is important. If the statements above were performed in reverse order:</p>
<div class="fragment"><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html#a6dab5611a4ba1574d65dfcdcb0f77cd9">DebugLogger</a>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;/UI/DIALOGS&quot;</span> );</div><div class="line"><a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html#a6dab5611a4ba1574d65dfcdcb0f77cd9">DebugLogger</a>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info,    <span class="stringliteral">&quot;/UI&quot;</span> );</div></div><!-- fragment --><p> the setting for domain '/UI/DIALOGS' to <em>All</em> would be overwritten by the setting of parent domain '/UI'.</p>
<dl class="section note"><dt>Note</dt><dd>In some situations, it might be wanted to be able to protect a domain setting and make it 'immune' against subsequent settings of parent domains. This is especially important when configuration is done 'outside' the source code, hence using configuration files, command line parameters and such, but could be also helpful otherwise. This protection mechanism is explained in chapter <a class="el" href="man_external_verbosity_configuration.html">13 - External Verbosity Configuration</a>.</dd></dl>
<p>The advantages of hierarchical domains so far are:</p><ul>
<li>You can control a whole set of domains with one statement</li>
<li>If parts of a software that is out of your control (other team, code in a library, etc.) introduces new <em>Sub-Log Domains</em>, no changes of <em>Verbosity</em> settings in your code parts need to be done (as long as you are not interested in directly manipulating this new sub-domain).</li>
</ul>
<p>But the real reason, why hierarchical domains drive the flexibility of ALox really to a next level, becomes only obvious in the next chapter!</p>
<h1><a class="anchor" id="man_logdomains_default_domains"></a>
3. Scope Domains</h1>
<p>People might argue that providing a <em>Log Domain</em> to each <em>Log Statement</em> is an overhead of typing. That is true. For this reason - and many more - ALox provides the concept of <em>Scope Domains</em>.</p>
<p><em>Scope Domains</em> are set using method <b>Lox.SetDomain</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Lox.html#a1b78fb31f62ec7e9f862417c5936e8ea">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a280572b2c652d82ed88598586a267635">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#afd6a91bb2c6eaee017b0ccbd4cccd447">Java</a>). This method, along with parameter <code>scopeDomain</code>, requires a parameter of type <b>Scope</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/enumcom_1_1aworx_1_1lox_1_1Scope.html">Java</a>) that determines the <b>'Scope'</b> that the given domain path should default to.</p>
<p>Such <em>Scope</em> is assembled of two parts: one part that is taken from the source code information that ALox collects at compile-time (in Java done at runtime) with each <em>Log Statement</em>. The other part is related to <b>the thread that is executing the <em>Log Statement</em></b>, hence is evaluated at runtime.</p>
<dl class="section attention"><dt>Attention</dt><dd>For this chapter, explaining the benefit of being able to assign <em>Scope Domains</em> to <em>Scopes</em>, we are simplifying ALox <em>Scope</em> features to a bare minimum. We are deferring the full explanation of possible <em>Scope</em> settings to chapter <a class="el" href="man_scopes.html">05 - Scopes in ALox</a>.</dd></dl>
<p>We start really simple and look at <b>Scope.Method</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6a4c3880bb027f159e801041b1021e88e8">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6a4c3880bb027f159e801041b1021e88e8">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/enumcom_1_1aworx_1_1lox_1_1Scope.html#a980085812d120b3761817608d332fecd">Java</a>) which denotes that the <em>Scope Domain</em> given with method <b>Lox.SetDomain</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Lox.html#a1b78fb31f62ec7e9f862417c5936e8ea">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#a280572b2c652d82ed88598586a267635">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#afd6a91bb2c6eaee017b0ccbd4cccd447">Java</a>) should apply to all <em>Log Statements</em> of the current method. Here is a sample:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> MyMethod()</div><div class="line">{</div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;/MYDOM&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;This log statment uses domain /MYDOM&quot;</span> );</div><div class="line">}</div></div><!-- fragment --><p>This sets the domain "/MYDOM" as the <em>Scope Domain</em> for this method. As a result, a <em>Log Statement</em> that does not provide a domain uses the <em>Scope Domain</em>. The output could be:</p>
<pre class="fragment">UT_dox_manual.cs(58):MyMethod()     [/MYDOM]: This log statment uses domain /MYDOM</pre><dl class="section note"><dt>Note</dt><dd>For this and the following samples, ALox' default meta information output was reduced.</dd></dl>
<p>We have already gained some advantages from this most simple use of a <em>Scope Domain</em></p><ol type="1">
<li>Less typing (we can omit the <em>Log Domain</em>)</li>
<li>Less <em>'clutter'</em> in the code, so better readability (<em>Log Statements</em> serve as comment lines)</li>
<li>When the <em>Log Domain</em> should be changed, this has to be done only at one point in the code</li>
<li>When code including <em>Log Statements</em> is copied and pasted into a different <em>Scope</em>, the <em>Log Domain</em> adjusts to the destination <em>Scopes'</em> <em>Scope Domain</em>.</li>
</ol>
<h1><a class="anchor" id="man_logdomains_absolut_and_relative"></a>
4. Absolute and Relative Domain Paths</h1>
<p>As we have learned above, the following two <em>Log Statements</em> are the same when a <em>Scope Domain</em> was set for <b>Scope.Method</b>:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> MyMethod()</div><div class="line">{</div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;/MYDOM&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info(           <span class="stringliteral">&quot;This log statment uses domain &#39;/MYDOM&#39;&quot;</span> );</div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;/MYDOM&quot;</span>, <span class="stringliteral">&quot;Of-course we can still use domains explicitly&quot;</span> );</div><div class="line">}</div></div><!-- fragment --><p> But we have to be careful! The following two <em>Log Statements</em> are <b>not</b> using the same <em>Log Domain</em>:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> MyMethod()</div><div class="line">{</div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;/MYDOM&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info(          <span class="stringliteral">&quot;This log statment uses domain &#39;MYDOM&#39;&quot;</span> );</div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;MYDOM&quot;</span>, <span class="stringliteral">&quot;Oooops, this goes to &#39;/MYDOM/MYDOM&#39;!&quot;</span> );</div><div class="line">}</div></div><!-- fragment --><p> As can bee seen in the output:</p>
<pre class="fragment">UT_dox_manual.cs(86):MyMethod()            [/MYDOM      ]: This log statment uses domain 'MYDOM'
UT_dox_manual.cs(87):MyMethod()            [/MYDOM/MYDOM]: Oooops, this goes to '/MYDOM/MYDOM'!</pre><p>The difference of the sample is that while we previously always used a '/' at the beginning of domains, now for parameter <code>domain</code> of the last <em>Log Statement</em> this was omitted. This caused ALox to concatenate the domain provided in the <em>Log Statement</em> with the <em>Scope Domain</em> set, to a new domain path.</p>
<p>This mechanism does not need too much further explanation, as this is similar to file system path usage: A <em>Log Domain</em> path starting with <b>'/'</b> is called an <b>absolute path</b> and one that omits the <b>'/'</b> character is called a <b>relative path</b>.<br />
</p>
<p>Same as with file system paths, a relative path can also be expressed with a single dot. As a Sample, domain paths <b>"DOM"</b> and <b>"./DOM"</b> are the same. The use of a leading extra 'dot'-domain in the path to signal relative domains is optional and probably a matter of taste.<br />
 More important is that ALox <em>Log Domains</em> also support two dots '<b>..</b>' in relative path names for addressing a parent domain. Later in this chapter, a sample for addressing a parent domain is shown.</p>
<p>While the previous sample code looked more like an erroneous use of a domain (resulting in domain '/MYDOM/MYDOM'), the following sample shows a use case of a relative domain path which absolutely makes sense:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> ReadChangeAndWriteBack()</div><div class="line">{</div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;/IO&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">    <span class="comment">// Reading file</span></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;READ&quot;</span>,   <span class="stringliteral">&quot;Reading file&quot;</span> );</div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <span class="comment">// Process file</span></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;PROCESS&quot;</span>,  <span class="stringliteral">&quot;Processing data&quot;</span> );</div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <span class="comment">// Writing file</span></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;./WRITE&quot;</span>,  <span class="stringliteral">&quot;Writing file&quot;</span> ); <span class="comment">// note relative-path-prefix &quot;./&quot;, same as if omitted (!)</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info(  <span class="stringliteral">&quot;Success!&quot;</span> );</div><div class="line">}</div></div><!-- fragment --><p> The output would be:</p>
<pre class="fragment">UT_dox_manual.cs(121):ReadChangeAndWriteBack()        [/IO/READ    ]: Reading file
UT_dox_manual.cs(127):ReadChangeAndWriteBack()        [/IO/PROCESS ]: Processing data
UT_dox_manual.cs(133):ReadChangeAndWriteBack()        [/IO/WRITE   ]: Writing file
UT_dox_manual.cs(138):ReadChangeAndWriteBack()        [/IO         ]: Success!</pre><h1><a class="anchor" id="man_logdomains_inner_outer_scopes"></a>
5. Inner and Outer Scopes</h1>
<p>The previous samples used <b>Scope.Method</b>. Another important <em>Scope</em> 'level' is <b>Scope.Filename</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6a1351017ac6423911223bc19a8cb7c653">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6a1351017ac6423911223bc19a8cb7c653">C#</a>), respectively in the Java version of ALox, <b>Scope.CLASS</b> (<a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/enumcom_1_1aworx_1_1lox_1_1Scope.html#ad5946acbc78d91b2bd0621fbf6a3c9a9">Java</a>).</p>
<p>As mentioned before, we are not going into the details of the extended <em>Scope</em> definition of ALox (those are given in <a class="el" href="man_scopes.html">05 - Scopes in ALox</a>), but what is very important to understand is that scopes are nested into each other. We talk about <em>outer scopes</em> and <em>inner scopes</em>. As you might guess, <b>Scope.Filename</b> (resp. in Java <b>Scope.CLASS</b>) is an outer <em>Scope</em> of <b>Scope.Method</b>.</p>
<p>Now, <em>Scope Domains</em> which can be set (or not) per <em>Scope</em> level, are concatenated to a complete domain path. ALox starts from the 'most inner' <em>Scope</em> and then prepends (!) the paths of outer <em>Scopes</em> as long as relative domain paths are given. In other words, as soon as an absolute path is found as a <em>Scope Domain</em> for a scope, the further concatenation of outer <em>Scopes'</em> <em>Scope Domains</em> is stopped.</p>
<p>We are using the same sample as above, but this time, the public interface method internally is split into different parts:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>IO</div><div class="line">{</div><div class="line">    <span class="comment">// static constructor, setting the Scope Domain for this file (class) once</span></div><div class="line">    <span class="keyword">static</span> IO()</div><div class="line">    {</div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;IO&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// interface</span></div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> ReadChangeAndWriteBack()</div><div class="line">    {</div><div class="line">        checkSetup();</div><div class="line">        read();</div><div class="line">        process();</div><div class="line">        write();</div><div class="line">        writeStats();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// private methods</span></div><div class="line">    <span class="keyword">private</span>  <span class="keywordtype">void</span> checkSetup()</div><div class="line">    {</div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;/CHECKS&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info(  <span class="stringliteral">&quot;Setup OK!&quot;</span> );</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keywordtype">void</span> read()</div><div class="line">    {</div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;READ&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info(<span class="stringliteral">&quot;Reading file&quot;</span> );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keywordtype">void</span> process()</div><div class="line">    {</div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;PROCESS&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;Processing data&quot;</span> );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keywordtype">void</span> write()</div><div class="line">    {</div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;./WRITE&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info( <span class="stringliteral">&quot;Writing file&quot;</span> );</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keywordtype">void</span> writeStats()</div><div class="line">    {</div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetDomain( <span class="stringliteral">&quot;../STATS&quot;</span>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">        <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.Info(  <span class="stringliteral">&quot;Statistics&quot;</span> );</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> The first important note on the source is that this class has a 'static constructor' which is executed exactly once for the life-time of the process and which sets the <em>Scope Domain</em> 'IO' for the entire class by using <b>Scope.Filename</b>.</p>
<dl class="section note"><dt>Note</dt><dd><b>For users of ALox for C++:</b><br />
 This is a C# sample. A static constructor in C# is executed automatically, once a class is first used. Similar semantics is available in the Java language.<br />
 In C++ one might come to the idea to implement this using a function whose result is assigned to a static variable. This would get executed in an 'automatic' fashion. But attention: this is <b>not allowed</b>. Generally, it is considered bad code style to use such static construction, because the language does not define the behavior properly and different compilers and operating systems (when initializing dynamic libraries) handle such static initialization differently. As a result, it is not assured if ALox and ALib itself are initialized, yet (the truth is, they are definitely not!).<br />
 Now, the good news is that ALox does not mind if a <em>Scope Domain</em> is set multiple times. So a first alternative is to put the statement just to the constructor of the class and have ALox execute it every time an instance of the class is created.<br />
 If it is a very time-critical constructor, invoked many times, one recommended way to implement a similar behavior in C++ as we have in C# and Java with static constructors is:<ul>
<li>Add a static boolean variable to the class with default value set to <code>false</code>, e.g. <br />
<code>bool isStaticallyInitialized= false;</code></li>
<li>In the (all) constructor(s) of the class check for this variable. If not set, invoke the <em>Scope Domain</em> setting for the source file and flag the boolean variable to <code>true</code>.</li>
<li>If all is related to pure debug-logging, wrap the variable definition and the initialization statements in each constructor into pairs of preprocessor directives<br />
 <code>#if defined(ALOX_DBG_LOG)</code><br />
 <code> ... </code><br />
 <code>#endif</code><br />
</li>
</ul>
</dd></dl>
<p>When sample method <em>ReadChangeAndWriteBack()</em> is executed, this output is generated:</p>
<pre class="fragment">UT_dox_manual.cs(174):checkSetup()      [/CHECKS    ]: Setup OK!
UT_dox_manual.cs(182):read()            [/IO/READ   ]: Reading file
UT_dox_manual.cs(189):process()         [/IO/PROCESS]: Processing data
UT_dox_manual.cs(196):write()           [/IO/WRITE  ]: Writing file
UT_dox_manual.cs(203):writeStats()      [/STATS     ]: Statistics</pre><p>With the takeaways from the features explained already in this chapter, the code is quite self-explanatory. Some remarks:</p><ul>
<li>As explained and observable in the output, relative domains are concatenated from inner scopes to outer scopes. Samples are the domains '/IO/READ', '/IO/PROCESS' and '/IO/WRITE'</li>
<li>Like in the previous sample, method <em>write()</em> volunteers to use prefix "./" to signal that the domain path is relative. This is a matter of taste and the result is the same as if this prefix was omitted like in methods <em>read()</em> and <em>process()</em>.</li>
<li>Method <em>checkSetup()</em> uses an <em>absolute</em> domain path for its <em>Scope</em>. This tells ALox to stop prepending any <em>Scope Domains</em> of outer <em>Scopes</em>.</li>
<li>Method <em>writeStats()</em> uses a <em>relative</em> domain path<em>starting</em> addressing the "../". parent domain. The effect is that the outer <em>Scope</em> domain "IO" is removed. The effective path is: '/IO/../STATS' which ALox of-course shortens to just '/STATS'.<br />
 Hence 'STATS' is a sub-domain of the root-domain, the same as domain 'CHECKS' is. Note that, if there were other <em>Scope Domains</em> in <em>Scopes</em> that are 'more outer' than <b>Scope.Filename</b>, the 'depth' of both domains would be different.</li>
</ul>
<p><br />
</p>
<p><br />
 </p>
<h1><a class="anchor" id="man_logdomains_further_wrapup"></a>
6. Further Information and Wrap-Up</h1>
<h2><a class="anchor" id="man_logdomains_bootstrap"></a>
6.1 Where to set the Verbosity</h2>
<p>The usual way to use ALox is to separate the code that sets the <em>Verbosity</em> of <em>Log Domains</em> into a single location, normally somewhere in the 'boot-strapping part of a process. This is probably the same location where the <em>Loggers</em> used and also <em>Lox</em> objects are created and configured.</p>
<p>It is of-course tempting to quickly (temporily) increase <em>the</em> Verbosity of the <em>Log Domain(s)</em> that a code unit uses while working on that code unit. Method <b>Lox.SetVerbosity</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Lox.html#a78d6d149b2be1a323243694826b09762">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#adf2c597f5476b71077fa93d8126631af">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#aa8b1df498e4a9039c9b9a958f2186a05">Java</a>), properly uses the current <em>Scope</em>, so that a statement like this: </p><div class="fragment"><div class="line">    <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.SetVerbosity( <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html">Log</a>.<a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Log.html#a6dab5611a4ba1574d65dfcdcb0f77cd9">DebugLogger</a>, <a class="codeRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/namespaceaworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;./&quot;</span> );</div></div><!-- fragment --><p>properly sets the evaluated <em>Scope Domain</em>. However, if such code lines are inserted, they should be duly marked as 'temporary' and 'to-be-removed'.</p>
<p>Especially when working in a team, it is even more convenient to not even set the <b>Verbosity</b> of any domain from within the code, but by using external configuration data. </p><dl class="section note"><dt>Note</dt><dd>To keep this chapter as simple as possible, all samples herein exclusively used the method <em>Lox.SetVerbosity</em> and you may not even have heard, yet, about other possibilities. Information about how ALox is configured externally, is completely separated into an own chapter of this manual: <a class="el" href="man_external_verbosity_configuration.html">13 - External Verbosity Configuration</a>.</dd></dl>
<p>The separation has good reasons: A portion of the code that logs using a certain set of domains should not modify these <em>Log Domains' Verbosity</em>. One day such code could be moved into a library and then such changes are merely irreversible (well, in-fact this misbehavior can be 'healed', but this is also only explained in chapter <a class="el" href="man_external_verbosity_configuration.html">13 - External Verbosity Configuration</a>).</p>
<h2><a class="anchor" id="man_logdomains_recursive"></a>
6.2 Why Does Verbosity Setting Always Work Recursively?</h2>
<p>It was explained in section <a class="el" href="man_logdomains.html#man_logdomains_hierarchical_domains">Hierarchical Log Domains</a>, that setting the <em>Verbosity</em> is always done recursively for all sub-domains of the given <em>Log Domain</em>. The reason for this is to avoid 'random' settings as much as possible.</p>
<p>For convenience, <em>Log Domains</em> do not need to be 'registered' with ALox. As soon as an unknown <em>Log Domain</em> is used in a <em>Log Statement</em>, ALox creates a reference to this <em>Log Domain</em> and for each <em>Logger</em> in the corresponding <em>Lox</em> the <em>Verbosity</em> of the parent <em>Log Domain</em> is inherited.</p>
<p>Now, if a <em>Log Domain</em> setting was allowed to be non-recursive, the setting of a sub-domain could have different values:</p><ul>
<li>If it was known to ALox already (because it was used in a <em>Log Statement</em>), it would keep the <em>Verbosity</em> that it previously received by implicitly inheriting from its parent.</li>
<li>If it was implicitly registered with ALox after such non-recursive setting, it would still inherit its parents setting.</li>
</ul>
<p>Therefore, the order of the use of a <em>Log Domain</em> would decide about its <em>Verbosity</em>.</p>
<p>One of ALoxs' design goals is to hide features that are not used and which are unnecessarily increasing complexity of using ALox if they are not needed (Further explained in <a class="el" href="man_apdx_auto_config.html">II - ALox Auto-Configuration and Orthogonality</a>). For this reason, within this chapter of the manual (which is all about understand what domains <em>Log Domain</em> just are), a parameter of method <b>Lox.SetVerbosity</b> (<a class="elRef" doxygen="ALox/html/cpp_ref/cpp_ref.tag:./cpp_ref/" href="./cpp_ref/classaworx_1_1lox_1_1Lox.html#a78d6d149b2be1a323243694826b09762">C++</a>, <a class="elRef" doxygen="ALox/html/cs_ref/cs_ref.tag:./cs_ref/" href="./cs_ref/classcs_1_1aworx_1_1lox_1_1Lox.html#adf2c597f5476b71077fa93d8126631af">C#</a>, <a class="elRef" doxygen="ALox/html/java_ref/java_ref.tag:./java_ref/" href="./java_ref/classcom_1_1aworx_1_1lox_1_1Lox.html#aa8b1df498e4a9039c9b9a958f2186a05">Java</a>) that can be omitted because it has a default value, was not even named. Using this parameter allows to restrict the setting of the <em>Verbosity</em> of to a domain and and allows to include arbitrary sets of sub-domains or not, by assigning a priority to each <em>Verbosity</em> setting.</p>
<p>Apart from lifting the always recursive <em>Verbosity</em> setting, the main motivation for introducing this concept resulted from the general need to prioritize conflicting settings which may come from different sources of configuration data. Therefore, if non-recursive settings are needed for any reason, refer to chapter <a class="el" href="man_external_verbosity_configuration.html">13 - External Verbosity Configuration</a> for explanations about how to achieve this.</p>
<h2><a class="anchor" id="man_logdomains_absorrel"></a>
6.3 Absolute or Relative Domain Paths?</h2>
<p>As we learned, ALox allows to use absolute or relative <em>Log Domain</em> paths. This is true for <em>Scope Domains</em> as well as for parameter <code>domain</code> in a <em>Log Statement</em>.</p>
<p>The general recommendation is to use relative paths. There are several advantages which all arise from the fact that ALox assembles the <em>Scope Domain</em> path by looping through all <em>Scopes</em> from the most inner to the most outer. As soon as an absolute path is found, the loop is aborted and concatenation stops. The benefits of keeping all <em>Log Domain</em> paths relative are highlighted in the next chapter (<a class="el" href="man_scopes.html">05 - Scopes in ALox</a>) when all about <em>Scopes</em> is explained - including an important use case that justifies absolute <em>Log Domain</em> paths!</p>
<h2><a class="anchor" id="man_logdomains_internal"></a>
6.4 ALox Internal Log Domains</h2>
<p>ALox uses 'itself' to log information about its use. This is helpful e.g. to observe where and when a <em>Log Domain</em> is used for the first time or where and when a <em>Verbosity</em> setting is performed.</p>
<p>To keep the 'tree of <em>Log Domains</em>' clean and reserved exclusively for application specific <em>Log Domains</em> and to avoid accidental activation of internal log messages, ALox manages the internal <em>Log Domains</em> in a separated tree.</p>
<p>Information about how to 'address' this tree and when to use it, is explained in chapter <a class="el" href="man_internal_domains.html">11 - Internal Logging</a>.</p>
<p><br />
 </p><hr/>
 <center>Next chapter: <a class="el" href="man_scopes.html">05 - Scopes in ALox</a> </center> <center> <a class="el" href="manual.html">Back to index</a> </center> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.12-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 13 2017 18:48:02 for ALox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
<!-- Start of StatCounter Code e -->
<script type="text/javascript">
var sc_project=11242602;
var sc_invisible=1;
var sc_security="5ac13373";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web statistics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11242602/0/5ac13373/1/" alt="web
statistics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>
