<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ALox Java Reference: ALox for Java Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="java_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="A-Worx-Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALox Java Reference
   &#160;<span id="projectnumber">V. 1.1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../index.html"><span>ALox&#160;Home</span></a></li>
      <li><a href="../faq.html"><span>FAQ</span></a></li>
      <li><a href="../manual.html"><span>Manual</span></a></li>
      <li><a href="setup_projects_java.html"><span>IDE&#160;Setup</span></a></li>
      <li><a href="tutorial_java.html"><span>Tutorial</span></a></li>
      <li><a href="annotated.html"><span>Class&#160;Ref.</span></a></li>
      <li><a href="https://github.com/AlexWorx/ALox-Logging-Library"><span>Download</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ALox for Java Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tutjava_hello_alox">1. Hello ALox</a><ul><li class="level2"><a href="#tutjava_createproject">1.1 Create a tutorial project or equip your current project with ALox</a></li>
<li class="level2"><a href="#tutjava_ha1">1.2. Create an instance of class "ConsoleLogger"</a></li>
<li class="level2"><a href="#tutjava_ha_3">1.3. Add code to create and set a *log domain*</a></li>
<li class="level2"><a href="#tutjava_ha_4">1.4. Add log code</a></li>
<li class="level2"><a href="#tutjava_ha_5">1.5. Run your application</a></li>
</ul>
</li>
<li class="level1"><a href="#tutjava_llld">2. Log levels and log domains</a><ul><li class="level2"><a href="#tutjava_llld_1">2.1. Log code with different log levels</a></li>
<li class="level2"><a href="#tutjava_llld_2">2.2. Default domains</a></li>
<li class="level2"><a href="#tutjava_llld_3">2.3. Where to place ALox log code</a></li>
</ul>
</li>
<li class="level1"><a href="#tutjava_more">3. Some more Details</a><ul><li class="level2"><a href="#tutjava_more_1">3.1 Stop reading here?</a></li>
<li class="level2"><a href="#tutjava_more_logbuf">3.2 Using the log buffer singleton</a></li>
<li class="level2"><a href="#tutjava_more_conditional">3.3 Conditional logging</a></li>
<li class="level2"><a href="#tutjava_more_logtools">3.4 LogTools: Log complex things easily</a><ul><li class="level3"><a href="#tutjava_more_logtools_instance">3.4.1 Instance(): Log any object recursively</a></li>
<li class="level3"><a href="#tutjava_more_logtools_exception">3.4.2 Exception(): Log an exception recursively (with inner exceptions)</a></li>
</ul>
</li>
<li class="level2"><a href="#tutjava_more_indentation">3.5 Indentation</a></li>
<li class="level2"><a href="#tutjava_more_seplog">3.6 Directing log output to distinct loggers</a></li>
<li class="level2"><a href="#tutjava_more_config">3.7 ALox configuration and internal log messages</a></li>
</ul>
</li>
<li class="level1"><a href="#tutjava_end">Further reading</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="tutjava_hello_alox"></a>
1. Hello ALox</h1>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_createproject"></a>
1.1 Create a tutorial project or equip your current project with ALox</h2>
<p>If you want to follow the tutorial samples and play around with it a little, you should either create a tutorial project or right away equip your current project with ALox.</p>
<p>For information about how you do that see: <a class="el" href="setup_projects_java.html">Setup your IDE for Java Projects</a>.</p>
<dl class="section note"><dt>Note</dt><dd>You can easily skip this step and just continue reading the tutorial without setting up ALox now.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_ha1"></a>
1.2. Create an instance of class "ConsoleLogger"</h2>
<p>First our project needs to create an instance of class <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> that enables log output to the application console as well as to the "console" or "output" window of your preferred IDE. You need to identify the right place in your application. This could be the "main()" method or any other place where some "bootstrapping" of your application takes place.</p>
<p>Once you have identified the right place, add the following statements to the "using section* of your source file:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1aworx.html">aworx</a>.<a class="code" href="namespacecom_1_1aworx_1_1lox.html">lox</a>.*;</div>
<div class="line"><span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1aworx.html">aworx</a>.<a class="code" href="namespacecom_1_1aworx_1_1lox.html">lox</a>.<a class="code" href="namespacecom_1_1aworx_1_1lox_1_1loggers.html">loggers</a>.*;</div>
<div class="line"><span class="keyword">import</span> <a class="code" href="namespacecom.html">com</a>.<a class="code" href="namespacecom_1_1aworx.html">aworx</a>.<a class="code" href="namespacecom_1_1aworx_1_1lox.html">lox</a>.<a class="code" href="namespacecom_1_1aworx_1_1lox_1_1tools.html">tools</a>.<a class="code" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html">LogTools</a>;</div>
</div><!-- fragment --><p> Now return to the place you identified where the initialization of the <em>logger</em> should take place and add the following:</p>
<div class="fragment"><div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
</div><!-- fragment --><p> A <em>logger</em> of type <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> is created and added to the static interface class <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html">Log</a>. For now, we can forget about the class ConsoleLogger. After it was created, we do not touch it directly for the rest of this introductory tutorial. As you might guess, other Loggers could be added in parallel that write the output to other "drains", e.g. log files.</p>
<dl class="section note"><dt>Note</dt><dd>For Android developers: To stream ALox logging into LogCat create a logger of type <a class="el" href="classcom_1_1aworx_1_1lox_1_1android_1_1AndroidLogCatLogger.html">AndroidLogCatLogger</a> instead of type <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> as follows: <div class="fragment"><div class="line">Log.addLogger( <span class="keyword">new</span> AndroidLogCatLogger() );</div>
</div><!-- fragment --> <br />
 The normal <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> would not produce any visible output using the Android Emulator or a debugging device.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_ha_3"></a>
1.3. Add code to create and set a *log domain*</h2>
<p>Just after the line we just inserted, add a second line of code:</p>
<div class="fragment"><div class="line">    Log.setDomain( <span class="stringliteral">&quot;APP&quot;</span>,   Log.DomainLevel.INFO_WARNINGS_AND_ERRORS );</div>
</div><!-- fragment --><p>This tells ALox about a <em>log domain</em> called "APP" and assigns the <em>log domain level</em> InfoWarningsAndErrors to it. If you did not understand too much of the last sentence, don't worry, the concepts of <em>log domains</em> and <em>log levels</em> will get very obvious to you in 5 minutes.</p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_ha_4"></a>
1.4. Add log code</h2>
<p>Just after the line we just inserted, add a third line of code:</p>
<div class="fragment"><div class="line">    Log.info( <span class="stringliteral">&quot;APP&quot;</span>,    <span class="stringliteral">&quot;Hello ALox&quot;</span> );</div>
</div><!-- fragment --><p> This is now your first log output! The whole three lines you inserted into your application (besides the using statement) should look like this:</p>
<div class="fragment"><div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;APP&quot;</span>,   Log.DomainLevel.INFO_WARNINGS_AND_ERRORS );</div>
<div class="line"></div>
<div class="line">    Log.info( <span class="stringliteral">&quot;APP&quot;</span>,    <span class="stringliteral">&quot;Hello ALox&quot;</span> );</div>
</div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="tutjava_ha_5"></a>
1.5. Run your application</h2>
<p>Run your application in "Debug" mode. In the console window of your IDE (or on your JAVA console window) you should see a line of output similar to this:</p>
<pre class="fragment">(Tests_Tutorial.java:86) Tut_Hello_ALox(): [00:00.000 +344 µs] [main(1)]       [APP]: Hello ALox</pre><p>If using Eclipse, close your source file window. In the console window a portion of the output line should be blue and clickable. When you click it, Eclipse opens the source and selects the line of code where the log call was invoked! This means, each log statement is "clickable" in your IDE and links to its source code line in the editor. This is a tremendous help for developers when debugging their code.</p>
<p>Besides the fact that you can click it, users of ALox are saving even more time. Developers, when using standard "debug print lines", often phrase textual info like </p><pre class="fragment">    "attn: dbman.savedata(): oops could not store data....ERROR!"
</pre><p>putting some info about the place in the code, where they have put the debug statements. As you see from the ALox output above, information about the <em>caller</em> of the log statement is all included automatically. Advantages are:</p>
<ul>
<li>lines are clickable and link to the editor (because ALox formats the caller information accordingly)</li>
<li>less to type when adding debug print lines</li>
<li>no change needed when you copy/paste a debug print line to a different class/method or when you rename your class/method</li>
</ul>
<p>As we will see later, the log message type (which seems to be "ERROR!" in the phrase above) is standardized in ALox and does not need to be phrased in your message text.</p>
<p>Besides caller information and message type, you automatically get:</p>
<ul>
<li>the relative time of the log execution (time since application started)</li>
<li>the time elapsed since the last log</li>
<li>the ID of the thread that executed the method</li>
<li>the <em>log domain</em> of your log statement</li>
</ul>
<p>The output format and detail of the log line is configurable in ALox. The line above just shows the default. Details you see can be removed or other details can be added (e.g. the absolute date / time instead of only the relative).</p>
<dl class="section note"><dt>Note</dt><dd>You should adjust your Java IDE in a way that the console window spans over the complete width of the main window. Also, depending on your screen size, you might decrease the font size of the output window a little. The output gets wide, because a lot of valuable information is logged besides the log message. In addition, the output is organized in columns that auto adjust their size taking a wider output into account.*</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="tutjava_llld"></a>
2. Log levels and log domains</h1>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_llld_1"></a>
2.1. Log code with different log levels</h2>
<p>Switch back to the Debug configuration. The code above uses the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a708d83da58cf7eac55373101ed7fca02">Log.info()</a> to create the log output. There are three other Versions of that method, together constituting the four "log levels":</p>
<ul>
<li><a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">error()</a></li>
<li><a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aedf486a4ad185f3affdef48fbb4c8262">warning()</a></li>
<li><a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a708d83da58cf7eac55373101ed7fca02">info()</a></li>
<li><a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#af3057efb28c59cca2a83abf0fc30c757">verbose()</a></li>
</ul>
<p>Each of the methods accepts the <em>log domain</em> ( in our sample "App") and the log message as input parameters. Internally all four methods differ only by using a different <em>log level</em>. The tricky thing that needs to be understood is that such <em>log level</em> is compared with the <em>log domain level</em> that the domain currently is assigned to. In our sample code, with the second line of code:</p>
<div class="fragment"><div class="line">    Log.setDomain( <span class="stringliteral">&quot;APP&quot;</span>,   Log.DomainLevel.INFO_WARNINGS_AND_ERRORS );</div>
</div><!-- fragment --><p> we have assigned <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">InfoWarningsAndErrors</a> to the domain "APP". The possible domain log levels are:</p>
<ul>
<li><a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">OFF </a></li>
<li><a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">ERRORS </a></li>
<li><a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">WARNINGS_AND_ERRORS </a></li>
<li><a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">INFO_WARNINGS_AND_ERRORS</a></li>
<li><a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">ALL </a></li>
</ul>
<p>Let us extend our sample code and see what happens. Replace the last line (the log call) by four different log calls and let your code look like this:</p>
<div class="fragment"><div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;APP&quot;</span>,   Log.DomainLevel.INFO_WARNINGS_AND_ERRORS );</div>
<div class="line"></div>
<div class="line">    Log.error  ( <span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;A severe error happened :-(&quot;</span> );</div>
<div class="line">    Log.warning( <span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;This is a warning :-/ Maybe an error follows?&quot;</span> );</div>
<div class="line">    Log.info   ( <span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;Just for your further information!&quot;</span> );</div>
<div class="line">    Log.verbose( <span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;Today, I am in the mood to talk...&quot;</span> );</div>
</div><!-- fragment --><p> If you run your application now (in "Debug" mode), the following output should appear:</p>
<pre class="fragment">(Tests_Tutorial.java:106) Tut_LogLevels(): [00:00.000 +351 µs] [main(1)] [ERR] [APP]: A severe error happened :-(
(Tests_Tutorial.java:107) Tut_LogLevels(): [00:00.000 +044 µs] [main(1)] [WRN] [APP]: This is a warning :-/ Maybe an error follows?
(Tests_Tutorial.java:108) Tut_LogLevels(): [00:00.000 +038 µs] [main(1)]       [APP]: Just for your further information!</pre><p>As you see, the last line of our code, containing the <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#af3057efb28c59cca2a83abf0fc30c757">verbose()</a> log statement was not logged! This is because in line two of the code of we set the <em>log domain level</em> to <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">WARNINGS_AND_ERRORS</a>. This tells the logging system that logs implemented with the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#af3057efb28c59cca2a83abf0fc30c757">verbose()</a> are not to be logged.</p>
<p>The following table lists the domain log levels in the columns and the <em>log level</em> in the rows and shows which log levels are activated when a certain <em>log domain level</em> is set:</p>
<table  border="1">
<tr>
<td><center>Domain Level / Log Level</center> </td><th width="100">VERBOSE </th><th width="100">INFO </th><th width="100">WARNING </th><th width="100">ERROR  </th></tr>
<tr>
<td><b><center>OFF</center></b> </td><td><center>No</center> </td><td><center>No</center> </td><td><center>No</center> </td><td><center>No</center> </td></tr>
<tr>
<td><b><center>ERRORS</center></b> </td><td><center>No</center> </td><td><center>No</center> </td><td><center>No</center> </td><td><center>Yes</center>  </td></tr>
<tr>
<td><b><center>WARNINGS_AND_ERRORS</center></b> </td><td><center>No</center> </td><td><center>No</center> </td><td><center>Yes</center> </td><td><center>Yes</center>  </td></tr>
<tr>
<td><b><center>INFO_WARNINGS_AND_ERRORS</center></b> </td><td><center>No</center> </td><td><center>Yes</center> </td><td><center>Yes</center> </td><td><center>Yes</center>  </td></tr>
<tr>
<td><b><center>ALL</center></b> </td><td><center>Yes</center> </td><td><center>Yes</center> </td><td><center>Yes</center> </td><td><center>Yes</center> </td></tr>
</table>
<p>Fairly easy, right? To summarize, the above paragraph introduced you to the concepts of:</p><ol type="1">
<li><em>Log domains</em> as a parameter of the four log methods <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">error()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">warning()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">info()</a> and <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">verbose()</a></li>
<li><em>Log domain levels</em> that are assigned to <em>log domains</em> as values of <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">Log.DomainLevel</a> at runtime using the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain()</a></li>
<li><em>Log levels</em> that are assigned to each log statement in your code by choosing the right log method.</li>
</ol>
<p>Now, you should understand how the comparison of the <em>log domain level</em> and the <em>log level</em> decides about whether a log is executed or not.</p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_llld_2"></a>
2.2. Default domains</h2>
<p>If you already liked the tiny code that is necessary to implement ALox Logging, then you will appreciate this section, because we want to make it even smaller. Replace the code you added to your project so far by this one:</p>
<div class="fragment"><div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;APP&quot;</span>, Log.Scope.PACKAGE );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;APP&quot;</span>, Log.DomainLevel.INFO_WARNINGS_AND_ERRORS );</div>
<div class="line"></div>
<div class="line">    Log.error  ( <span class="stringliteral">&quot;A severe error happened :-(&quot;</span> );</div>
<div class="line">    Log.warning( <span class="stringliteral">&quot;This is a warning :-/ Maybe an error follows?&quot;</span> );</div>
<div class="line">    Log.info   ( <span class="stringliteral">&quot;Just for your further information!&quot;</span> );</div>
<div class="line">    Log.verbose( <span class="stringliteral">&quot;Today, I am in the mood to talk...&quot;</span> );</div>
</div><!-- fragment --><p> The output now is:</p>
<pre class="fragment">(Tests_Tutorial.java:127) Tut_DefaultDomains(): [00:00.001 +001 ms] [main(1)] [ERR] [APP]: A severe error happened :-(
(Tests_Tutorial.java:128) Tut_DefaultDomains(): [00:00.002 +480 µs] [main(1)] [WRN] [APP]: This is a warning :-/ Maybe an error follows?
(Tests_Tutorial.java:129) Tut_DefaultDomains(): [00:00.002 +040 µs] [main(1)]       [APP]: Just for your further information!</pre><p>OK, you might argue, the code became longer: We added line 2, which invokes <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a9e2d6bea9756b5764192c7be262633f1">Log.regDomain</a>. This method registers the domain with ALox (the same as <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain</a> obviously does implicitly) and offers the possibility to set the given domain name as the default domain for the actual <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1Scope.html">Scope</a> (package, class or method).</p>
<p>What becomes less code however are the log statements <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">error()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">warning()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">info()</a> and <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">verbose()</a>. They do not need to have the domain as a parameter any more! This provides the following advantages:</p><ul>
<li>less typing</li>
<li>easier reading</li>
<li>you can just copy/paste your log lines to different sources, without adjusting the <em>log domain</em> (done automatically)</li>
<li>you can change the name of the domain by changing it in a single place.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li><em>You can still use the log methods including the parameter to overwrite the default domain</em></li>
<li><em>You can address "sub domains" relatively to your default domain within a source that got a default domain</em> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>For further reading on domains and <em>sub domains</em>, see <a href="../man_levelsanddomains.html">corresponding chapter</a> in the ALox user Manual.</dd></dl>
<p>To be honest, both functions, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a9e2d6bea9756b5764192c7be262633f1">Log.regDomain</a> and <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain</a> are not needed, so the shortest code to do ALox logging in your code could be:</p>
<div class="fragment"><div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
<div class="line">    Log.info  ( <span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;Hallo ALox&quot;</span> );</div>
</div><!-- fragment --><p> Which produces the output:</p>
<pre class="fragment">(Tests_Tutorial.java:141) Tut_DefaultDomains(): [00:00.000 +187 µs] [main(1)] [***] [APP]: Logger 'CONSOLE': log domain 'APP' not found. Created. Inherited domain level is: All 
(Tests_Tutorial.java:141) Tut_DefaultDomains(): [00:00.000 +187 µs] [main(1)]       [APP]: Hallo ALox</pre><p>From this example we learn that <em>log domains</em> which are neither registered with <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a9e2d6bea9756b5764192c7be262633f1">Log.regDomain</a> nor set with <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain</a> do not cause any problem. ALox just creates them on the fly and continues its job.</p>
<p>The <em>domain level</em> that such <em>unknown</em> domains receive is inherited through the domain chain up to the root domain. The root domain is a field existing in each <em>logger</em>. By default the root domain of a <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> has its <em>domain level</em> set to <em>All</em>. This is extremely useful, because whenever you are using 3rd party code that defines its custom domain names, you can easily identify those domains in your console window log stream. In contrast, other loggers that you create for specific purposes (e.g. log only messages of certain domains into a file), do not enable <em>unknown</em> domains as a default. Therefore, these special purpose loggers stay clean and log only what you explicitly ask them to log.</p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_llld_3"></a>
2.3. Where to place ALox log code</h2>
<p>As we now know a bit about <em>log domains</em>, we can briefly talk about where to add ALox statements in your code. In the standard application setup, there are three places, plus an optional fourth one.</p>
<h3>1) Create Loggers and define domain levels in <b>the bootstrap section</b> of your application</h3>
<p>When your application loads, as early in the lifecycle as possible, you usually want to create your loggers and set some <em>log domain level</em> values for a selected <em>log domain</em>.</p>
<p>A good place is the <b>main()</b> method or whatever the earliest entry point to your code is.</p>
<p>Code for this section would look like this:</p>
<div class="fragment"><div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
<div class="line"></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;MYAPP&quot;</span>,     Log.DomainLevel.ALL);</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;SOCKETS&quot;</span>,   Log.DomainLevel.WARNINGS_AND_ERRORS );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;UI&quot;</span>,        Log.DomainLevel.ERRORS );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;UI/DLGS&quot;</span>,   Log.DomainLevel.INFO_WARNINGS_AND_ERRORS );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;3DCALC&quot;</span>,    Log.DomainLevel.OFF  );</div>
</div><!-- fragment --><p> Of course, you can add and remove loggers anywhere in your code. Also, you can modify <em>domain log levels</em> later at runtime as you please.</p>
<dl class="section note"><dt>Note</dt><dd>This is also a good place to configure your log output the way you prefer it. Some hints how to do that are <a href="../man_loggers.html#man_loggers_textlogger">given here</a>.</dd></dl>
<h3>2) Register Domains in static initializers of your classes</h3>
<p>Java allows classes to have static initializers that are executed exactly once (in the moment when either the first object of that class type is created or a static member of that class is accessed). It is a good practice to add code that registers exactly those <em>log domains</em> that a class is using by adding a static constructor and using <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a9e2d6bea9756b5764192c7be262633f1">Log.regDomain</a> to perform the registrations.</p>
<p>Here is an example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// static initializer to register log domains</span></div>
<div class="line">    <span class="keyword">static</span>  </div>
<div class="line">    {</div>
<div class="line">        Log.regDomain( <span class="stringliteral">&quot;MYDOM&quot;</span>,         Log.Scope.PACKAGE );        </div>
<div class="line">        Log.regDomain( <span class="stringliteral">&quot;MYDOM/PERF&quot;</span>,    Log.Scope.NONE);        </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Here comes the class</span></div>
<div class="line">    <span class="comment">//...</span></div>
<div class="line">    <span class="comment">//...</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd><ul>
<li>While a domain needs to be registered only once, it does not 'hurt' to register domains multiple times.</li>
<li>If you want to set a domain as default for several packages, you have to choose at least one class of each package and add a static initializer to it as described above.</li>
<li>If you set different default domains with <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1Scope.html">Scope.PACKAGE</a> within different static initializers of classes that reside in the same package, then it becomes quite random which domain is chosen (the one whose static initializer is invoked latest). The good new is: if a different domain for a package gets registered, ALox provides a warning log message.</li>
</ul>
</dd></dl>
<h3>3) Add log messages anywhere in your code</h3>
<p>The third part is obvious: you add log statements in your code as you please. Looking at the above sample class, we register two domains "MYDOM" and its sub domain* "PERF". Consider the <em>sub domain</em> "PERF" is used for performance log statements Somewhere in the class a method <b>heavyCalculation()</b> is invoked. A typical use of ALox would look like this:</p>
<div class="fragment"><div class="line">    Log.info( <span class="stringliteral">&quot;MYDOM/PERF&quot;</span>, <span class="stringliteral">&quot;Heavy calculation started...&quot;</span> );       </div>
<div class="line">        heavyCalculation();</div>
<div class="line">    Log.info( <span class="stringliteral">&quot;MYDOM/PERF&quot;</span>, <span class="stringliteral">&quot;Heavy calculation finished!&quot;</span> );        </div>
</div><!-- fragment --><p> In the log output of the second line you automatically get the absolute value of elapsed time displayed. There is no need to do your own math with the timestamps. In fact, the value is displayed in a human readable way, depending on the size of the time span. (Other date and time outputs, like current date or absolute time can be configured to be logged as well, see class <a class="el" href="classcom_1_1aworx_1_1lox_1_1core_1_1TextLogger.html">TextLogger</a> for more information).</p>
<dl class="section note"><dt>Note</dt><dd>In above code sample, of-course, there is no need to indent heavyCalculation() between the two log statements, but doesn't this look nice and intuitive?*</dd></dl>
<p>As "PERF" is a <em>sub domain</em> of "MYDOM" and "MYDOM" got set as the <em>default domain</em> for the source file, the domain "MYDOM/PERF" could be also referenced using "~PERF". The code then looks like this:</p>
<div class="fragment"><div class="line">    Log.info( <span class="stringliteral">&quot;~PERF&quot;</span>, <span class="stringliteral">&quot;Heavy calculation started...&quot;</span> );        </div>
<div class="line">        heavyCalculation();</div>
<div class="line">    Log.info( <span class="stringliteral">&quot;~PERF&quot;</span>, <span class="stringliteral">&quot;Heavy calculation finished!&quot;</span> );     </div>
</div><!-- fragment --><p> Advantages of this approach are:</p><ul>
<li>less typing</li>
<li>you can copy/paste the code into a different class (with a different parent domain) without changing it.</li>
</ul>
<h3>4) Name your threads</h3>
<p>The fourth and really optional one is about multi threaded applications. ALox optionally logs information about the id and name of the thread that executed the code containing your log statements.</p>
<p>However often threads do not have a nice name. It would be much nicer to see a readable name instead. ALox provides a simple mechanism to overwrite thread names using <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a27ee41504fb6fa09f85be146153f63aa">Log.mapThreadName</a> interface.</p>
<p>The mechanism is simple, however it might not be simple to identify the right place in the code to put it! Some code can be executed from different threads, and sometimes (for example when using an UI framework) you might not even know exactly which thread will invoke your code. However, the good news is that each thread ID has to be mapped only once during the lifecycle of the program, but may be mapped multiple times. Therefore, the guideline is:</p>
<ul>
<li>Identify a piece of code from which you are sure that only one certain thread invokes that code.</li>
<li>Make sure that this code is not executed frequently to avoid the mapping overhead.</li>
<li>Make sure that this code is executed early in the lifecycle of your application.</li>
</ul>
<p>For the sample of UI Frameworks, a good place to invoke <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a27ee41504fb6fa09f85be146153f63aa">Log.mapThreadName</a> is the initial creation callback of your main application UI component. Normally, it is enough to put this statement only in one component (the main one), because all other components will be initialized by the same Framework thread.</p>
<p>But as this is a convenience concept anyhow, it is good practice to not care too much about it at first. Later, when your application grows, you can check your log files periodically for new, unmapped thread IDs. When you see one, scroll up in the log file and try to identify the very first appearance of this new ID. A double click in the log line will open the code that invoked the log. If you have populated your code with a reasonable amount of log entries, you will end up at the right place automatically! It also might be a good idea to restart your app with all domains set to verbose level and then look for the first appearances of unknown threads.</p>
<p><br />
 </p>
<h1><a class="anchor" id="tutjava_more"></a>
3. Some more Details</h1>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_1"></a>
3.1 Stop reading here?</h2>
<p>Developers are often in a hurry and reading tutorials is time consuming. If you are only using the part of ALox the tutorial has covered up to this point you should already benefit a lot from the ALox library and your programmer's life should have become easier and more fun.</p>
<p>A-Worx (the maker of ALox) is a consultant to the software industry and one area of competence is code style and code cleanness (sorry, we don't want to be advertising here). Therefore, we emphasize our clients to stop using <em>temporary debug print lines</em> in their sources. Instead, use ALox (or a similar tool) and all your debug output lines should be implemented tidy and clean using a nice language. With ALox, such debug output should never be temporary again and as such never be removed from the code! Programmers often remove debug output after they think a piece of code works. But if problems arise or if the code is further extended at a later stage, similar lines are inserted and re-written. This is obviously a waste of time. With ALox, you just disable certain log domains for which you think the code is fine and be able to reactivate them (with different verbose levels) in the moment your interest moves back to it!</p>
<p>If you want and have the time to continue reading, you are invited to learn more pretty neat features. Here we go!</p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_logbuf"></a>
3.2 Using the log buffer singleton</h2>
<p>In many occasions, a log message consists of a string that is assembled from strings and values. Creating such strings is time consuming. It would not hurt too much, but in addition on some ALox platform/language implementations, when creating a release binary, the auto-pruning process would omit the creation code of such strings, so they would still exist. Besides correct pruning handling and general speed considerations even in the debug version, the third motivation for using the internal log buffer singleton is that it is quite handy! ALox provides it in classes <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html">Log</a> and <a class="el" href="classcom_1_1aworx_1_1lox_1_1Lox.html">Lox</a> where it can be acquired using <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a53c5060b0096f40c1001f96ff7ba80de">Log.buf()</a> respectively <a class="el" href="classcom_1_1aworx_1_1lox_1_1Lox.html#a443cb85820239541d45f3d05477fa832">Lox.buf()</a>.</p>
<p>"Acquired" here means, that when retrieved, internally a mutex (see <a class="el" href="classcom_1_1aworx_1_1util_1_1ThreadLock.html">ThreadLock</a>) is locked. The mutex is released in the moment the buffer is passed into one of the log methods.</p>
<p>Look at the following sample code:</p>
<div class="fragment"><div class="line">    <span class="comment">//  Create logger and register domain LOGBUF</span></div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger(), Log.DomainLevel.WARNINGS_AND_ERRORS );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;LOGBUF&quot;</span>, Log.Scope.METHOD );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;LOGBUF&quot;</span>, Log.DomainLevel.ALL );</div>
<div class="line">            </div>
<div class="line">    <span class="comment">//  Let&#39;s do some logging using the internal buffer singleton;</span></div>
<div class="line">    Log.info( Log.buf().append( <span class="stringliteral">&quot;Hallo Buf!. This is only one string. Not useful to use the buf, however...&quot;</span> ) );</div>
<div class="line">    Log.info( Log.buf().append( <span class="stringliteral">&quot;This is a 5-digtit rep of 42: &quot;</span> ).append( 42, 5 ) );</div>
<div class="line">    Log.info( Log.buf().append( <span class="stringliteral">&quot;***All upper case and stars replaced by dollar signs ***&quot;</span> ).convertCase( <span class="keyword">true</span> ).replace( <span class="stringliteral">&quot;*&quot;</span>, <span class="stringliteral">&quot;$&quot;</span> ) );</div>
</div><!-- fragment --><p> As you see, the internal log buf is acquired in the parameter list of the <em>info()</em> method and filled with the log contents using concatenated calls to it.<br />
 Passed to method <em>info()</em>, class <em>Log</em> internally <em>releases</em> (the opposite of <em>acquire</em>) the buffer.</p>
<p>Alternatively, the buffer can also be used "outside" of the log call and then passed to it. The following snippet shows a sample:</p>
<div class="fragment"><div class="line">    <span class="comment">// using the log buf outside of the log statement</span></div>
<div class="line">    LogBuf logBuf= Log.buf();</div>
<div class="line">    logBuf.append( <span class="stringliteral">&quot;Lets see if school math is correct: &quot;</span> );</div>
<div class="line">    <span class="keywordtype">int</span> a= 4;</div>
<div class="line">    <span class="keywordtype">int</span> b= 2;</div>
<div class="line">    <span class="keywordflow">if</span>( a/b == 3)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// shout it out loud!</span></div>
<div class="line">        logBuf.append( <span class="stringliteral">&quot;They taught me wrong in school!&quot;</span> );</div>
<div class="line">        Log.error( logBuf );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// we better say nothing</span></div>
<div class="line">        Log.bufAbort();</div>
<div class="line">    }</div>
</div><!-- fragment --><p>As you see, in the sample the log statement is not executed. Therefore it is necessary to <em>release</em> the buffer "manually" using <a class="el" href="classcom_1_1aworx_1_1lox_1_1Lox.html#a695ba83e7bf11b5043bbfed84c573748">Log.bufAbort()</a> respectively <a class="el" href="classcom_1_1aworx_1_1lox_1_1Lox.html#a695ba83e7bf11b5043bbfed84c573748">Lox.bufAbort()</a> in the case of release logging.</p>
<dl class="section note"><dt>Note</dt><dd>While with other language/platform combinations, ALox provides an object of type <a class="el" href="classcom_1_1aworx_1_1util_1_1MString.html">MString</a>, in the Java version of ALox the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Lox.html#a443cb85820239541d45f3d05477fa832">Log.buf()</a> returns an object of type <a class="el" href="classcom_1_1aworx_1_1lox_1_1LogBuf.html">LogBuf</a>! (Method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Lox.html#a443cb85820239541d45f3d05477fa832">Lox.buf()</a> still returns an MString!)<br />
 <br />
 Class <em>LogBuf</em> encapsulates an MString and mimics its public non-static interface 1:1 as its own. The reason for this (otherwise stupid) thing is the auto pruning mechanics in Java (see <a class="el" href="setup_projects_java.html#setup_projects_java_pruning">Pruning ALox</a>). So, as a Java programmer, keep in mind that when you use the internal log buffer singleton outside of a function call,<ul>
<li>for debug logging you will receive an object of type <em>LogBuf</em> from class <em>Log</em>, while</li>
<li>in release logging you will receive an object of type <em>MString</em> from class <em>Lox</em></li>
</ul>
</dd></dl>
<p>Finally, let's see what happens if you do not release the log buffer singleton:</p>
<div class="fragment"><div class="line">    <span class="comment">// causing trouble</span></div>
<div class="line">    Log.info( <span class="stringliteral">&quot;Let&#39;s create an internal error by accessing the buffer twice:&quot;</span> );</div>
<div class="line">    Log.buf();</div>
<div class="line">    Log.buf();</div>
</div><!-- fragment --><p> The output of the whole sequence of this section looks like this. Please note the last line:</p>
<pre class="fragment">(Tests_Tutorial.java:448) Tut_UsingLogBuffer(): [00:00.000 +455 µs] [main(1)]       [LOGBUF]: Hallo Buf!. This is only one string. Not useful to use the buf, however...
(Tests_Tutorial.java:449) Tut_UsingLogBuffer(): [00:00.000 +041 µs] [main(1)]       [LOGBUF]: This is a 5-digtit rep of 42: 00042
(Tests_Tutorial.java:450) Tut_UsingLogBuffer(): [00:00.000 +054 µs] [main(1)]       [LOGBUF]: $$$ALL UPPER CASE AND STARS REPLACED BY DOLLAR SIGNS $$$
(Tests_Tutorial.java:474) Tut_UsingLogBuffer(): [00:00.000 +037 µs] [main(1)]       [LOGBUF]: Let's create an internal error by accessing the buffer twice:
(ThreadLock.java:180) acquire():                [00:00.000 +053 µs] [main(1)] [***] [ AWXU ]: Logger 'CONSOLE': log domain 'AWXU' not found. Created. Inherited domain level is: All 
(ThreadLock.java:180) acquire():                [00:00.000 +053 µs] [main(1)] [WRN] [ AWXU ]: ThreadLock.lock() Warning: Recursion depth 2. To prevent this, change ThreadSafe.recursionWarningThreshold or fix your code.</pre><p>You get a warning from utility class <a class="el" href="classcom_1_1aworx_1_1util_1_1ThreadLock.html">ThreadLock</a> (on log domain "AWXU") that tells you that the buffer was doubly acquired. This should never happen. The warning is very severe! The problem would start if you accessed the buffer in a different thread later on (e.g. your applications UI thread). In this moment <b>your application would run into a deadlock!</b></p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_conditional"></a>
3.3 Conditional logging</h2>
<p>Often log lines should only be displayed if a certain condition is met. Here is a sample:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">int</span> i= 0;</div>
<div class="line">    <span class="keywordflow">while</span>( i &lt; len )</div>
<div class="line">    { </div>
<div class="line">        <span class="keywordflow">if</span> ( array[i] == search )</div>
<div class="line">        { </div>
<div class="line">            process( i );</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        i++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( i == len )</div>
<div class="line">        Log.error( <span class="stringliteral">&quot;Nothing found :-(&quot;</span> );       </div>
</div><!-- fragment --><p> The last two lines can be replaced by one follows:</p>
<div class="fragment"><div class="line">        Log.Assert( i &lt; len, <span class="stringliteral">&quot;Nothing found :-(&quot;</span> );     </div>
</div><!-- fragment --><p> Advantages are again less typing and better readability of the code. Furthermore, the Java compiler would probably not prune the <em>if statement</em> if it was a more complex evaluation. As with using <em>Assert()</em> the evaluation of the expression is definitely pruned from your code. (Be sure you do not put side effects into expressions of <em>Assert()</em> invocations.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>In accordance with the concept of assertions, the condition has to be 'false' to have ALox perform the log.*</li>
<li>The <em>log level</em> of <em>Assert()</em> is <em>Log.Level.ERROR</em></li>
<li>The method Assert() starts with capitalized "A" because "assert" is a reserved key word in Java.</li>
</ul>
</dd></dl>
<p>The method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">Assert()</a> in class <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html">Log</a> is similar to the other log methods (namely <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">error()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">warning()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">info()</a> and <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">verbose()</a> ) just a shortcut into the full featured log method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a4e97e04e1f54ed79523211878fc0f687">Line()</a>, setting some default parameters.</p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_logtools"></a>
3.4 LogTools: Log complex things easily</h2>
<p>ALox also provides some log functions that log more complex stuff. The design decision was made to not put this into the class <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html">Log</a> but into a separated class <a class="el" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html">LogTools</a>. However, LogTools is used in the same simple fashion as class Log itself. Consider it just an extension or another word for Log.</p>
<p>On the Java language platform two methods are currently available which are briefly covered in the following:</p>
<h3><a class="anchor" id="tutjava_more_logtools_instance"></a>
3.4.1 Instance(): Log any object recursively</h3>
<p>The method <a class="el" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a46eedcc7353667a139db8f4f70e6a20c">LogTools.instance()</a> allows you to log just any object recursively in a well formatted way. You can try this out quickly by adding the following code to your sample:</p>
<div class="fragment"><div class="line">    <span class="comment">// Log multi-lines without indent </span></div>
<div class="line">    ((TextLogger) Log.getLogger( <span class="stringliteral">&quot;Console&quot;</span> )).multiLineMsgMode= 4; </div>
<div class="line"></div>
<div class="line">    <span class="comment">// Log current thread instance</span></div>
<div class="line">    LogTools.instance( <span class="stringliteral">&quot;MYDOM&quot;</span>, Log.Level.INFO, Thread.currentThread(), 2, <span class="stringliteral">&quot;Actual Thread: &quot;</span>, 1 );</div>
</div><!-- fragment --><p> As you can see, we are just passing a quite complex object, the current thread, to the method. The parameter that follows the object which is to be logged (the current thread) determines the level of objects which are recursively logged, starting from the given one (composite objects). You can play around with it, and increase it from 2 to lets say 5. But be careful: this can lead to a quite long log message!</p>
<p>The given parameter "Actual Thread: " provides a headline for the log output. This allows you to save another line of code, which would be logging the headline explicitly.</p>
<p>Here are the first lines of output of the above sample:</p>
<pre class="fragment">&gt;&gt; Actual Thread:                                                    {Thread}
&gt;&gt; &lt;01&gt;  name:                         "main"                        {[C}
&gt;&gt; &lt;02&gt;  priority:                     5                             {Integer}
&gt;&gt; &lt;03&gt;  threadQ:                      &lt;null&gt;
&gt;&gt; &lt;04&gt;  eetop:                        139861516390400               {Long}
&gt;&gt; &lt;05&gt;  single_step:                  false                         {Boolean}
&gt;&gt; &lt;06&gt;  daemon:                       false                         {Boolean}
&gt;&gt; &lt;07&gt;  stillborn:                    false                         {Boolean}
&gt;&gt; &lt;08&gt;  target:                       &lt;null&gt;
&gt;&gt; &lt;09&gt;  group:                                                      {ThreadGroup}
&gt;&gt; &lt;10&gt;    name:                       "main"                        {String}
&gt;&gt; &lt;11&gt;    maxPriority:                10                            {Integer}
&gt;&gt; &lt;12&gt;    destroyed:                  false                         {Boolean}
&gt;&gt; &lt;13&gt;    daemon:                     false                         {Boolean}
&gt;&gt; &lt;14&gt;    vmAllowSuspension:          false                         {Boolean}
&gt;&gt; &lt;15&gt;    nUnstartedThreads:          0                             {Integer}
&gt;&gt; &lt;16&gt;    nthreads:                   2                             {Integer}
&gt;&gt; &lt;17&gt;    threads:                    (MAX REC) @2779c1cb           {[Ljava.lang.Thread;}
&gt;&gt; &lt;18&gt;    ngroups:                    0                             {Integer}
&gt;&gt; &lt;19&gt;    groups:                     &lt;null&gt;
&gt;&gt; &lt;20&gt;  contextClassLoader:                                         {sun.misc.Launcher$AppClassLoader}
&gt;&gt; &lt;21&gt;  inheritedAccessControlContext:                              {java.security.AccessControlContext}
&gt;&gt; &lt;22&gt;    context:                    &lt;null&gt;
&gt;&gt; &lt;23&gt;    isPrivileged:               false                         {Boolean}
&gt;&gt; &lt;24&gt;    isAuthorized:               true                          {Boolean}
&gt;&gt; &lt;25&gt;    privilegedContext:          &lt;null&gt;
&gt;&gt; &lt;26&gt;    combiner:                   &lt;null&gt;
&gt;&gt; &lt;27&gt;  threadLocals:                                               {ThreadLocal$ThreadLocalMap}
&gt;&gt; &lt;28&gt;    table:                      (MAX REC) @2e3f8a3e           {[Ljava.lang.ThreadLocal$ThreadLocalMap$Entry;}
&gt;&gt; &lt;29&gt;    size:                       6                             {Integer}
&gt;&gt; &lt;30&gt;    threshold:                  10                            {Integer}
&gt;&gt; &lt;31&gt;  inheritableThreadLocals:                                    {ThreadLocal$ThreadLocalMap}
...
...
...
</pre><h3><a class="anchor" id="tutjava_more_logtools_exception"></a>
3.4.2 Exception(): Log an exception recursively (with inner exceptions)</h3>
<p>Just like Instance(), the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a2eefb8683336b59a35278ccf0a0af407">LogTools.exception()</a> uses the multi line feature of ALox to log out the contents of a Java Exception well formatted and recursively (following inner exceptions).</p>
<p>Of-course a perfect place in your code to add <a class="el" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a2eefb8683336b59a35278ccf0a0af407">LogTools.exception()</a> is the first line within a <em>catch() block</em>.</p>
<p>To try it out, add the following code into your project:</p>
<div class="fragment"><div class="line">    Exception testException=  <span class="keyword">new</span> Exception( <span class="stringliteral">&quot;TestException Message&quot;</span>, </div>
<div class="line">                                                <span class="keyword">new</span> Exception ( <span class="stringliteral">&quot;InnerException Message&quot;</span>, </div>
<div class="line">                                                                <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Inner, inner Exception&quot;</span>) ) );</div>
<div class="line">    LogTools.exception( <span class="stringliteral">&quot;MYDOM&quot;</span>, Log.Level.WARNING, testException, <span class="stringliteral">&quot;Logging an exception: &quot;</span> );</div>
</div><!-- fragment --><p>Like the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a46eedcc7353667a139db8f4f70e6a20c">LogTools.instance()</a>, a headline for the Exception log output can be specified. This allows you to save another line of code, which would be logging the headline explicitly.</p>
<p>The following log output will be generated:</p>
<pre class="fragment">(Tests_Tutorial.java:246) Tut_Exception(): [00:00.001 +001 ms] [main(1)] [WRN] [MYDOM]: &gt;&gt; Logging an exception: 
                                                                                        &gt;&gt;   Type:       java.lang.Exception
                                                                                        &gt;&gt;   Message:    TestException Message
                                                                                        &gt;&gt;   Cause:   
                                                                                        &gt;&gt;     Type:       java.lang.Exception
                                                                                        &gt;&gt;     Message:    InnerException Message
                                                                                        &gt;&gt;     Cause:   
                                                                                        &gt;&gt;       Type:       java.lang.Exception
                                                                                        &gt;&gt;       Message:    Inner, inner Exception
                                                                                        &gt;&gt;   Exception stack trace:
                                                                                        &gt;&gt;     unittests.com.aworx.lox.Tests_Tutorial.Tut_Exception(Tests_Tutorial.java:243)
                                                                                        &gt;&gt;     sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
                                                                                        &gt;&gt;     sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
                                                                                        &gt;&gt;     sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
                                                                                        &gt;&gt;     java.lang.reflect.Method.invoke(Method.java:606)
                                                                                        &gt;&gt;     org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
                                                                                        &gt;&gt;     org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
                                                                                        &gt;&gt;     org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
                                                                                        &gt;&gt;     org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
                                                                                        &gt;&gt;     org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
                                                                                        &gt;&gt;     org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
                                                                                        &gt;&gt;     org.junit.runners.ParentRunner.run(ParentRunner.java:309)
                                                                                        &gt;&gt;     org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
                                                                                        &gt;&gt;     org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
                                                                                        &gt;&gt;     org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
                                                                                        &gt;&gt;     org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
                                                                                        &gt;&gt;     org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
                                                                                        &gt;&gt;     org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
                                                                                        &gt;&gt;     unittests.com.aworx.lox.Tests_Tutorial.Tut_Exception(Tests_Tutorial.java:244)
                                                                                        &gt;&gt;     unittests.com.aworx.lox.Tests_Tutorial.Tut_Exception(Tests_Tutorial.java:245)</pre><p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_indentation"></a>
3.5 Indentation</h2>
<p>The outputs of the above samples which make use of the <a class="el" href="classcom_1_1aworx_1_1lox_1_1tools_1_1LogTools.html">LogTools</a> class look nice because they use indentation when they recursively walk through a complex object.</p>
<p>Indentation is a core feature of every single log method. We just did not use it yet, because it is hidden as a default parameter.</p>
<p>See the documentation of the log methods <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">error()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">warning()</a>, <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">info()</a> and <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#aa2e53c0784cea0a017e3338cd05836fe">verbose()</a> to identify where to add the indentation parameter. The default is 0. The result of increasing it depends on the Logger you are using. The <a class="el" href="classcom_1_1aworx_1_1lox_1_1core_1_1TextLogger.html">TextLogger</a> for example (the base class of <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> ) adds two spaces per indent number (which is configurable).</p>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_seplog"></a>
3.6 Directing log output to distinct loggers</h2>
<p>Because ALox stores the <em>log domain level</em> not only per <em>domain</em> but also 'per <em>logger</em>', we just need to fill in a default parameter in <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain()</a> to assign different domain levels to different <em>loggers</em>.</p>
<p>In the following sample code we are creating two different <em>loggers</em>, one <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1ConsoleLogger.html">ConsoleLogger</a> and one of type <a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1MemoryLogger.html">MemoryLogger</a>. The latter just logs into an internal buffer. Then we add three different <em>log domains</em>:</p><ul>
<li>"DOM" that should log to both loggers</li>
<li>"DOM/CON" that should log only to the ConsoleLogger</li>
<li>"DOM/MEM" that should log only to the MemoryLogger</li>
</ul>
<p>Let's have a look at the code first:</p>
<div class="fragment"><div class="line">    <span class="comment">// create two different loggers</span></div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger( <span class="stringliteral">&quot;MyConsoleLogger&quot;</span> ) );</div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> MemoryLogger ( <span class="stringliteral">&quot;MyMemoryLogger&quot;</span> ) );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// switch some log information off with memory logger</span></div>
<div class="line">    ((MemoryLogger) Log.getLogger(<span class="stringliteral">&quot;MyMemoryLogger&quot;</span>)).lineFormatter.format= <span class="keyword">new</span> MString( <span class="stringliteral">&quot;%CF(%CL): %L [%O]: &quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// register domains, set DOM as default</span></div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM&quot;</span>,     Log.Scope.METHOD );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM/CON&quot;</span>, Log.Scope.NONE );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM/MEM&quot;</span>, Log.Scope.NONE );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM for all loggers</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;DOM&quot;</span>,  Log.DomainLevel.ALL, <span class="keyword">false</span> );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM/CON separately for console and memory logger</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~CON&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">false</span>, <span class="stringliteral">&quot;MyConsoleLogger&quot;</span> );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~CON&quot;</span>, Log.DomainLevel.OFF, <span class="keyword">false</span>, <span class="stringliteral">&quot;MyMemoryLogger&quot;</span>  );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM/MEM separately for console and memory logger</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~MEM&quot;</span>, Log.DomainLevel.OFF, <span class="keyword">false</span>, <span class="stringliteral">&quot;MyConsoleLogger&quot;</span> );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~MEM&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">false</span>, <span class="stringliteral">&quot;MyMemoryLogger&quot;</span>  );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Log info to each of the domains</span></div>
<div class="line">    Log.info(         <span class="stringliteral">&quot;Domain= DOM      -&gt; This goes to all loggers&quot;</span>);</div>
<div class="line">    Log.info( <span class="stringliteral">&quot;~CON&quot;</span>, <span class="stringliteral">&quot;Domain= DOM/CON  -&gt; This goes to ConsoleLogger exclusively&quot;</span>);</div>
<div class="line">    Log.info( <span class="stringliteral">&quot;~MEM&quot;</span>, <span class="stringliteral">&quot;Domain= DOM/MEM  -&gt; This goes to MemoryLogger exclusively&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// To verify the result, we log the contents of the MemoryLogger to the console logger</span></div>
<div class="line">    Log.info( <span class="stringliteral">&quot;~CON&quot;</span>, <span class="stringliteral">&quot;Here comes the contents of MemoryLogger:&quot;</span>);</div>
<div class="line">    Log.info( <span class="stringliteral">&quot;~CON&quot;</span>, ((MemoryLogger) Log.getLogger(<span class="stringliteral">&quot;MyMemoryLogger&quot;</span>)).buffer.toString(), 1);</div>
</div><!-- fragment --><p> Running the sample, we get the following log on the console:</p>
<pre class="fragment">(Tests_Tutorial.java:315) Tut_SeparatedLogLevels(): [00:00.001 +001 ms] [main(1)]       [DOM]: Domain= DOM      -&gt; This goes to all loggers
(Tests_Tutorial.java:316) Tut_SeparatedLogLevels(): [00:00.001 +058 µs] [main(1)]       [DOM/CON]: Domain= DOM/CON  -&gt; This goes to ConsoleLogger exclusively
(Tests_Tutorial.java:320) Tut_SeparatedLogLevels(): [00:00.001 +124 µs] [main(1)]       [DOM/CON]: Here comes the contents of MemoryLogger:
&gt;&gt; Tests_Tutorial.java:315(?):       [DOM]: Domain= DOM      -&gt; This goes to all loggers
&gt;&gt; Tests_Tutorial.java:317(?):       [DOM/MEM]: Domain= DOM/MEM  -&gt; This goes to MemoryLogger exclusively</pre><p>The way we achieved the goal is that we use the method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain()</a> twice on each of the <em>sub domains</em>. And in contrast to previous samples, we are passing two more parameters to it:</p><ul>
<li><em>bool recursive</em> This parameter defaults to true and tells ALox to not only set the given <em>log domain</em> but all its <em>sub domains</em> to the Log.DomainLevel provided. We set this to false, we do not have further sub domains either way.</li>
<li><em>String loggerFilter</em> This parameter now is what helps us: It defaults to null and in this case does not filter any <em>logger</em>. So, when omitted, all <em>loggers</em> are affected. If given, however, only those <em>loggers</em> who's field <a class="el" href="classcom_1_1aworx_1_1lox_1_1core_1_1Logger.html#a9a2326f35466e54c36c070829245c557">Logger.name</a> match the given filter string are affected.</li>
</ul>
<p>Looking back at the code, you will understand what is going on: For each <em>logger</em> we enable, respectively, disable the output of messages for the corresponding domains using <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a275bf5c822b593026a59279c2541a7cf">Log.setDomain()</a> and passing the appropriate filter!</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>String comparison on <a class="el" href="classcom_1_1aworx_1_1lox_1_1core_1_1Logger.html#a9a2326f35466e54c36c070829245c557">Logger.name</a> and parameter <em>loggerFilter</em> is case insensitive.</li>
<li>ALox provides a minimum 'wildcard' feature here: <em>loggerFilter</em> can start or end with an '*' character to fetch more than one logger at once.</li>
</ul>
</dd></dl>
<p>Some further quick remarks on the code:</p>
<ul>
<li><a class="el" href="classcom_1_1aworx_1_1lox_1_1loggers_1_1MemoryLogger.html#abb05cbb40d212c431ab82b3718ccfa04">MemoryLogger.buffer</a> provides public access to its data. See class <a class="el" href="classcom_1_1aworx_1_1util_1_1MString.html">MString</a> for more information.</li>
<li>As you can see from the output, the two log lines contained in the MemoryLogger are in two separated lines by the <em>ConsoleLogger</em>. This is a feature of <a class="el" href="classcom_1_1aworx_1_1lox_1_1core_1_1TextLogger.html">TextLogger</a>, the super class of both, <em>ConsoleLogger</em> and MemoryLogger to log out multi-line data in a readable format. Hence, logging all kinds of text documents (e.g. XML) results in a readable output. The multiple line output can be modified in some ways and also can be turned off.</li>
<li>At the beginning of the sample, we are tweaking the output in the MemoryLogger a bit. The flags we are setting here are available to all Loggers as they are defined in the abstract class <a class="el" href="classcom_1_1aworx_1_1lox_1_1core_1_1Logger.html">Logger</a> already, but might be differently handled by different Logger* implementations. What we are achieving in this sample, is that the log output does not get too wide.</li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="tutjava_more_config"></a>
3.7 ALox configuration and internal log messages</h2>
<p>In complex projects it might get a little confusing to keep track about the loggers and their domains. Also, when you use 3rd party components supporting ALox, then you might not know exactly which <em>log domains</em> get registered and used by those.</p>
<p>While the sample of the previous section is not too complex, for this tutorial it is great to demonstrate two different ways to have ALox log about itself.</p>
<p>From the previous sample we take the setup section, remove the log output and add a new line at the end instead:</p>
<div class="fragment"><div class="line">    <span class="comment">// create two different loggers</span></div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger() );</div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> MemoryLogger () );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// register domains, set DOM as default</span></div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM&quot;</span>,     Log.Scope.METHOD );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM/CON&quot;</span>, Log.Scope.NONE );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM/MEM&quot;</span>, Log.Scope.NONE );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM for all loggers</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;DOM&quot;</span>, Log.DomainLevel.ALL );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM/CON separately for console and memory logger</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~CON&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">false</span>, <span class="stringliteral">&quot;Console&quot;</span> );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~CON&quot;</span>, Log.DomainLevel.OFF, <span class="keyword">false</span>, <span class="stringliteral">&quot;Memory&quot;</span>  );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM/MEM separately for console and memory logger</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~MEM&quot;</span>, Log.DomainLevel.OFF, <span class="keyword">false</span>, <span class="stringliteral">&quot;Console&quot;</span> );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~MEM&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">false</span>, <span class="stringliteral">&quot;Memory&quot;</span>  );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Log current Log configuration </span></div>
<div class="line">    Log.logConfig( <span class="stringliteral">&quot;DOM&quot;</span>, Log.Level.VERBOSE, <span class="stringliteral">&quot;Here comes the current Log configuration:&quot;</span> );</div>
</div><!-- fragment --><p> We are invoking <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a3d500fb540ea7d731003c91292a742cc">Log.logConfig()</a> which logs the current configuration of ALox. The output is quite self explanatory:</p>
<pre class="fragment">(Tests_Tutorial.java:356) Tut_LogConfig(): [00:00.001 +001 ms] [main(1)] [***] [DOM]: &gt;&gt; Here comes the current Log configuration:
                                                                                      &gt;&gt; Version:      1.1.0
                                                                                      &gt;&gt; Intern. dom.: ALOX
                                                                                      &gt;&gt; Thread safe:  Yes
                                                                                      &gt;&gt; No. of calls: 1
                                                                                      &gt;&gt; Code markers: 0
                                                                                      &gt;&gt; 
                                                                                      &gt;&gt; Def. domains: 1
                                                                                      &gt;&gt;   Domain:   DOM          Scope: "unittests.com.aworx.lox#Tests_Tutorial#Tut_LogConfig"
                                                                                      &gt;&gt; 
                                                                                      &gt;&gt; Loggers:      2
                                                                                      &gt;&gt; 
                                                                                      &gt;&gt;   Logger: "CONSOLE"
                                                                                      &gt;&gt;     Creation time: java.util.GregorianCalendar[time=1425454153438,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id="Europe/Berlin",offset=3600000,dstSavings=3600000,useDaylight=true,transitions=143,lastRule=java.util.SimpleTimeZone[id=Europe/Berlin,offset=3600000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=2,startMonth=2,startDay=-1,startDayOfWeek=1,startTime=3600000,startTimeMode=2,endMode=2,endMonth=9,endDay=-1,endDayOfWeek=1,endTime=3600000,endTimeMode=2]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2015,MONTH=2,WEEK_OF_YEAR=10,WEEK_OF_MONTH=1,DAY_OF_MONTH=4,DAY_OF_YEAR=63,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=8,HOUR_OF_DAY=8,MINUTE=29,SECOND=13,MILLISECOND=438,ZONE_OFFSET=3600000,DST_OFFSET=0]
                                                                                      &gt;&gt;     Lines logged:  0
                                                                                      &gt;&gt;     Domains:
                                                                                      &gt;&gt;       /ALOX              WARNINGS_AND_ERRORS
                                                                                      &gt;&gt;       /DOM               ALL
                                                                                      &gt;&gt;       /DOM/CON           ALL
                                                                                      &gt;&gt;       /DOM/MEM           OFF
                                                                                      &gt;&gt; 
                                                                                      &gt;&gt;   Logger: "MEMORY"
                                                                                      &gt;&gt;     Creation time: java.util.GregorianCalendar[time=1425454153438,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id="Europe/Berlin",offset=3600000,dstSavings=3600000,useDaylight=true,transitions=143,lastRule=java.util.SimpleTimeZone[id=Europe/Berlin,offset=3600000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=2,startMonth=2,startDay=-1,startDayOfWeek=1,startTime=3600000,startTimeMode=2,endMode=2,endMonth=9,endDay=-1,endDayOfWeek=1,endTime=3600000,endTimeMode=2]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2015,MONTH=2,WEEK_OF_YEAR=10,WEEK_OF_MONTH=1,DAY_OF_MONTH=4,DAY_OF_YEAR=63,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=8,HOUR_OF_DAY=8,MINUTE=29,SECOND=13,MILLISECOND=438,ZONE_OFFSET=3600000,DST_OFFSET=0]
                                                                                      &gt;&gt;     Lines logged:  0
                                                                                      &gt;&gt;     Domains:
                                                                                      &gt;&gt;       /ALOX              WARNINGS_AND_ERRORS
                                                                                      &gt;&gt;       /DOM               ALL
                                                                                      &gt;&gt;       /DOM/CON           OFF
                                                                                      &gt;&gt;       /DOM/MEM           ALL</pre><p>Besides this, there is a second option to inspect what happens internally in class <em>Log</em>. Again, from the previous sample we take the setup section, remove the log output and add a parameter in the first line of code, where the <em>ConsoleLogger</em> is added to <em>LOG</em>:</p>
<div class="fragment"><div class="line">    <span class="comment">// create two different loggers, add console Logger verbosely</span></div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> ConsoleLogger(), Log.DomainLevel.ALL );</div>
<div class="line">    Log.addLogger( <span class="keyword">new</span> MemoryLogger () );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// register domains, set DOM as default</span></div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM&quot;</span>,     Log.Scope.METHOD );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM/CON&quot;</span>, Log.Scope.NONE );</div>
<div class="line">    Log.regDomain( <span class="stringliteral">&quot;DOM/MEM&quot;</span>, Log.Scope.NONE );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM for all loggers</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;DOM&quot;</span>, Log.DomainLevel.ALL );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM/CON separately for console and memory logger</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~CON&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">false</span>, <span class="stringliteral">&quot;Console&quot;</span> );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~CON&quot;</span>, Log.DomainLevel.OFF, <span class="keyword">false</span>, <span class="stringliteral">&quot;Memory&quot;</span>  );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// set level of DOM/MEM separately for console and memory logger</span></div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~MEM&quot;</span>, Log.DomainLevel.OFF, <span class="keyword">false</span>, <span class="stringliteral">&quot;Console&quot;</span> );</div>
<div class="line">    Log.setDomain( <span class="stringliteral">&quot;~MEM&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">false</span>, <span class="stringliteral">&quot;Memory&quot;</span>  );</div>
<div class="line"></div>
</div><!-- fragment --><p> ALox is equipped with an <em>internal log domain</em> named "ALOX". This domain is used by ALox to log messages, from error() to verbose(). Now, when you add a <em>logger</em> to class <em>Log</em>, this <em>internal log domain</em> is registered with this <em>logger</em>.</p>
<p>With the modification in the code above, we are passing a <em>log domain level</em> as a second parameter to <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a3327fc90660ebcb1cd8fd586536f5075">Log.addLogger()</a>. This <em>log domain level</em> specifies how the internal <em>log domain</em> of ALox should be set for the logger we are just adding. While the default value was <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">DomainLevel.INFO_WARNINGS_AND_ERRORS</a> we overwrite this to <a class="el" href="enumcom_1_1aworx_1_1lox_1_1Log_1_1DomainLevel.html">DomainLevel.ALL</a>. Now looking at the <em>ConsoleLogger</em> output, we see what is going on inside ALox while running the application:</p>
<pre class="fragment">(Tests_Tutorial.java:400) Tut_LogConfig2(): [00:00.000 +062 µs] [main(1)]       [ALOX]: Lox.addLogger(): Logger "CONSOLE" added
(Tests_Tutorial.java:401) Tut_LogConfig2(): [00:00.000 +062 µs] [main(1)]       [ALOX]: Lox.addLogger(): Logger "MEMORY" added
(Tests_Tutorial.java:404) Tut_LogConfig2(): [00:00.000 +048 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM" created in logger: CONSOLE
(Tests_Tutorial.java:404) Tut_LogConfig2(): [00:00.000 +017 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM" created in logger: MEMORY
(Tests_Tutorial.java:404) Tut_LogConfig2(): [00:00.000 +015 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM" set as default for scope "METHOD"
(Tests_Tutorial.java:405) Tut_LogConfig2(): [00:00.000 +054 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM/CON" created in logger: CONSOLE
(Tests_Tutorial.java:405) Tut_LogConfig2(): [00:00.000 +023 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM/CON" created in logger: MEMORY
(Tests_Tutorial.java:406) Tut_LogConfig2(): [00:00.000 +054 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM/MEM" created in logger: CONSOLE
(Tests_Tutorial.java:406) Tut_LogConfig2(): [00:00.000 +023 µs] [main(1)]       [ALOX]: Lox.regDomain(): Domain "DOM/MEM" created in logger: MEMORY
(Tests_Tutorial.java:409) Tut_LogConfig2(): [00:00.000 +047 µs] [main(1)]       [ALOX]: Lox.setDomain(): Domain "DOM" log level set to "ALL" for logger "CONSOLE"
(Tests_Tutorial.java:409) Tut_LogConfig2(): [00:00.000 +017 µs] [main(1)]       [ALOX]: Lox.setDomain(): Domain "DOM" log level set to "ALL" for logger "MEMORY"
(Tests_Tutorial.java:412) Tut_LogConfig2(): [00:00.000 +057 µs] [main(1)]       [ALOX]: Lox.setDomain(): Domain "DOM/CON" log level set to "ALL" for logger "CONSOLE"
(Tests_Tutorial.java:413) Tut_LogConfig2(): [00:00.001 +069 µs] [main(1)]       [ALOX]: Lox.setDomain(): Domain "DOM/CON" log level set to "OFF" for logger "MEMORY"
(Tests_Tutorial.java:416) Tut_LogConfig2(): [00:00.001 +049 µs] [main(1)]       [ALOX]: Lox.setDomain(): Domain "DOM/MEM" log level set to "OFF" for logger "CONSOLE"
(Tests_Tutorial.java:417) Tut_LogConfig2(): [00:00.001 +050 µs] [main(1)]       [ALOX]: Lox.setDomain(): Domain "DOM/MEM" log level set to "ALL" for logger "MEMORY"</pre><p>To summarize: We have to ways to look into ALox:</p>
<ol type="1">
<li>Method <a class="el" href="classcom_1_1aworx_1_1lox_1_1Log.html#a3d500fb540ea7d731003c91292a742cc">Log.logConfig()</a> logs a "snapshot" of the current states. The advantage of this is, that it is all logged sequentially in one place and does not clutter your log output.</li>
<li>By setting the <em>log domain level</em> of the internal log domain "ALOX" to a more verbose level. While this clutters your log output and you might have to search the pieces in your overall log stream, the advantage here is that you see the caller information and therefore you see "where" a certain manipulation of the settings took place...and you can click on it!</li>
</ol>
<p>There is also the possibility to enable the internal domain <b>after</b> a logger was already added. The code looks like this:</p>
<div class="fragment"><div class="line">    Log.setDomain( <span class="stringliteral">&quot;ALOX&quot;</span>, Log.DomainLevel.ALL, <span class="keyword">true</span>, <span class="stringliteral">&quot;Console&quot;</span>);</div>
</div><!-- fragment --><p> Or even better, because the internal domain name is not "hard coded":</p>
<div class="fragment"><div class="line">    Log.setDomain( Log.LOX.internalDomain, Log.DomainLevel.ALL, <span class="keyword">true</span>, <span class="stringliteral">&quot;Console&quot;</span>);</div>
</div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="tutjava_end"></a>
Further reading</h1>
<p>This is the end of the Java Tutorial of ALox. You should be able to use most of the features of the ALox Logging Ecosystem and have nice, formatted, configurable log output in your software projects.</p>
<p>Probably the most important thing that this tutorial does <b>not</b> cover is release logging.</p>
<p>For further information, you can read into the <a href="../manual.html">ALox User Manual</a> and of-course, also read through the <a href="annotated.html">AWorx class reference</a> pages. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 4 2015 11:07:52 for ALox Java Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
