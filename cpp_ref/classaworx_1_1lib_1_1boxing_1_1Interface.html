<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ALox: Interface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="aworx_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="A-Worx-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ALox
   &#160;<span id="projectnumber">V. 1702 R. 0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--ALox Main Menu-->
<div style="background: #2f3a48; " >
<table  class="aworx-menutable"  >
 <tbody>
 <tr style="height: 36px;">
  <td> <a class="aworx-menu"    href="../index.html"                  >Home</a>                     </td>
  <td> <a class="aworx-menu_hl" href="../cpp_ref/cppmainpage.html"    >ALox for C++</a>             </td>
  <td> <a class="aworx-menu"    href="../cs_ref/csmainpage.html"      >ALox for C#</a>              </td>
  <td> <a class="aworx-menu"    href="../java_ref/javamainpage.html"  >ALox for Java</a>            </td>
  <td> <a class="aworx-menu"    href="https://github.com/AlexWorx/ALox-Logging-Library">Download</a></td>
 </tr>
 </tbody>
</table>
</div>
<!--end ALox Main Menu-->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceaworx.html">aworx</a></li><li class="navelem"><a class="el" href="namespaceaworx_1_1lib.html">lib</a></li><li class="navelem"><a class="el" href="namespaceaworx_1_1lib_1_1boxing.html">boxing</a></li><li class="navelem"><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html">Interface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Methods</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="#pro-attribs">Protected Fields</a> &#124;
<a href="classaworx_1_1lib_1_1boxing_1_1Interface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Interface Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="interface_8hpp_source.html">interface.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Interface:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classaworx_1_1lib_1_1boxing_1_1Interface__inherit__graph.svg" width="531" height="646"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<a name="details" id="details"></a><h2 class="groupheader">Class Description</h2>
<div class="textblock"><hr/>
<p> This is the virtual base class to implement virtual methods invokable on supported boxed objects.</p>
<p>The following gives a step by step guidance on how to create, attach and invoke virtual interface methods.</p>
<p><b>Defining a Custom Interface:</b><br />
 To add a custom interface method to <b>ALib Boxing</b>, the following approach has to be taken:</p><ol type="1">
<li>A class needs to be derived from this class with a single custom virtual interface method named <code>Invoke</code>.<br />
 The first parameter of this virtual method needs to be of type <code>const <a class="el" href="namespaceaworx.html#af923f654916f15a4287246e5bb3beabb">aworx::Box</a>&amp;</code>. It will receive the boxed object that the interface method is invoked on. Other parameters and the return type may be chosen as needed. The method may be pure virtual.</li>
<li>From this class in turn, type-specific versions need to be derived, which implement method <b>Invoke</b> in a type specific way.</li>
<li>The type-specific versions should in addition be derived from template class <a class="el" href="classaworx_1_1lib_1_1lang_1_1Singleton.html">Singleton</a>. Alternatively, a singleton of themselves needs to be made accessible by other means.</li>
<li>The singletons of the type-specific classes need to be attached to the corresponding type-specific boxer using method <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Boxer.html#ad4a321b8053fc083a3a91064e422795c">Boxer::DefineInterface</a>.<br />
 If, as proposed above, the type-specific classes use class <b>Singleton</b> for implementing the singleton pattern, then template namespace function <a class="el" href="namespaceaworx_1_1lib_1_1boxing.html#aa1f769d5f1032bc1cc569f4353f9ccd8">DefineInterface</a> can be used for this purpose.</li>
<li>Optionally, one default version of the custom interface class may be derived. This would implement a default behavior for boxed types that have no type-specific version in place. Default interface singletons are announced using method <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Boxer.html#a6228b2d41176a6f8fd6489b150dfc5c3">Boxer::DefineDefaultInterface</a>, or preferably with templated namespace function <a class="el" href="namespaceaworx_1_1lib_1_1boxing.html#a37543d2ad623b3940e735b122fe5d586">DefineDefaultInterface</a>:</li>
</ol>
<p>Steps 4 and 5 must be done only once, e.g. in the bootstrap section of the process.</p>
<p><b>Using a Custom <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html">Interface</a>:</b><br />
 Now, the interface may be used as follows:</p><ol type="1">
<li>Template method <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#af00a56f400aaf960349d00e50d8effd5">Box::HasInterface</a> is used to detect if an object of type <b>Box</b>, supports a certain interface. As a template parameter to this method, the main interface class type has to be provided. (The one that is directly derived from this class <b>Interface</b> and is the parent class to all type-specific specializations.)<br />
 Note that method <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#af00a56f400aaf960349d00e50d8effd5">Box::HasInterface</a> will return <code>false</code>, if the boxed object does not support the interface, even if a default interface is available.</li>
<li>In the case that either <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#af00a56f400aaf960349d00e50d8effd5">Box::HasInterface</a> returned <code>true</code> or a default interface implementation is available (which is expected to be globally known piece of information), template method <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#ae828c5649908bb8346f1187bb4187936">Box::Invoke</a> can be used to invoke method <b>Invoke</b> of the interface attached to the box. Likewise method <b><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#af00a56f400aaf960349d00e50d8effd5">Box::HasInterface</a></b>, as a template parameter to this method, the main interface class type has to be provided.<br />
 The parameters passed to <b>Box::Invoke</b> are the parameters defined of the interface method <b>Invoke</b> (!), excluding the first one, which as described above needs to be <code>const <a class="el" href="namespaceaworx.html#af923f654916f15a4287246e5bb3beabb">aworx::Box</a>&amp;</code>.<br />
 If the return type of custom method <b>Invoke</b> is different to <code>void</code>, then this return type needs to be specified as the second template argument to method <b><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#ae828c5649908bb8346f1187bb4187936">Box::Invoke</a></b>.</li>
</ol>
<p>It is important to understand:</p><ul>
<li>If a default interface of a certain type is set, then no check using method <b>Box::HasInterface</b> is needed prior to invoking <b>Box::Invoke</b>, because the latter will always find some invokable singleton. Furthermore, in this case, method <b>Box::HasInterface</b> may be used to detect if a type-specific interface is in place. A typical invocation would look like this: <pre class="fragment">   aBox.Invoke&lt;MyInterface&gt;(5);
</pre></li>
<li><p class="startli">If <b>no</b> default interface of a certain type is set, then it is advised to use method <b>Box::HasInterface</b> to check if an interface exists, prior to using <b>Box::Invoke</b>. In debug compilations an assertion is</p>
<p class="startli">The invocation would look like this: </p><pre class="fragment">   if( aBox.HasInterface&lt;MyInterface&gt;() )
       aBox.Invoke&lt;MyInterface&gt;(5);
</pre></li>
</ul>
<p><b>Multiple Invocations:</b><br />
 In the case that an interface method is to be invoked several times in a row on the same instance <b>Box</b>, the interface singleton might be received with method <a class="el" href="classaworx_1_1lib_1_1boxing_1_1Box.html#aff845e5a76eb0fab90db26cda997c70b">Box::GetInterface</a> once and method <b>Invoke</b> can then be directly invoked. In this case, parameter <code>box</code> has to be provided to the call, as demonstrated in this sample: </p><pre class="fragment"> MyInterface* mIF= aBox.GetInterface&lt;MyInterface&gt;();
 if( mIF != nullptr )
     for( int i= 0; i&lt; 100; ++i )
         mIF-&gt;Invoke( aBox, i );
</pre><p>Here, object <b>aBox</b> is first used to retrieve the interface and then it is passed to each invocation as a first parameter.</p>
<dl class="section see"><dt>See also</dt><dd>For a step by step sample see chapter <a class="el" href="namespaceaworx_1_1lib_1_1boxing.html#alib_namespace_boxing_interfaces_sample">A Simple %Interface Sample</a> of the documentation of <b>ALib Boxing</b>. </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Methods</h2></td></tr>
<tr class="memitem:a7fc03ce9a2c1652fdb17279f1b25e652"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html#a7fc03ce9a2c1652fdb17279f1b25e652">Interface</a> (const std::type_info &amp;type)</td></tr>
<tr class="separator:a7fc03ce9a2c1652fdb17279f1b25e652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d07a756bb96ccfc79568730847385b4"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html#a8d07a756bb96ccfc79568730847385b4">~Interface</a> ()</td></tr>
<tr class="separator:a8d07a756bb96ccfc79568730847385b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a9bfe1b31bcfd37fdc1b8368deb565f44"><td class="memItemLeft" align="right" valign="top"><a id="a9bfe1b31bcfd37fdc1b8368deb565f44"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>aworx::lib::boxing::Box</b></td></tr>
<tr class="separator:a9bfe1b31bcfd37fdc1b8368deb565f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51c5470cc108a53bfc48323c94d0212"><td class="memItemLeft" align="right" valign="top"><a id="aa51c5470cc108a53bfc48323c94d0212"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>aworx::lib::boxing::Boxer</b></td></tr>
<tr class="separator:aa51c5470cc108a53bfc48323c94d0212"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Fields</h2></td></tr>
<tr class="memitem:a850d0a52a5a9215400d3f7e4d3b12025"><td class="memItemLeft" align="right" valign="top">const std::type_info &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html#a850d0a52a5a9215400d3f7e4d3b12025">typeInfo</a></td></tr>
<tr class="separator:a850d0a52a5a9215400d3f7e4d3b12025"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7fc03ce9a2c1652fdb17279f1b25e652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc03ce9a2c1652fdb17279f1b25e652">&sect;&nbsp;</a></span>Interface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html">Interface</a> </td>
          <td>(</td>
          <td class="paramtype">const std::type_info &amp;&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs an <b>ALib Boxing interface</b>. Does nothing but saving the provided type information. This type information has to reflect the directly derived class and to be the same for all grandchild siblings. In detail, type information has to be passed as follows:</p><ul>
<li>Each direct descendant of this class represents an invokable box interface. Those direct descendants pass their types in the constructor to this class.</li>
<li>Descendants of such interfaces which are specific implementations for dedicated custom types, do not pass their own type information. In contrast, through the use of their parent's constructor, they have to pass the same type information as their parent.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the derived interface class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d07a756bb96ccfc79568730847385b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d07a756bb96ccfc79568730847385b4">&sect;&nbsp;</a></span>~Interface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classaworx_1_1lib_1_1boxing_1_1Interface.html">Interface</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Virtual destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a850d0a52a5a9215400d3f7e4d3b12025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850d0a52a5a9215400d3f7e4d3b12025">&sect;&nbsp;</a></span>typeInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::type_info&amp; typeInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Type information of the directly derived class, which is the abstract definition of a custom interface. Its descendants then all share the same type info. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="interface_8hpp_source.html">interface.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.12-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 6 2017 09:12:50 for ALox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
<!-- Start of StatCounter Code e -->
<script type="text/javascript">
var sc_project=11242602;
var sc_invisible=1;
var sc_security="5ac13373";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web statistics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11242602/0/5ac13373/1/" alt="web
statistics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>
