<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ALox: ALox for C# Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="aworx_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="A-Worx-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ALox
   &#160;<span id="projectnumber">V. 1805 R. 0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--ALox Main Menu-->
<div style="background: #2f3a48; " >
<table  class="aworx-menutable"  >
 <tbody>
 <tr style="height: 36px;">
  <td> <a class="aworx-menu"    href="../index.html"                                   >Home</a>                     </td>
  <td> <a class="aworx-menu"    href="../cpp_ref/alox_cpp_mainpage.html"                >ALox for C++</a>             </td>
  <td> <a class="aworx-menu_hl" href="../cs_ref/alox_cs_mainpage.html"                  >ALox for C#</a>              </td>
  <td> <a class="aworx-menu"    href="../java_ref/alox_java_mainpage.html"              >ALox for Java</a>            </td>
  <td> <a class="aworx-menu"    href="https://github.com/AlexWorx/ALox-Logging-Library">Download</a></td>
 </tr>
 </tbody>
</table>
</div>
<!--end ALox Main Menu-->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ALox for C# Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tutcs_hello_alox">1. Hello ALox</a></li>
<li class="level1"><a href="#tutcs_lox">2. Classes Log and Lox</a></li>
<li class="level1"><a href="#tutcs_createproject">3 Create a tutorial project or equip your current project with ALox</a></li>
<li class="level1"><a href="#tutcs_logger">4. Class &quot;Logger&quot;</a></li>
<li class="level1"><a href="#tutcs_run">5. Run the Application</a><ul><li class="level2"><a href="#tutcs_run_ide">5.1. Run your application within your IDE</a></li>
<li class="level2"><a href="#tutcs_run_release">2.6. Build a release version</a></li>
</ul>
</li>
<li class="level1"><a href="#tutcs_verbosity">6. Controlling the &#39;Verbosity&#39;</a></li>
<li class="level1"><a href="#tutcs_logdomains">7. Log Domains</a></li>
<li class="level1"><a href="#tutcs_logdomains_hierarchical">8. Hierarchical Log Domains</a></li>
<li class="level1"><a href="#tutcs_scope_domains">9. Scope Domains</a></li>
<li class="level1"><a href="#tutcs_formatting">10. Formatting</a></li>
<li class="level1"><a href="#tutcs_conditional">11. Conditional logging</a></li>
<li class="level1"><a href="#tutcs_log_prefix">12. Prefixes</a></li>
<li class="level1"><a href="#tutcs_logtools">13. LogTools: Log Complex Data</a><ul><li class="level2"><a href="#tutcs_more_logtools_instance">13.1 Instance(): Log any object recursively</a></li>
<li class="level2"><a href="#tutcs_more_logtools_exception">13.2 Exception(): Log an exception recursively (with inner exceptions)</a></li>
<li class="level2"><a href="#tutcs_more_logtools_xml">13.3 XML(): Log out an XML document or element</a></li>
</ul>
</li>
<li class="level1"><a href="#tutcs_threadnames">14. Name Your Threads</a></li>
<li class="level1"><a href="#tutcs_logdata">15. ALox Log Data</a></li>
<li class="level1"><a href="#tutcs_config">16. ALox Configuration Information and Internal Log Messages</a></li>
<li class="level1"><a href="#tutcs_end">Further Reading</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="tutcs_hello_alox"></a>
1. Hello ALox</h1>
<p>Welcome to the ALox for C# tutorial! This tutorial aims to introduce you to ALox as quickly as possible and put you into a position to decide whether ALox is the right logging library for you.</p>
<p>Let us start with the very quick "hello world" sample:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox.html">lox</a>;</div><div class="line"></div><div class="line"><span class="keyword">class </span>HelloALox</div><div class="line">{</div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> SayHello()</div><div class="line">    {</div><div class="line">        Log.Info ( <span class="stringliteral">&quot;Hello ALox!&quot;</span> );</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> When this method gets invoked, the output should look similar to this </p><pre class="fragment">   myproject/mysourcefile.cs(7):SayHello() [00:00.000 +102 µs] [MAIN] [/] (001): Hello ALox
</pre><p>So, with one line of code we get a <em>Log Statement</em> that incorporates:</p><ul>
<li>The source file, line number and method, which - depending on the IDE you use - is 'clickable' which means a click in the output window opens the source file and highlights the line where the <em>Log Statement</em> sits.</li>
<li>The time that passed since the process started (here 00:00.000 which means below a millisecond)</li>
<li>The time that passed since the last log line: 102 microseconds. This information is handy for a first impression on the execution speed of your methods.</li>
<li>The name of the thread executing the log (automatically identified as the main thread in this case)</li>
<li><code>[/]</code>: to be explained later...</li>
<li>The log counter (001), which e.g. is useful to quickly find the right output lines in your next debug-run.</li>
<li>Finally the log message itself.</li>
</ul>
<p>And: In the release build of your software, this line of code is completely pruned away. Because, as we see later, also in debug versions you can disable log output selectively, with ALox you can keep your debug <em>Log Statements</em> in your code forever!</p>
<p>Let us quickly start a new chapter of this tutorial and go into more details.</p>
<h1><a class="anchor" id="tutcs_lox"></a>
2. Classes Log and Lox</h1>
<p>The previous chapter was a teaser. We showed the shortest possible sample program which does not 'bootstrap' ALox (aka initialize and configure). This is detected and hence ALox tries to setup itself with reasonable default options.</p>
<p>ALox has some concepts that need a little more time to understand. Before we see more code, we have to take some prerequisites.</p>
<p>ALox is designed to support <b>debug logging</b> (log output that should appear only in the debug version of your software) as well as <b>release logging</b>. In C# such pruning is done using method annotations and <em>#if / #endif</em> statements. We have duplicated the central interface class: The duplicate contains method stubs just invoking the original one, but these stubs are conditionally compiled, hence pruned in release.</p>
<p>We want you to understand a little of the class design of ALox, while you are reading yourself through this tutorial. Some first general notes:</p>
<ul>
<li>The most important interface into ALox is class <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html">Lox</a> which is is a container to hold one or more instances of abstract class <a class="el" href="classcs_1_1aworx_1_1lox_1_1core_1_1Logger.html">Logger</a>. Through the interface of class <code>Lox</code>, the <em>Log Statements</em> are invoked. Log statements are forwarded to the <em>Loggers</em> attached.</li>
<li>The most simple case is that you have just one <b>Lox</b> instance, holding exactly one <em>Logger</em> which logs its output to the standard output stream of your process (e.g. <a class="el" href="classcs_1_1aworx_1_1lox_1_1loggers_1_1AnsiConsoleLogger.html">AnsiConsoleLogger</a>). In this tutorial we stick to the simpler cases, maybe adding a second <em>Logger</em> here and there.</li>
<li><p class="startli">Most of the methods that we are using here are invoked on class <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html">Log</a> instead of class <b>Lox</b>. This class is a 'mirror' class of <b>Lox</b>, a kind of fake class that mimics the interface but internally just calls the original methods on a dedicated <b>Lox</b> singleton which is used for debug logging. Therefore, </p><pre class="fragment">  Log.Info( "Hello ALox" );
</pre><p class="startli">means that method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#ad42b2772982a5c4f2198efff4d2f77cd">Info</a> is invoked on the predefined singleton of class <b>Lox</b> which is by default used for debug logging. (Class <b>Log</b> and any reference on it gets pruned with release versions.)</p>
</li>
</ul>
<h1><a class="anchor" id="tutcs_createproject"></a>
3 Create a tutorial project or equip your current project with ALox</h1>
<p>If you want to follow the tutorial samples and play around with it a little, you should either create a tutorial project or right away equip your current project with ALox. For information about how you do that see: <a class="el" href="alox_cs_setup.html">IDE Setup for ALox for C#</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Of-course, you can easily skip this step and just continue <em>reading</em> the tutorial without setting up ALox now. For some IDEs, there might be a <a class="el" href="alox_cs_setup.html">ready to use solution</a> available that minimizes efforts when you want to follow the samples and play around a little.</dd></dl>
<p>To have all namespaces for this tutorial set up, add the following lines to the start of your source file:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lib.html">lib</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lib.html">lib</a>.<a class="code" href="namespacecs_1_1aworx_1_1lib_1_1lang.html">lang</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lib.html">lib</a>.<a class="code" href="namespacecs_1_1aworx_1_1lib_1_1strings.html">strings</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox.html">lox</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox.html">lox</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox_1_1core.html">core</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox_1_1core_1_1textlogger.html">textlogger</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox.html">lox</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox_1_1loggers.html">loggers</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecs.html">cs</a>.<a class="code" href="namespacecs_1_1aworx.html">aworx</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox.html">lox</a>.<a class="code" href="namespacecs_1_1aworx_1_1lox_1_1tools.html">tools</a>;</div></div><!-- fragment --><h1><a class="anchor" id="tutcs_logger"></a>
4. Class "Logger"</h1>
<p>While class <b>Lox</b> is the main interface to ALox logging, abstract class <a class="el" href="classcs_1_1aworx_1_1lox_1_1core_1_1Logger.html">Logger</a> is performing the log. 'Performing' here means that derived instances of this abstract class are responsible for writing the <em>'Logables'</em> (the message or data that is logged) to a 'drain', for example the console or a text file.</p>
<p>Before we can start logging, we need to create one or more <em>Loggers</em> and attach them to our instance of class <b>Lox</b>.</p>
<dl class="section note"><dt>Note</dt><dd>In the shortest sample shown above (<a class="el" href="alox_cs_tutorial.html#tutcs_hello_alox">Hello ALox</a> ) we have not done this. For debug logging ALox notices this and automatically creates a <em>Logger</em>.</dd></dl>
<p>You need to identify the right place in your application where to do this. A good place is the "main()" method or any other place of your project where some "bootstrapping" of your application takes place. Add the following line:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div></div><!-- fragment --><p> This tries to identify the best <em>Logger</em> type that fits to your console type. E.g. If the process runs on an ANSI enabled console or a console window on Windows OS, colorful log output is enabled. Sometimes, this method even creates two <em>Loggers:</em> one for the console and one for your IDE output, when ALox is able to detect and support such IDE.<br />
 For information about what is currently supported and how (with environment variables, configuration files or command line parameters) this behavior can be changed, see methods <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#a84533ce0f6a03f06e4c2b649f51792fd">Log::AddDebugLogger</a> and <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a8db44d29b6867559f393ad860a0a1782">Lox::CreateConsoleLogger</a>.</p>
<p>We never interface with a <code>Logger</code> directly. After it is created and added to the <code>Lox</code>, we can mostly forget about it. For almost all the rest of this introductory tutorial, all you need to know is that <em>Loggers</em> created with this method, write log messages in textual format e.g. to standard output stream (and/or to the application console). As said above, other <em>Loggers</em> could be added in parallel that use other "drains" to write the output to, e.g. files, a metrics server in the cloud, etc.</p>
<p>Together with the <em>Log Statement</em> of the first introductory sample, your projects code (e.g. in method <code>main</code>) should look like this:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div><div class="line">    Log.Info( <span class="stringliteral">&quot;Hello ALox&quot;</span> );</div></div><!-- fragment --><h1><a class="anchor" id="tutcs_run"></a>
5. Run the Application</h1>
<p>When you run your project, output similar to this:</p>
<pre class="fragment">UT_dox_tutorial.cs(192):Tut_Hello_ALox() [0.000 +443 µs][UT]     [/](001): Hello ALox</pre><p>should appear in your IDE or your console.</p>
<dl class="section note"><dt>Note</dt><dd>From the meta information of the log output above you can see, that this tutorial has its sample code embedded in unit tests and the output is captured when running them and inserted here.</dd></dl>
<h2><a class="anchor" id="tutcs_run_ide"></a>
5.1. Run your application within your IDE</h2>
<p>If you are using an IDE supported by ALox (e.g. Visual Studio in Windows), you can double click the log line in the output window. The IDE opens the source and selects the line of code where the log call was invoked. This means, each <em>Log Statement</em> is "clickable" in your IDE and links to its source code line in the editor. This is a tremendous help for developers when debugging their code.</p>
<p>Besides the fact that you can click it, users of ALox are saving even more time. Developers, when using standard "debug print lines", often phrase textual info like: </p><pre class="fragment">    "attn: dbman.savedata(): oops could not store data....ERROR!"
</pre><p>hence, putting some info about the place in the code, where they have put the debug statements. As you see from the ALox output above, information about the <em>caller</em> (source file, line number and method name) of the <em>Log Statement</em> is all included automatically. Advantages are:</p>
<ul>
<li>lines are clickable and link to the editor (as mentioned above)</li>
<li>less to type when adding debug print lines</li>
<li>no need to change the <em>Log Statement</em> when you copy/paste a debug print line to a different class/method or when you rename your class/method</li>
</ul>
<p>Furthermore, as we will see later, the log message type (which seems to be "ERROR!" in the phrase above) is standardized in ALox and does not need to be phrased in your message text.</p>
<p>Besides scope information and message type, you automatically get:</p>
<ul>
<li>the relative time of the log execution (time since application started)</li>
<li>the time elapsed since the last log</li>
<li>the ID of the thread that executed the method</li>
</ul>
<p>The output format and detail of the log line is configurable in ALox. The line above just shows the default. Details you see can be removed or other details can be added (e.g. the absolute date / time instead of only the relative).</p>
<dl class="section note"><dt>Note</dt><dd>Should your IDE not be supported by ALox in respect to generate "clickable log output lines" (aka lines that link automatically to the right point in your source code) it might be the case that only by adjusting the log output format a little, your IDE learns how to read and interpret ALox logging! </dd></dl>
<dl class="section note"><dt>Note</dt><dd>You should adjust your IDE in a way that the output window spans over the complete width of the main window. Also, depending on your screen size, you might decrease the font size of the output window a little. The output gets wide, because a lot of valuable information is logged besides the log message. In addition, the output is organized in columns that auto adjust their size. This takes a wider output into account for the benefit of largely improved readability.</dd></dl>
<h2><a class="anchor" id="tutcs_run_release"></a>
2.6. Build a release version</h2>
<p>Switch your project configuration to "Release" and run the application. The output should not appear!</p>
<p>Even better: The ALox code is not even compiled into the release target. So, whatever you are logging out during developing and debugging your software, it is all automatically gone in the release version.</p>
<p>This is achieved by providing the right set of <a class="el" href="alox_cs_setup.html#alox_cs_setup_condcompsym">Conditional Compilation Symbol</a> when <a class="el" href="alox_cs_setup.html">setting up the project</a>. Only project configurations that have the symbol <b>ALOX_DBG_LOG</b> set will contain ALox debug logging statements.</p>
<p>This has a lot of benefits:</p><ul>
<li>your release code executes faster</li>
<li>your release executable gets a smaller footprint</li>
<li>you are not delivering your debug language to the end user (not even if your executable is reverse engineered)</li>
</ul>
<h1><a class="anchor" id="tutcs_verbosity"></a>
6. Controlling the 'Verbosity'</h1>
<p>The code above uses the method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#ad42b2772982a5c4f2198efff4d2f77cd">Lox::Info()</a> (embedded in a preprocessor macro) to create the log output. There are three other Versions of that method, together constituting the four <em>'Verbosities'</em>:</p>
<ul>
<li><a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#aec7b4fe333cde58e71b153f3bdbfafa9">Log.Error()</a></li>
<li><a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#ab67126eaca5906a600f718e9ed0ba0bd">Log.Warning()</a></li>
<li><a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#ae698619c3f9da413512ce732812559fc">Log.Info()</a></li>
<li><a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#af9a3cbc771c59eb48f2db6ecb641a544">Log.Verbose()</a></li>
</ul>
<p>Let us see what happens when extending our sample as follows:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div><div class="line"></div><div class="line">    Log.Error  ( <span class="stringliteral">&quot;A severe error happened :-(&quot;</span> );</div><div class="line">    Log.Warning( <span class="stringliteral">&quot;This is a warning :-/ Maybe an error follows?&quot;</span> );</div><div class="line">    Log.Info   ( <span class="stringliteral">&quot;Just for your further information!&quot;</span> );</div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;Today, I am in the mood to talk...&quot;</span> );</div></div><!-- fragment --><p> If you run your application now (in "Debug" mode), the following output should appear:</p>
<pre class="fragment">UT_dox_tutorial.cs(218):Tut_Verbosity() [0.000 +446 µs][UT][ERR][/](001): A severe error happened :-(
UT_dox_tutorial.cs(219):Tut_Verbosity() [0.015 +014 ms][UT][WRN][/](002): This is a warning :-/ Maybe an error follows?
UT_dox_tutorial.cs(220):Tut_Verbosity() [0.032 +017 ms][UT]     [/](003): Just for your further information!
UT_dox_tutorial.cs(221):Tut_Verbosity() [0.048 +015 ms][UT][***][/](004): Today, I am in the mood to talk...</pre><p>The little space in the meta information, right after the thread name [main] fills with text-markers <b>[ERR]</b>, <b>[WRN]</b> and <b>[***]</b>, giving info about which verbosity a <em>Log Statement</em> defines.<br />
 In this sample, we are using just one source file, thread name, etc. When more variety appears, ALox will automatically set tabulators in the meta information of the log output, so that this information is almost always at the same column. This makes it very easy for example to identify those log messages of <em>Verbosity</em> 'Error'.</p>
<dl class="section note"><dt>Note</dt><dd>If on your machine, ALox detects a console that supports colorizing the log output, method <b>Log.AddDebugLogger</b> will choose a colorful implementation of class <b>Logger</b> and you will see the different output lines in different colors instead of these little text-markers. This helps 'visually filtering' log lines even better.</dd></dl>
<p>Now, we want to control the <em>Verbosity</em> of the log output. Let's say we just want to see 'Error' and 'Warning' messages, and suppress those of <em>Verbosity</em> 'Info' and 'Verbose'. ALox allows to control this on a 'per <em>Logger'</em> basis using method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a57455d6cf16f07d3e3d6d2acf71a71a1">Lox.SetVerbosity</a>. We add the line:</p>
<div class="fragment"><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Warning );</div></div><!-- fragment --><p> Here, we are explicitly passing the <em>Logger</em> object that ALox creates as a static singleton for debug-logging purposes, with method <b>AddDebugLogger()</b>. Instead of passing the reference to the object, we could as well use a <em>Loggers'</em> name. The <em>Logger</em> that method <b>AddDebugLogger()</b> creates is named <code>"DEBUG_LOGGER"</code>. Therefore, the line of code shown above can alternatively stated as:</p>
<div class="fragment"><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Warning );</div></div><!-- fragment --><p> Our sample now looks like this:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div><div class="line"></div><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Warning );</div><div class="line"></div><div class="line">    Log.Error  ( <span class="stringliteral">&quot;A severe error happened :-(&quot;</span> );</div><div class="line">    Log.Warning( <span class="stringliteral">&quot;This is a warning :-/ Maybe an error follows?&quot;</span> );</div><div class="line">    Log.Info   ( <span class="stringliteral">&quot;Just for your further information!&quot;</span> );</div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;Today, I am in the mood to talk...&quot;</span> );</div></div><!-- fragment --><p> and produces the following output:</p>
<pre class="fragment">UT_dox_tutorial.cs(246):Tut_Verbosity() [0.064 +016 ms][UT][ERR][/](001): A severe error happened :-(
UT_dox_tutorial.cs(247):Tut_Verbosity() [0.081 +016 ms][UT][WRN][/](002): This is a warning :-/ Maybe an error follows?</pre><p>As you see, only the <em>Log Statements</em> with <em>Verbosity</em> 'Error' and 'Warning' survived.</p>
<p>Obviously ALox uses the attribute <em>Verbosity</em>, defined in enum class <a class="el" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a> two times:</p><ul>
<li>every <em>Log Statement</em> has a <em>Verbosity</em> assigned.</li>
<li>A <em>Logger</em> attached to a <em>Lox</em> has a <em>Verbosity</em> assigned.</li>
</ul>
<p>Then ALox matches both attributes to decide whether a <em>Log Statement</em> is executed with a <em>Logger</em> or not.</p>
<dl class="section note"><dt>Note</dt><dd>Some notes on method <b>SetVerbosity:</b> <ul>
<li>The first time this method is called for a <em>Logger</em>, this method internally 'registers' the given <em>Logger</em> with the <b>Lox</b> object. In other words, there is no other method (and no need!) to register a <em>Logger</em> with a <b>Lox</b>.</li>
<li>To switch off all log output, use <em>Verbosity.Off</em>.</li>
<li>To remove (for any reason) a <em>Logger</em> from a <b>Lox</b>, use method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a50e49329bf3afc08f0d9c6bd0e070711">Lox.RemoveLogger</a>.</li>
<li>Method <b>AddDebugLogger</b>, by default sets <em>Verbosity.Verbose</em> for the <em>Logger</em> created.</li>
</ul>
</dd></dl>
<p>Now, we are able to control the <em>Verbosity</em> of the <b>'overall'</b> log output of our application. But probably, in bigger projects, we need more <b>'granularity'</b> for such control. The next section tells how!</p>
<h1><a class="anchor" id="tutcs_logdomains"></a>
7. Log Domains</h1>
<p>Controlling the <em>Verbosity</em> of the log output, including switching it completely off, is of-course a core feature of any logging library. ALox allows to control such <em>Verbosity</em> for different <b>Log Domains</b>. A <em>Log Domain</em> can be seen like a key-word associated with just every <em>Log Statement</em>. This way, <em>Log Domains</em> are sorting each and every <em>Log Statement</em> used in an application into a specific <b>subset</b>.</p>
<p>Until now, we have not used and set any <em>Log Domain</em> in our samples. We have just omitted the parameter in our <em>Log Statements</em> and this way the parameter defaulted to an empty string. Look at the following two <em>Log Statements</em>:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose ); <span class="comment">// the default anyhow</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;HTTP&quot;</span>, <span class="stringliteral">&quot;Connected&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;UI&quot;</span>,   <span class="stringliteral">&quot;Somebody moved the mouse!&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div></div><!-- fragment --><p> As you see, two parameters are given now. The first denotes the <em>Log Domain</em>. The string provided can be arbitrarily chosen. Let us quickly look at the log output:</p>
<pre class="fragment">UT_dox_tutorial.cs(278):Tut_Domains() [0.000 +499 µs][UT][***][/HTTP](001): Connected
UT_dox_tutorial.cs(282):Tut_Domains() [0.013 +012 ms][UT][***][/UI  ](002): Somebody moved the mouse!</pre><p>In the meta information of the log output, just before the line number, formerly appeared <code>[/]</code> (what we did not explain, yet). Now it says <code>[/HTTP]</code>, respectively <code>[/UI]</code>. Obviously this field of the meta information denotes the <em>Log Domain</em> associated with the <em>Log Statement</em>.</p>
<p>The <em>Log Domains</em> chosen in this sample obviously group the <em>Log Statements</em> of the application into two sets, one for <em>Log Statement</em> concerning information about the 'user interface', the other about HTTP communication. Now, we can control the <em>Verbosity</em> of the two sets independently. We are using another default parameter that we previously omitted. Imagine, the UI of your application works well, but you have some problems with HTTP connections:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div><div class="line"></div><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose,  <span class="stringliteral">&quot;HTTP&quot;</span> ); <span class="comment">// our interest</span></div><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Error,    <span class="stringliteral">&quot;UI&quot;</span>   ); <span class="comment">// only if ouch!</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;HTTP&quot;</span>, <span class="stringliteral">&quot;Connected&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;UI&quot;</span>,   <span class="stringliteral">&quot;Somebody moved the mouse!&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div></div><!-- fragment --><p> Now the output is:</p>
<pre class="fragment">UT_dox_tutorial.cs(301):Tut_Domains() [0.029 +016 ms][UT][***][/HTTP](001): Connected</pre><p>Although both <em>Log Statement</em> share the same <em>Verbosity</em>, only the one that belongs to <em>Log Domain</em> "HTTP" is shown.</p>
<p>The next section tells us more about <em>Log Domains</em>. You might already guess what this is when looking at the meta information of the log output, showing <code>[/HTTP]</code>, <code>[/UI]</code> and <code>[/]</code> for the <em>Log Domains</em>!</p>
<h1><a class="anchor" id="tutcs_logdomains_hierarchical"></a>
8. Hierarchical Log Domains</h1>
<p>ALox organizes <em>Log Domains</em> hierarchically. A first advantage of this is that it becomes easy to switch <em>Verbosity</em> of a whole set of <em>Log Domains</em> by controlling the parent.</p>
<p>Look at the following sample:</p>
<div class="fragment"><div class="line">    Log.AddDebugLogger();</div><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose ); <span class="comment">// the default anyhow</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Info   ( <span class="stringliteral">&quot;UI/MOUSE&quot;</span>,   <span class="stringliteral">&quot;A mouse click&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;UI/MOUSE&quot;</span>,   <span class="stringliteral">&quot;Somebody moved the mouse!&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Info   ( <span class="stringliteral">&quot;UI/DLG&quot;</span>,     <span class="stringliteral">&quot;About dialog opend&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Verbose( <span class="stringliteral">&quot;UI/DLG&quot;</span>,     <span class="stringliteral">&quot;About dialog, link to product page pressed.&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div></div><!-- fragment --><p> and its output:</p>
<pre class="fragment">UT_dox_tutorial.cs(335):Tut_HierDom() [0.000 +422 µs][UT]     [/UI/MOUSE](001): A mouse click
UT_dox_tutorial.cs(337):Tut_HierDom() [0.016 +015 ms][UT][***][/UI/MOUSE](002): Somebody moved the mouse!
UT_dox_tutorial.cs(340):Tut_HierDom() [0.033 +016 ms][UT]     [/UI/DLG  ](003): About dialog opend
UT_dox_tutorial.cs(342):Tut_HierDom() [0.048 +015 ms][UT][***][/UI/DLG  ](004): About dialog, link to product page pressed.</pre><p>We can use a slash (<code> '/'</code>) to separate <em>Log Domains</em> and organize them in a tree structure, just as we do with directories in a file system. In the sample above, <em>Log Domains</em> <b>"DLG"</b> and <b>"MOUSE"</b> are Sub-<em>Log Domains</em> of <em>Log Domain</em> "UI".</p>
<p>With this information, it is important to understand that method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a57455d6cf16f07d3e3d6d2acf71a71a1">Lox.SetVerbosity</a> always sets the given <em>Log Domain</em> and <b>all its sub-domains</b> to the <em>Verbosity</em> value provided. Consequently, the following statement switches <em>Log Domains</em> <b>"UI"</b>, <b>"UI/MOUSE"</b> and <b>"UI/DLG"</b> to the same <em>Verbosity.Warning</em>:</p>
<div class="fragment"><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Warning, <span class="stringliteral">&quot;UI&quot;</span>  ); <span class="comment">// Always sets all sub-domains!</span></div></div><!-- fragment --><p> If we were interested how mouse events are processed in our application, we might do invoke:</p>
<div class="fragment"><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Warning, <span class="stringliteral">&quot;UI&quot;</span>       ); <span class="comment">// First set parent...</span></div><div class="line">    Log.SetVerbosity( Log.DebugLogger, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, <span class="stringliteral">&quot;UI/MOUSE&quot;</span> ); <span class="comment">// ...then children!</span></div></div><!-- fragment --><p> The order of these two statements is important: If they had been written the other way round, then the setting of <em>Log Domain</em> <b>"UI"</b> had overwritten that of <em>Log Domain</em> <b>"UI/MOUSE"</b>.</p>
<dl class="section note"><dt>Note</dt><dd>You might wonder why there is no second version of the method available (or an optional parameter) that allows to manipulate only the <em>Log Domain</em> given, without touching its Sub-<em>Log Domains</em>. There are good reasons for this and these are explained in the <a href="../manual.html">ALox User Manual</a>. It is also explained there, that there is a way to stop recursion and in which situations this might be useful. But for now and in standard situations: The setting of <em>Verbosity</em> is recursive!</dd></dl>
<p>Almost everywhere ALox accepts a <em>Log Domain</em> name as a parameter, a <b>domain path</b> can be given. This even works with the dot and dot-dot syntax that we know from file paths. Also, <b>relative</b> and <b>absolute</b> path names can be given. Here are some samples: </p><pre class="fragment">    "DOM"          // a relative path name
    "./DOM"        // same as "DOM"
    "/DOM"         // an absolute path name
    "/DOM/XYZ/.."  // same as "/DOM"
    "/DOM/.."      // same as "/"
    "DOM/XYZ/.."   // same as "DOM"
    "DOM/./XYZ"    // same as "DOM/XYZ"
</pre><p>Now, we are able control the <em>Verbosity</em> of a (sub-)tree of <em>Log Domains</em>. The next section tells us more about why the hierarchical organization of <em>Log Domains</em> is extremely useful.</p>
<h1><a class="anchor" id="tutcs_scope_domains"></a>
9. Scope Domains</h1>
<p>As we saw, optional parameter <span>domain</span> of <em>Log Statements</em> allows us to group the log output into different areas of interest and control the <em>Verbosity</em> per group. This is nice, but</p><ul>
<li>We have to type more</li>
<li>We have to recall the 'actual' <em>Log Domains</em>' name when we insert a <em>Log Statement</em></li>
<li>The <em>Log Statement</em> become less easier to read (remember: <em>Log Statement</em> should fit to your code like comment lines)</li>
<li>When copy/pasting code, all <em>Log Domain</em> might have to be changed to the destinations' domain name</li>
<li>When we want to change a <em>Log Domain</em> name, we have to change it everywhere we use it.</li>
</ul>
<p>To avoid all this (and gain even more) ALox provides a feature called <b>Scope Domains</b>.</p>
<p>The term <em>Scope</em> is known from your programming language. For example, a variable declared within a class method, 'automatically' carries the scope of that method. This means, it is not visible outside of that method. ALox uses a similar approach: All <em>Log Statements</em> within a method might carry the same <em>Log Domain</em>. In other words, we can set a 'default value' for a <em>Log Domain</em> to be used for all <em>Log Statements</em> of a method.</p>
<p>The interface in ALox which provides this feature is found with the set of overloaded versions of <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a61e2df18f576ca8184ea5d4e21148bc4">Lox.SetDomain</a>. Here is a sample:</p>
<div class="fragment"><div class="line">    <span class="keyword">public</span> <span class="keywordtype">char</span>[] Extract( String fileName, <span class="keywordtype">char</span>[] buffer )</div><div class="line">    {</div><div class="line">        Log.SetDomain( <span class="stringliteral">&quot;ZIP/EXTRACT&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method ); <span class="comment">// set Scope Domain path for this method</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Extracting &quot;</span> + fileName );</div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Success&quot;</span> ); <span class="comment">// a nice, clear, local, copyable log statement!</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="keywordflow">return</span> buffer;</div><div class="line">    }</div></div><!-- fragment --><p> and its output:</p>
<pre class="fragment">UT_dox_tutorial.cs(46):Extract() [0.000 +544 µs][UT]     [/ZIP/EXTRACT](001): Extracting myfile.zip
UT_dox_tutorial.cs(49):Extract() [0.018 +017 ms][UT]     [/ZIP/EXTRACT](002): Success</pre><p>You see, all disadvantages we just listed are blown away using <em>Scope Domains</em>.</p>
<p>In the sample above, we have used <em>Scope.Method</em>. Another type is <em>Scope.Filename</em> which "binds" a given <em>Log Domain</em> path to all <em>Log Statements</em> within a source file. As with scopes in your programming language, <em>Scopes</em> in ALox are nested and of-course <em>Scope.Filename</em> is an <b>'outer Scope'</b> of <em>Scope.Method</em>. For a single <em>Log Statement</em>, both <em>Scope Domains</em> might apply at the same time. With having hierarchically organized <em>Log Domains</em>, ALox concatenates all <em>Scope Domains</em> applicable. Look at the following sample:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Zipper</div><div class="line">{</div><div class="line">    <span class="keyword">public</span> Zipper()</div><div class="line">    {</div><div class="line">        Log.SetDomain( <span class="stringliteral">&quot;ZIP&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename ); <span class="comment">// set Scope Domain path for this class (filename)</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Zipper created&quot;</span> ); <span class="comment">// domain &quot;ZIP&quot;</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">char</span>[] Compress( String fileName, <span class="keywordtype">char</span>[] buffer )</div><div class="line">    {</div><div class="line">        Log.SetDomain( <span class="stringliteral">&quot;COMPRESS&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method ); <span class="comment">// set Scope Domain path for this method</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Compressing &quot;</span> + fileName );</div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Success&quot;</span> ); <span class="comment">// domain &quot;ZIP/COMPRESS&quot;</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="keywordflow">return</span> buffer;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">char</span>[] Extract( String fileName, <span class="keywordtype">char</span>[] buffer )</div><div class="line">    {</div><div class="line">        Log.SetDomain( <span class="stringliteral">&quot;EXTRACT&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method ); <span class="comment">// set Scope Domain path for this method</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Extracting &quot;</span> + fileName );</div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Success&quot;</span> ); <span class="comment">// domain &quot;ZIP/EXTRACT&quot;</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="keywordflow">return</span> buffer;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> and its output when both sample methods are executed:</p>
<pre class="fragment">UT_dox_tutorial.cs(63):.ctor()         [0.141 +015 ms][UT]     [/ZIP         ] (001): Zipper created
UT_dox_tutorial.cs(71):Compress()      [0.157 +016 ms][UT]     [/ZIP/COMPRESS] (002): Compressing myfile.zip
UT_dox_tutorial.cs(74):Compress()      [0.174 +017 ms][UT]     [/ZIP/COMPRESS] (003): Success
UT_dox_tutorial.cs(83):Extract()       [0.189 +014 ms][UT]     [/ZIP/EXTRACT ] (004): Extracting myfile.zip
UT_dox_tutorial.cs(86):Extract()       [0.206 +017 ms][UT]     [/ZIP/EXTRACT ] (005): Success</pre><p>Imagine, the source file of class Zipper resides in a source directory, together with other 'utility classes'. Somewhere in these classes, probably at the place where this 'utility library' is initialized (once, when bootstrapping a process), the following statement might be added:</p>
<div class="fragment"><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;UTIL&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Path );</div></div><!-- fragment --><p> This sets <em>Log Domain</em> "UTIL" for <em>Scope.Path</em>, which is again an <b>outer scope</b> of <em>Scope.Filename</em>. Without changing the code in class Zipper, invoking its methods then leads to the output:</p>
<pre class="fragment">UT_dox_tutorial.cs(63):.ctor()         [0.306 +016 ms][UT]     [/UTIL/ZIP         ] (001): Zipper created
UT_dox_tutorial.cs(71):Compress()      [0.331 +024 ms][UT]     [/UTIL/ZIP/COMPRESS] (002): Compressing myfile.zip
UT_dox_tutorial.cs(74):Compress()      [0.354 +023 ms][UT]     [/UTIL/ZIP/COMPRESS] (003): Success
UT_dox_tutorial.cs(83):Extract()       [0.372 +017 ms][UT]     [/UTIL/ZIP/EXTRACT ] (004): Extracting myfile.zip
UT_dox_tutorial.cs(86):Extract()       [0.393 +021 ms][UT]     [/UTIL/ZIP/EXTRACT ] (005): Success</pre><p>What happens when <em>Scope Domains</em> are set and we still use optional parameter <span>domain</span> with a <em>Log Statement</em>? Let us just try out:</p>
<div class="fragment"><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;METHOD&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.Info(          <span class="stringliteral">&quot;No domain parameter given&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;PARAM&quot;</span>, <span class="stringliteral">&quot;Domain parameter \&quot;PARAM\&quot; given&quot;</span> );</div></div><!-- fragment --><pre class="fragment">UT_dox_tutorial.cs(454):Tut_ScopeDomains() [0.495 +020 ms][UT]     [/METHOD      ] (001): No domain parameter given
UT_dox_tutorial.cs(455):Tut_ScopeDomains() [0.515 +020 ms][UT]     [/METHOD/PARAM] (002): Domain parameter "PARAM" given</pre><p>As you see, the path provided with parameter <span>domain</span> gets appended to the path of <em>Scope Domains</em> evaluated. You can consider this parameter being a 'local' <em>Scope</em>, or an <b>inner</b> scope of <em>Scope.Method!</em> </p>
<p>Finally, imagine you want to 'overwrite' current applicable <em>Scope Domains</em> and direct a certain <em>Log Statement</em> to a different <em>Log Domain</em>. All you need to do is to use an absolute domain path with parameter <span>domain</span>:</p>
<div class="fragment"><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;READ&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;Reading file&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="comment">//...</span></div><div class="line">    Log.Info( <span class="stringliteral">&quot;/CONFIG&quot;</span>,   <span class="stringliteral">&quot;Path not found.&quot;</span> );</div><div class="line">    <span class="comment">//...</span></div></div><!-- fragment --><pre class="fragment">UT_dox_tutorial.cs(465):Tut_ScopeDomains() [0.568 +052 ms][UT]     [/READ        ] (001): Reading file
UT_dox_tutorial.cs(468):Tut_ScopeDomains() [0.585 +016 ms][UT]     [/CONFIG      ] (002): Path not found.</pre><p>In this sample, the second <em>Log Statement</em> uses an absolute path. The reason is, that the error dectected in the code, obviously belongs to a different topic. The sample suggests, that it is not related to reading a file, but it is related to a wrong configuration. So, the log output goes directly to the corresponding domain.</p>
<p>This is enough about <em>Scope Domains</em> in the context of this tutorial. All details about <em>Log Domain</em> and <em>Scope Domains</em> are found in the <a href="../manual.html">ALox User Manual</a>. Among other things, you will find:</p><ul>
<li>Information on a <em>Scope.Global</em> </li>
<li>How to use outer <em>Scopes</em> of <em>Scope.Path</em>, addressing parent directories (alike namespace scoping)</li>
<li>Information on 'thread-related' <em>Scopes</em>, which allow to change <em>Log Domain</em> on a per thread basis in different ways</li>
<li>More samples and use cases, e.g. when to use absolute paths in <em>Scope Domains</em>.</li>
</ul>
<h1><a class="anchor" id="tutcs_formatting"></a>
10. Formatting</h1>
<p>While talking about rather complicated things like <em>Log Domains</em> and <em>Scopes</em>, we must not forget to talk about the log output itself. <b>ALox</b> is designed to be able to pass any type of data to one or more <em>Loggers</em>. In the default case, a textual output of these <em>"Logables"</em> is wanted. We have seen in previous samples already, that if two objects are passed, their textual representation is just concatenated:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="stringliteral">&quot;Value=&quot;</span>, 5 );</div></div><!-- fragment --><pre class="fragment">UT_dox_tutorial.cs(863):Tut_Format() [0.025 +025 ms][UT]     [/](001): Value=5</pre><p>But in fact, this concatenation is just the "fallback" strategy of a quite powerful formatting system coming with <b>ALox</b>. In short, <b>ALox</b> here relies on underlying library <b>ALib</b>, which provides abstract class <a class="el" href="classcs_1_1aworx_1_1lib_1_1strings_1_1format_1_1Formatter.html">Formatter</a> allowing to format a set of arguments in accordance with a given format string that contains placeholder symbols.</p>
<p>Now there are two tricks implemented: First, if no format string is recognized, a simple concatenation is performed. This is what we already saw. But secondly, if one formatter does not recognize a format string, a next formatter can be asked.</p>
<p>Two formatters are provided by <b>ALib</b> and <b>ALox</b> (by default) installs both in parallel:</p><ol type="1">
<li><a class="el" href="classcs_1_1aworx_1_1lib_1_1strings_1_1format_1_1FormatterPythonStyle.html">FormatterPythonStyle</a><br />
 Implements an extended version of <a href="https://docs.python.org/3.5/library/string.html#format-string-syntax">Python String Fromat Syntax</a>, which is also similar to what C# offers.</li>
<li><a class="el" href="classcs_1_1aworx_1_1lib_1_1strings_1_1format_1_1FormatterJavaStyle.html">FormatterJavaStyle</a><br />
 Implements the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html">formatting standards of the Java language</a>, which in turn are a little like good old <code>printf</code>, but of-course much more powerful and also type-safe.</li>
</ol>
<p>With this background information, it is no surprise that the line above can alternatively be written like this:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="stringliteral">&quot;Value={}&quot;</span>, 5 );</div></div><!-- fragment --><p> which is Python compatible syntax, or like this:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="stringliteral">&quot;Value=%s&quot;</span>, 5 );</div></div><!-- fragment --><p> which is how Java formatters declare format strings!</p>
<p>If more arguments exists than a format string "consumes", the next remaining argument is treated like the first one: if a format string is detected it is processed, otherwise the textual representation of the argument is just appended to the log output. Because of this, the following statements all produce the same log output:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="stringliteral">&quot;One-&quot;</span>, <span class="stringliteral">&quot;Two-&quot;</span>, <span class="stringliteral">&quot;Three&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;{}-{}-{}&quot;</span>, <span class="stringliteral">&quot;One&quot;</span>, <span class="stringliteral">&quot;Two&quot;</span>, <span class="stringliteral">&quot;Three&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;{}-{}-&quot;</span>  , <span class="stringliteral">&quot;One&quot;</span>, <span class="stringliteral">&quot;Two&quot;</span>, <span class="stringliteral">&quot;Three&quot;</span> );</div><div class="line">    Log.Info( <span class="keyword">new</span> Object[] { <span class="stringliteral">&quot;{}-&quot;</span>  , <span class="stringliteral">&quot;One&quot;</span>, <span class="stringliteral">&quot;{}-&quot;</span>, <span class="stringliteral">&quot;Two&quot;</span>, <span class="stringliteral">&quot;{}&quot;</span>, <span class="stringliteral">&quot;Three&quot;</span> } );</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The parameters of the last <em>Log Statement</em> in the sample above are collected in an <code>Object</code>[] prior to passing them to method <b>Log.Info</b>. This is necessary due to an unfortunate restriction that we have with <b>ALox for C#</b>! A maximum of four objects are allowed as "normal" logging parameters. If more should be provided, then they have to be passed packed in an array of type <code>Object</code>. This is due to the necessity to have hidden, trailing parameters in each method. These hidden parameters automatically collect caller information from the compiler.</dd></dl>
<p>Of-course it is even allowed to mix Python style and Java style format strings in one log statement:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="keyword">new</span> Object[] { <span class="stringliteral">&quot;Python Style: {!s}&quot;</span>,<span class="stringliteral">&quot;PS&quot;</span>, <span class="stringliteral">&quot; - &quot;</span>, <span class="stringliteral">&quot;Java Style: \&quot;%s\&quot;&quot;</span>, <span class="stringliteral">&quot;JS&quot;</span> } );</div></div><!-- fragment --><p> The output is:</p>
<pre class="fragment">UT_dox_tutorial.cs(886):Tut_Format() [0.118 +017 µs][UT]     [/](008): Python Style: "PS" - Java Style: "JS"</pre><p>However, please note that it is <b>not</b> allowed to mix Python and Java styles within one format string!</p>
<p>In general, we are recommending to use Python style syntax with <b>ALox</b>, because it is more powerful and probably also better readable. The full documentation of the formats and how this is adopted within the C++ version of <b>ALib/ALox</b> is found with documentation of classes <a class="el" href="classcs_1_1aworx_1_1lib_1_1strings_1_1format_1_1FormatterPythonStyle.html">FormatterPythonStyle</a> and <a class="el" href="classcs_1_1aworx_1_1lib_1_1strings_1_1format_1_1FormatterJavaStyle.html">FormatterJavaStyle</a>. Let us conclude this chapter with some more samples:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="stringliteral">&quot;&gt;{:&lt;10}&lt;&quot;</span> , <span class="stringliteral">&quot;left&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;&gt;{:&gt;10}&lt;&quot;</span> , <span class="stringliteral">&quot;right&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;&gt;{:^10}&lt;&quot;</span> , <span class="stringliteral">&quot;center&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;&gt;{:10.3}&lt;&quot;</span>, 12.3456789 );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;Tab:{!Tab12}&quot;</span>, <span class="stringliteral">&quot;Stop&quot;</span> );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;Auto Tab:{!ATab}&quot;</span>, <span class="stringliteral">&quot;Stop&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;Auto Tab XXX:{!ATab}&quot;</span>, <span class="stringliteral">&quot;Stop&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;Auto Tab:{!ATab}&quot;</span>, <span class="stringliteral">&quot;Stop&quot;</span> );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;A quoted {!Q} string&quot;</span>, <span class="stringliteral">&quot;Placeholder&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;A quoted {!Q} number&quot;</span>, 395 );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;Upper {0!Q!up} and lower {0!Q!lo} conversion&quot;</span>, <span class="stringliteral">&quot;CaSe&quot;</span> );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;Hex: {:#x}. With group chars: {0:x,}&quot;</span>, 0x11FF22EE );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;Oct: {:#o}. With group chars: {0:o,}&quot;</span>, 012345670 );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;Bin: {:#b}. With group chars: {0:b,}&quot;</span>, 145 );</div></div><!-- fragment --><pre class="fragment">UT_dox_tutorial.cs(892):Tut_Format() [0.136 +167 µs][UT]     [/](009): &gt;left      &lt;
UT_dox_tutorial.cs(893):Tut_Format() [0.150 +006 µs][UT]     [/](010): &gt;     right&lt;
UT_dox_tutorial.cs(894):Tut_Format() [0.163 +006 µs][UT]     [/](011): &gt;  center  &lt;
UT_dox_tutorial.cs(895):Tut_Format() [0.176 +007 µs][UT]     [/](012): &gt;    12.346&lt;
UT_dox_tutorial.cs(897):Tut_Format() [0.189 +005 µs][UT]     [/](013): Tab:        Stop
UT_dox_tutorial.cs(899):Tut_Format() [0.202 +008 µs][UT]     [/](014): Auto Tab: Stop
UT_dox_tutorial.cs(900):Tut_Format() [0.219 +019 µs][UT]     [/](015): Auto Tab XXX:    Stop
UT_dox_tutorial.cs(901):Tut_Format() [0.233 +014 µs][UT]     [/](016): Auto Tab:        Stop
UT_dox_tutorial.cs(903):Tut_Format() [0.247 +009 µs][UT]     [/](017): A quoted "Placeholder" string
UT_dox_tutorial.cs(904):Tut_Format() [0.263 +017 µs][UT]     [/](018): A quoted "395" number
UT_dox_tutorial.cs(906):Tut_Format() [0.277 +007 µs][UT]     [/](019): Upper "CASE" and lower "case" conversion
UT_dox_tutorial.cs(908):Tut_Format() [0.294 +011 µs][UT]     [/](020): Hex: 0x11ff22ee. With group chars: 11ff'22ee
UT_dox_tutorial.cs(909):Tut_Format() [0.311 +012 µs][UT]     [/](021): Oct: 0o57060506. With group chars: 57'060'506
UT_dox_tutorial.cs(910):Tut_Format() [0.329 +010 µs][UT]     [/](022): Bin: 0b10010001. With group chars: 1001'0001</pre><h1><a class="anchor" id="tutcs_conditional"></a>
11. Conditional logging</h1>
<h2>11.1. Lox.Assert</h2>
<p>Often log lines should only be displayed if a certain condition is met. Here is a sample:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">int</span> i= 0;</div><div class="line">    <span class="keywordflow">while</span>( i &lt; len )</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> ( array[i] == search )</div><div class="line">        {</div><div class="line">            process( i );</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        i++;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> ( i == len )</div><div class="line">        Log.Error( <span class="stringliteral">&quot;Nothing found :-(&quot;</span> );</div></div><!-- fragment --><p> The last two lines can be replaced by one using method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#a435a8eadd8768fde91aa38308344a7ae">Log::Assert()</a> as follows:</p>
<div class="fragment"><div class="line">    Log.Assert( i &lt; len, <span class="stringliteral">&quot;Nothing found :-(&quot;</span> );</div></div><!-- fragment --><p> Advantages are again less typing and better readability of the code. Furthermore, the C# compiler would probably not prune the <em>if statement</em> if it was a more complex evaluation. As with using <em>Assert()</em> the evaluation of the expression is definitely pruned from your code. (Be sure you do not put side effects into expressions of <em>Assert()</em> invocations).</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>In accordance with the concept of assertions, the condition has to be <code>false</code> to have ALox perform the log.</li>
<li>The <em>Verbosity</em> of <em>Assert()</em> is <em>Verbosity.Error</em>.</li>
</ul>
</dd></dl>
<h2>11.2. Lox.If</h2>
<p>A similar method to <b>Lox.Assert</b> this is <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#ab31c7787d9ae652246908ae84e5a0483">Lox.If</a>. The differences to <b>Lox.Assert</b> are:</p><ul>
<li>The given condition is interpreted the other way round: if <code>true</code>, the <em>Log Statement</em> is executed.</li>
<li>The <em>Verbosity</em> of the <em>Log Statement</em> is not fixed but can (has to) be specified with parameter <span>verbosity</span>.</li>
</ul>
<p>Hence, the very same effect as given in the previous sample can be achieved with:</p>
<div class="fragment"><div class="line">    Log.If( i == len, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Error, <span class="stringliteral">&quot;Nothing found :-(&quot;</span> );</div></div><!-- fragment --> <h2>11.3. Log.Once</h2>
<p>Another useful <em>Log Statement</em> provided by ALox is <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a29a0ad7eabed8e8b8f2a698d30250975">Lox.Once</a>. As the method name suggests, the statement</p>
<div class="fragment"><div class="line">    Log.Once( <span class="stringliteral">&quot;I tell you this now only once!&quot;</span> );</div></div><!-- fragment --><p> will lead to a log output only the very first time that it is executed. This seems simple, and well it is - as long as you omit all optional parameters. There are quite a bit, which makes this statement extremely flexible.</p>
<p>All details are given in a dedicated chapter of the <a href="../manual.html">ALox User Manual</a>. Let us therefore just summarize some facts:</p><ul>
<li>A <em>Verbosity</em> and <em>Log Domain</em> can be given (of-course)</li>
<li>A counter to increase the 'once' to 'n-times' can be given.</li>
<li>The method can be used to log a message every n-th time.</li>
<li>A key-word can be given, which combines different of such <em>Log Statement</em> to a set. Then the counter applies to this set.</li>
<li>Instead of a keyword, a <em>Scope</em> can be given. This implements "Log once per this \e Scope" or "Log n-times per this \e Scope"</li>
<li>A combination of a keyword and a <em>Scope</em> can be given. This implements "Log those statements of this group in this \e Scope n-times"</li>
</ul>
<h1><a class="anchor" id="tutcs_log_prefix"></a>
12. Prefixes</h1>
<p>Imagine, all log statements of a of a certain kind should be very visible and distinguishable from other output. You could do this by</p><ul>
<li>giving them a separated color</li>
<li>Indent them with spaces</li>
<li>Start each log line with a clearly visible 'marker text'.</li>
</ul>
<p>These things can be achieved with ALox using method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#add02b0bed0163fc7688f5bbb7313d99a">Lox.SetPrefix</a>. With this method, additional <em>Logables</em> are passed to <em>Loggers</em> attached to a <b>Lox</b>. When logging text messages (we have not even talked in this tutorial about <b>logging arbitrary objects</b>) these objects are simply prepended to the log message itself.</p>
<p>Of-course, <em>Prefix Logable</em> can be defined according to ALox <em>Scopes</em>, language-related or thread-related ones. This means, you can do things like this:</p><ul>
<li>Add a prefix to all statements of method, source file or source directory</li>
<li>Add a prefix to all statements executed by a certain tread.</li>
</ul>
<p>Often, it is simpler to assign a <em>Prefix Logable</em> to a <em>Log Domain</em>. Also this is possible with overloaded versions of the method.</p>
<p>The real simple sample looks like this:</p>
<div class="fragment"><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;ALOX TUTORIAL: &quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;Well, just a sample&quot;</span> );</div></div><!-- fragment --> <pre class="fragment">UT_dox_tutorial.cs(498):Tut_Prefix() [0.000 +541 µs][UT]     [/](001): ALOX TUTORIAL: Well, just a sample</pre><p>For colorizing (depending on the availability of a console that supports colors) the following prefix would be suitable:</p>
<div class="fragment"><div class="line">    Log.SetPrefix( ESC.BG_MAGENTA, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div></div><!-- fragment --><p> We can not easily show colorful sample output in this tutorial. Try this yourself. ALox supports colorized output on ANSI consoles (GNU/Linux, etc.) and Windows OS command windows.</p>
<p>More and more complex use cases are elaborated in the <a href="../manual.html">ALox User Manual</a>, for example it is explained how log output can be 'recursively indented' with very simple statements. Recursive indentation is very helpful when logging in recursive algorithms or when structured, composed data objects are logged.</p>
<p>The next chapter shows that ALox has already built-in mechanics for logging out structured data!</p>
<h1><a class="anchor" id="tutcs_logtools"></a>
13. LogTools: Log Complex Data</h1>
<p>ALox also provides some log functions that log more complex stuff. The design decision was made to not put this into the classes <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html">Lox</a> / <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html">Log</a> but into a separated class <a class="el" href="classcs_1_1aworx_1_1lox_1_1tools_1_1LogTools.html">LogTools</a>. However, LogTools is used in the same simple fashion as class Log itself.</p>
<p>On the C# language platform three methods are currently available which are briefly covered in the following:</p>
<h2><a class="anchor" id="tutcs_more_logtools_instance"></a>
13.1 Instance(): Log any object recursively</h2>
<p>The method <a class="el" href="classcs_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#acb33f2635e20f75c0a552eb90be27742">LogTools.Instance()</a> allows you to log just any object recursively in a well formatted way. You can try this out quickly by adding the following code to your sample:</p>
<div class="fragment"><div class="line">    <span class="comment">// Log multi-lines without meta info</span></div><div class="line"><span class="preprocessor">    #if ALOX_DBG_LOG</span></div><div class="line">        ((TextLogger) Log.GetLogger( <span class="stringliteral">&quot;Console&quot;</span> )).MultiLineMsgMode= 4;</div><div class="line"><span class="preprocessor">    #endif</span></div><div class="line"></div><div class="line">    <span class="comment">// Log current thread instance</span></div><div class="line">    LogTools.Instance( <span class="stringliteral">&quot;MYDOM&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info, Thread.CurrentThread, 2, <span class="stringliteral">&quot;Actual Thread: &quot;</span> );</div></div><!-- fragment --><p> As you can see, we are just passing a quite complex object, the current thread, to the method. The parameter that follows the object which is to be logged (the current thread) determines the level of objects which are recursively logged, starting from the given one (composite objects). You can play around with it, and increase it from 2 to lets say 5. But be careful: this can lead to a quite long log message!</p>
<p>The given parameter "Actual Thread: " provides a headline for the log output. This allows you to save another line of code, which would be logging the headline explicitly.</p>
<p>Here are the first lines of output of the above sample:</p>
<pre class="fragment">&gt;&gt; Actual Thread:                                                    {Thread}
&gt;&gt; &lt;01&gt;  ExecutionContextBelongsToCurrentScope: True                 {Boolean}
&gt;&gt; &lt;02&gt;  ExecutionContext:                                           {ExecutionContext}
&gt;&gt; &lt;03&gt;    isNewCapture:               False                         {Boolean}
&gt;&gt; &lt;04&gt;    isFlowSuppressed:           False                         {Boolean}
&gt;&gt; &lt;05&gt;    IsPreAllocatedDefault:      False                         {Boolean}
&gt;&gt; &lt;06&gt;    LogicalCallContext:         (MAX REC)                     {LogicalCallContext}
&gt;&gt; &lt;07&gt;    IllogicalCallContext:       (MAX REC)                     {IllogicalCallContext}
&gt;&gt; &lt;08&gt;    SynchronizationContext:     &lt;null&gt;
&gt;&gt; &lt;09&gt;    SynchronizationContextNoFlow: &lt;null&gt;
&gt;&gt; &lt;10&gt;    _syncContext:               &lt;null&gt;
&gt;&gt; &lt;11&gt;    _syncContextNoFlow:         &lt;null&gt;
&gt;&gt; &lt;12&gt;    _logicalCallContext:        (MAX REC)                     {LogicalCallContext}
&gt;&gt; &lt;13&gt;    _illogicalCallContext:      (MAX REC)                     {IllogicalCallContext}
&gt;&gt; &lt;14&gt;    _flags:                     None                          {Flags}
&gt;&gt; &lt;15&gt;    _localValues:               (MAX REC) System.Collections.Generic.Dictionary`2[System.Threading.IAsyncLocal,System.Object] {Dictionary`2}
&gt;&gt; &lt;16&gt;    _localChangeNotifications:  (MAX REC) System.Collections.Generic.List`1[System.Threading.IAsyncLocal] {List`1}
&gt;&gt; &lt;17&gt;  Priority:                     Normal                        {ThreadPriority}
&gt;&gt; &lt;18&gt;  CurrentUICulture:                                           {CultureInfo}
&gt;&gt; &lt;19&gt;    Territory:                  "DE"                          {String}
&gt;&gt; &lt;20&gt;    CultureTypes:               AllCultures                   {CultureTypes}
&gt;&gt; &lt;21&gt;    IetfLanguageTag:            "de-DE"                       {String}
&gt;&gt; &lt;22&gt;    KeyboardLayoutId:           1031                          {Int32}
&gt;&gt; &lt;23&gt;    LCID:                       1031                          {Int32}
&gt;&gt; &lt;24&gt;    Name:                       "de-DE"                       {String}
&gt;&gt; &lt;25&gt;    NativeName:                 "Deutsch (Deutschland)"       {String}
&gt;&gt; &lt;26&gt;    NativeCalendarName:         "Gregorianischer Kalender"    {String}
&gt;&gt; &lt;27&gt;    Calendar:                   (MAX REC)                     {GregorianCalendar}
&gt;&gt; &lt;28&gt;    OptionalCalendars:          (MAX REC)                     {Calendar[]}
&gt;&gt; &lt;29&gt;    Parent:                     (MAX REC) de                  {CultureInfo}
&gt;&gt; &lt;30&gt;    TextInfo:                   (MAX REC) TextInfo - de-DE    {TextInfo}
&gt;&gt; &lt;31&gt;    ThreeLetterISOLanguageName: "deu"                         {String}
...
...
...
</pre><dl class="section note"><dt>Note</dt><dd>This uses the inspection features of C#/.Net. Unfortunately under Windows Phone development inspection is not a feature. Therefore, this method is not available for Windows Phone projects.</dd></dl>
<h2><a class="anchor" id="tutcs_more_logtools_exception"></a>
13.2 Exception(): Log an exception recursively (with inner exceptions)</h2>
<p>Just like Instance(), the method <a class="el" href="classcs_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a3abf7b376a1a6931af7fb0240329f65c">LogTools.Exception()</a> uses the multi line feature of ALox to log out the contents of a C# Exception well formatted and recursively (following inner exceptions).</p>
<p>Of-course a perfect place in your code to add <a class="el" href="classcs_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a3abf7b376a1a6931af7fb0240329f65c">LogTools.Exception()</a> is the first line within a <em>catch() block</em>.</p>
<p>To try it out, add the following code into your project:</p>
<div class="fragment"><div class="line">    Exception testException=  <span class="keyword">new</span> Exception( <span class="stringliteral">&quot;TestException Message&quot;</span>,</div><div class="line">                                                <span class="keyword">new</span> Exception ( <span class="stringliteral">&quot;InnerException Message&quot;</span>,</div><div class="line">                                                                <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Inner, inner Exception&quot;</span>) ) );</div><div class="line">    LogTools.Exception( <span class="stringliteral">&quot;MYDOM&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Warning, testException, <span class="stringliteral">&quot;Logging an exception: &quot;</span> );</div></div><!-- fragment --><p>Like the method <a class="el" href="classcs_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#acb33f2635e20f75c0a552eb90be27742">LogTools.Instance()</a>, a headline for the Exception log output can be specified. This allows you to save another line of code, which would be logging the headline explicitly.</p>
<p>The following log output will be generated:</p>
<pre class="fragment">&gt;&gt; Logging an exception: 
&gt;&gt;   Type:       System.Exception
&gt;&gt;   Message:    TestException Message
&gt;&gt;   HResult:    0x80131500
&gt;&gt;   Inner:   
&gt;&gt;     Type:       System.Exception
&gt;&gt;     Message:    InnerException Message
&gt;&gt;     HResult:    0x80131500
&gt;&gt;     Inner:   
&gt;&gt;       Type:       System.Exception
&gt;&gt;       Message:    Inner, inner Exception
&gt;&gt;       HResult:    0x80131500</pre><h2><a class="anchor" id="tutcs_more_logtools_xml"></a>
13.3 XML(): Log out an XML document or element</h2>
<p>The third method in LogTools that logs a complex object is <a class="el" href="classcs_1_1aworx_1_1lox_1_1tools_1_1LogTools.html#a3abf7b376a1a6931af7fb0240329f65c">LogTools.Exception()</a> for logging objects of type XMLDocument or XMLElement. Here is a quick sample code:</p>
<div class="fragment"><div class="line">    String xmltext= <span class="stringliteral">&quot;&lt;MainTag&gt;&quot;</span></div><div class="line">                        +<span class="stringliteral">&quot;&lt;SubTag&gt;Hello ALox XML&lt;/SubTag&gt;&quot;</span></div><div class="line">                        +<span class="stringliteral">&quot;&lt;SubTag2&gt;&quot;</span></div><div class="line">                            +<span class="stringliteral">&quot;&lt;SubsubTag&gt;A sub tags&#39; string&lt;/SubsubTag&gt;&quot;</span></div><div class="line">                        +<span class="stringliteral">&quot;&lt;/SubTag2&gt;&quot;</span></div><div class="line">                    +<span class="stringliteral">&quot;&lt;/MainTag&gt;&quot;</span>;</div><div class="line">    XDocument xdoc= XDocument.Parse( xmltext );</div><div class="line"></div><div class="line">    LogTools.XML(<span class="stringliteral">&quot;MYDOM&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info, xdoc, <span class="stringliteral">&quot;Logging an xml document: &quot;</span> );</div></div><!-- fragment --><p> The output will look similar to this:</p>
<pre class="fragment">&gt;&gt; Logging an xml document: 
&gt;&gt;   MainTag
&gt;&gt;     SubTag="Hello ALox XML"
&gt;&gt;     SubTag2
&gt;&gt;       SubsubTag="A sub tags' string"</pre><h1><a class="anchor" id="tutcs_threadnames"></a>
14. Name Your Threads</h1>
<p>In multi-threaded applications, ALox by default logs information about the thread id or name that executed the code containing your log statements. (This can be configured for ALox textual <em>Loggers</em> with class <a class="el" href="classcs_1_1aworx_1_1lox_1_1core_1_1textlogger_1_1MetaInfo.html">MetaInfo</a>.)</p>
<p>Often threads do not have a name, but just an ID. It would be much nicer to see a name instead. ALox provides a simple mechanism to overwrite thread names with method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#a162ae0a9a67a6e32a891419dedb57f17">Log.MapThreadName</a>.</p>
<p>The mechanism is simple, but it might not be simple to identify the right place in the code to put it! Some code can be executed from different threads, and sometimes (for example when using an UI framework) you might not even know exactly which thread will invoke your code. However, the good news is that each thread ID has to be mapped only once during the lifecycle of the program, but may be mapped multiple times. Therefore, the guideline is:</p>
<ul>
<li>Identify a piece of code from which you are sure that only one certain thread invokes that code.</li>
<li>Make sure that this code is not executed frequently to avoid the mapping overhead.</li>
<li>Make sure that this code is executed early in the lifecycle of your application.</li>
</ul>
<p>For the sample of UI Frameworks, a good place to invoke <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#a162ae0a9a67a6e32a891419dedb57f17">Log.MapThreadName</a> is the initial creation callback of your main application UI component. Normally, it is enough to put this statement only in one component (the main one), because all other components will be initialized by the same Framework thread.</p>
<p>But as this is a convenience concept anyhow, it is good practice to not care too much about it at first. Later, when your application grows, you can check your log files periodically for new, unmapped thread IDs. When you see one, scroll up in the log file and try to identify the very first appearance of this new ID. A double click on the log line will open the code that invoked the log. If you have populated your code with a reasonable amount of log entries, you will end up at the right place automatically! It also might be a good idea to restart your app with all domains set to <em>Verbosity.Verbose</em> and then look for the first appearances of unknown threads.</p>
<h1><a class="anchor" id="tutcs_logdata"></a>
15. ALox Log Data</h1>
<p>We hope that you are fully aware when reading through this tutorial, that all debug-log statements that are sampled here, are <b>pruned</b> from the release executables. One of the great benefits of ALox is that this removal of the statements is done quite automatically (depending on the language version you are using). Once, you have set-up your projects rightfully, your next release built is silent and does not contain your ALox <em>Log Statements</em>.</p>
<p>The concept of <b>Log Data</b> leverages this feature of ALox to allow to create variables that are existing exclusively in a debug compilation of your software. You can consider this feature as a "low hanging fruit" - not necessarily related with logging - but for ALox easy to implement and for the user easy to use. As the access to <em>Log Data</em> is exclusively done through the ALox API, the data is nicely 'encapsulated' and the probability of creating side effects is reduced in comparison to other ways to introduce temporary variables used for debugging.</p>
<p>The methods to store and retrieve <em>Log Data</em> with ALox are <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#aa5da7d41e33718250586613ccf58cdc0">Lox.Store</a> and <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#ae825d3e3a505471aee9f7736429b748f">Lox.Retrieve</a>.</p>
<p>Here is a sample code which sets a debug variable in ALox providing a version of a file that was read by an application:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>FileIO</div><div class="line">{</div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> Read(String fileName )</div><div class="line">    {</div><div class="line">        Log.SetDomain( <span class="stringliteral">&quot;READ&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">        Log.Info( <span class="stringliteral">&quot;Reading &quot;</span> + fileName );</div><div class="line"></div><div class="line">        String fileVersion;</div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="comment">// Identified file version</span></div><div class="line">        fileVersion= <span class="stringliteral">&quot;3.1&quot;</span>;</div><div class="line"></div><div class="line">        Log.Store( fileVersion , <span class="stringliteral">&quot;FILE_VERSION&quot;</span> );</div><div class="line"></div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="comment">//...</span></div><div class="line">        Log.Info( <span class="stringliteral">&quot;Success&quot;</span> );</div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --><p> Now, whenever it might be interesting, this file version can be accessed:</p>
<div class="fragment"><div class="line">    Log.Info( <span class="stringliteral">&quot;Working on file version {!Q}&quot;</span>, Log.Retrieve( <span class="stringliteral">&quot;FILE_VERSION&quot;</span> ) );</div></div><!-- fragment --><p> The output will be:</p>
<pre class="fragment">UT_dox_tutorial.cs(102):Read()        [0.108 +018 ms][UT]     [/READ] (002): Reading myfile.dat
UT_dox_tutorial.cs(114):Read()        [0.196 +023 ms][UT]     [/READ] (003): Success
UT_dox_tutorial.cs(831):Tut_LogData() [0.243 +033 ms][UT]     [/    ] (004): Working on file version "3.1"</pre><p>If method "Read()" of the sample above was not executed and therefore no variable was stored, ALox just creates an empty, default object. The output in this case would look like this:</p>
<pre class="fragment">UT_dox_tutorial.cs(822):Tut_LogData() [0.071 +071 ms][UT]     [/](001): Working on file version "System.Object"</pre><h1><a class="anchor" id="tutcs_config"></a>
16. ALox Configuration Information and Internal Log Messages</h1>
<p>In complex projects it might get a little confusing to keep track about the <em>Loggers</em> and their <em>Verbosity</em>, <em>Scope Domains</em>, <em>Prefix Logables</em> and <em>Log Data</em> set.</p>
<p>More importantly, when other software components of your project are using ALox as well (defining their own domains) then you might not know exactly which <em>Log Domains</em> get registered and used by those. The same applies when working in a team.</p>
<p>Let us create a sample, do some ALox configuration and then invoke method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Lox.html#a801d9784fa14e309a1889fd0afb09a36">Lox.State</a>:</p>
<div class="fragment"><div class="line">    <span class="comment">// create two different loggers</span></div><div class="line">    Log.AddDebugLogger();</div><div class="line">    Log.SetVerbosity( <span class="keyword">new</span> MemoryLogger(),  <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose );</div><div class="line"></div><div class="line">    <span class="comment">// reduce meta information to limit tutorial output width</span></div><div class="line"><span class="preprocessor">    #if ALOX_DBG_LOG</span></div><div class="line">        Log.DebugLogger                         .MetaInfo.Format._()._( <span class="stringliteral">&quot;[%tN]%V[%D](%#): &quot;</span> );</div><div class="line">        ((MemoryLogger) Log.GetLogger(<span class="stringliteral">&quot;MEMORY&quot;</span>)).MetaInfo.Format._()._( <span class="stringliteral">&quot;[%tN]%V[%D](%#): &quot;</span> );</div><div class="line">        ((MemoryLogger) Log.GetLogger(<span class="stringliteral">&quot;MEMORY&quot;</span>)).MultiLineMsgMode= 3;</div><div class="line"><span class="preprocessor">    #endif</span></div><div class="line">    <span class="comment">// OK, let&#39;s use ALox</span></div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;PNS&quot;</span>   ,   <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Path, 1 );</div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;PATH&quot;</span>,     <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Path );</div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;FN&quot;</span>,       <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;THREAD&quot;</span>,   <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.ThreadOuter );</div><div class="line"></div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;MEMORY&quot;</span>,        <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Off      , <span class="stringliteral">&quot;/CON&quot;</span>    );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose              );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Off      , <span class="stringliteral">&quot;/MEM&quot;</span>    );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Error    , <span class="stringliteral">&quot;/UI&quot;</span>     );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info     , <span class="stringliteral">&quot;/UI/DLG&quot;</span> );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;This goes to both loggers&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;/MEM&quot;</span>, <span class="stringliteral">&quot;This goes only to the memory logger&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;/CON&quot;</span>, <span class="stringliteral">&quot;This goes only to the console logger&quot;</span> );</div><div class="line"></div><div class="line">    Log.Once( <span class="stringliteral">&quot;Will we see this in the config?&quot;</span> );</div><div class="line">    Log.Once( <span class="stringliteral">&quot;Will we see this in the config?&quot;</span>, <span class="stringliteral">&quot;ONCEKEY&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line"></div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 1&quot;</span>,            <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 2&quot;</span>, <span class="stringliteral">&quot;DataKey&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 3&quot;</span>, <span class="stringliteral">&quot;DataKey&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 4&quot;</span>, <span class="stringliteral">&quot;DataKey&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.ThreadOuter );</div><div class="line"></div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;TPre: &quot;</span>  , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.ThreadOuter );</div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;MPre: &quot;</span>  , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;DomPre: &quot;</span> );</div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;Mouse: &quot;</span>, <span class="stringliteral">&quot;/UI/MOUSE&quot;</span> );</div><div class="line">    Log.SetPrefix( ESC.RED,  <span class="stringliteral">&quot;/ERRORS&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lib_1_1lang.html#a217539925b78b2eed40ae7817d5bee52">Inclusion</a>.Exclude );</div><div class="line"></div><div class="line">    Log.MapThreadName( <span class="stringliteral">&quot;TUTORIAL&quot;</span> );</div><div class="line"></div><div class="line">    <span class="comment">// now, log the current config</span></div><div class="line">    Log.State( null, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info, <span class="stringliteral">&quot;The current configuration of this Lox is:&quot;</span> );</div></div><!-- fragment --><p> <b>Lox.State</b> gathers internal configuration information and logs it out. The output is quite self explanatory:</p>
<pre class="fragment">[UT]     [/THREAD/PATH/FN](001): This goes to both loggers
[UT]     [/MEM           ](002): This goes only to the memory logger
[UT]     [/THREAD/PATH/FN](003): Will we see this in the config?
[UT]     [/THREAD/PATH/FN](004): Will we see this in the config?
[TUTORIAL]     [/THREAD/PATH/FN](005): ALox: Multi line message follows: 
&gt;&gt; TPre: MPre: DomPre: The current configuration of this Lox is:
&gt;&gt; Name:            "LOG"
&gt;&gt; Version:         1805 (Rev. 0)
&gt;&gt; Thread-Safeness: Safe
&gt;&gt; #Log Calls:      5
&gt;&gt; 
&gt;&gt; Source Path Trimming Rules: 
&gt;&gt;   Global: "*/src.cs/", Include, Priority: Default
&gt;&gt; 
&gt;&gt; Domain Substitution Rules: 
&gt;&gt;   &lt;no rules set&gt;
&gt;&gt; 
&gt;&gt; Once() Counters: 
&gt;&gt;   Scope.FileName    [alox.unittests/UT_dox_tutorial.*]
&gt;&gt;     "#703"    =1
&gt;&gt;     "ONCEKEY" =1
&gt;&gt; 
&gt;&gt; Log Data: 
&gt;&gt;   Scope.ThreadOuter [Thread="TUTORIAL"]:
&gt;&gt;     "DataKey" =MyData 4
&gt;&gt; 
&gt;&gt;   Scope.FileName    [alox.unittests/UT_dox_tutorial.*]
&gt;&gt;     "DataKey" =MyData 3
&gt;&gt; 
&gt;&gt;   Scope.Method      [alox.unittests/UT_dox_tutorial.* @Tut_LogState()]
&gt;&gt;     &lt;global&gt;  =MyData 1
&gt;&gt;     "DataKey" =MyData 2
&gt;&gt; 
&gt;&gt; Prefix Logables: 
&gt;&gt;   "TPre: "               Scope.ThreadOuter [Thread="TUTORIAL"]
&gt;&gt;   "MPre: "               Scope.Method      [alox.unittests/UT_dox_tutorial.* @Tut_LogState()]
&gt;&gt;   "{ESC.RED}" (Excl.)    &lt;domain&gt;          [/ERRORS]
&gt;&gt;   "DomPre: "             &lt;domain&gt;          [/THREAD/PATH/FN]
&gt;&gt;   "Mouse: "              &lt;domain&gt;          [/UI/MOUSE]
&gt;&gt; 
&gt;&gt; Named Threads:   
&gt;&gt;   (6):   "TUTORIAL"
&gt;&gt; 
&gt;&gt; Scope Domains: 
&gt;&gt;   THREAD                 Scope.ThreadOuter [Thread="TUTORIAL"]
&gt;&gt;   PATH                   Scope.Path        [alox.unittests/]
&gt;&gt;   FN                     Scope.FileName    [alox.unittests/UT_dox_tutorial.*]
&gt;&gt; 
&gt;&gt; Loggers:
&gt;&gt;   DEBUG_LOGGER (CONSOLE)
&gt;&gt;     Lines logged:  5
&gt;&gt;     Creation time: 2018-07-29 20:16:06
&gt;&gt;     Last log time: 2018-07-29 20:16:06
&gt;&gt;     Verbosities:   /               = Verbose (Default)
&gt;&gt;                    /MEM            = Off     (Default)
&gt;&gt;                    /UI             = Error   (Default)
&gt;&gt;                    /UI/DLG         = Info    (Default)
&gt;&gt; 
&gt;&gt;   MEMORY
&gt;&gt;     Lines logged:  4
&gt;&gt;     Creation time: 2018-07-29 20:16:06
&gt;&gt;     Last log time: 2018-07-29 20:16:06
&gt;&gt;     Verbosities:   /               = Verbose (Default)
&gt;&gt;                    /CON            = Off     (Default)
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Loggers on Internal Domains:
&gt;&gt;   DEBUG_LOGGER (CONSOLE)
&gt;&gt;     Lines logged:  5
&gt;&gt;     Creation time: 2018-07-29 20:16:06
&gt;&gt;     Last log time: 2018-07-29 20:16:06
&gt;&gt;     Verbosities:   $/              = Warning (Default)
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Internal Domains:
&gt;&gt;   $/                [002]  { ([000], Warning (Default)) }
&gt;&gt;   $/DMN             [031]  { ([001], Warning (Default)) }
&gt;&gt;   $/LGD             [004]  { ([000], Warning (Default)) }
&gt;&gt;   $/LGR             [011]  { ([000], Warning (Default)) }
&gt;&gt;   $/PFX             [005]  { ([000], Warning (Default)) }
&gt;&gt;   $/THR             [002]  { ([000], Warning (Default)) }
&gt;&gt;   $/VAR             [000]  { ([000], Warning (Default)) }
&gt;&gt; 
&gt;&gt; Domains:
&gt;&gt;   /                 [000]  { ([000], Verbose (Default)), ([000], Verbose (Default)) }
&gt;&gt;   /CON              [001]  { ([001], Verbose (Default)), ([000], Off     (Default)) }
&gt;&gt;   /ERRORS           [000]  { ([000], Verbose (Default)), ([000], Verbose (Default)) }
&gt;&gt;   /MEM              [001]  { ([000], Off     (Default)), ([001], Verbose (Default)) }
&gt;&gt;   /THREAD           [000]  { ([000], Verbose (Default)), ([000], Verbose (Default)) }
&gt;&gt;   /THREAD/PATH      [000]  { ([000], Verbose (Default)), ([000], Verbose (Default)) }
&gt;&gt;   /THREAD/PATH/FN   [003]  { ([003], Verbose (Default)), ([003], Verbose (Default)) }
&gt;&gt;   /UI               [000]  { ([000], Error   (Default)), ([000], Verbose (Default)) }
&gt;&gt;   /UI/DLG           [000]  { ([000], Info    (Default)), ([000], Verbose (Default)) }
&gt;&gt;   /UI/MOUSE         [000]  { ([000], Error   (Default)), ([000], Verbose (Default)) }
&gt;&gt; </pre><p>Besides this, there is a <b>second option</b> to inspect what happens internally in class <em>Lox</em>. ALox is equipped with an internal <em>Log Domain</em>. This domain is used by ALox to log messages about itself! All we have to do, is setting the <em>Verbosity</em> of the internal domain to verbose for our debug <em>Logger:</em> </p>
<div class="fragment"><div class="line">    <span class="comment">// This is the very same code as above...</span></div><div class="line">    Log.AddDebugLogger();</div><div class="line">    Log.SetVerbosity( <span class="keyword">new</span> MemoryLogger(),  <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose );</div><div class="line"></div><div class="line"><span class="preprocessor">    #if ALOX_DBG_LOG</span></div><div class="line">        Log.DebugLogger                         .MetaInfo.Format._()._( <span class="stringliteral">&quot;[%tN]%V[%D](%#): &quot;</span> );</div><div class="line">        ((MemoryLogger) Log.GetLogger(<span class="stringliteral">&quot;MEMORY&quot;</span>)).MetaInfo.Format._()._( <span class="stringliteral">&quot;[%tN]%V[%D](%#): &quot;</span> );</div><div class="line"><span class="preprocessor">    #endif</span></div><div class="line"></div><div class="line">    <span class="comment">// ... with one difference: we are activating the internal domain</span></div><div class="line">    Log.SetVerbosity( Log.GetLogger(<span class="stringliteral">&quot;MEMORY&quot;</span>), <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, ALox.InternalDomains );</div><div class="line">    Log.SetVerbosity( Log.DebugLogger,         <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose, ALox.InternalDomains );</div><div class="line"></div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;PNS&quot;</span>   ,   <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Path, 1 );</div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;PATH&quot;</span>,     <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Path );</div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;FN&quot;</span>,       <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line">    Log.SetDomain( <span class="stringliteral">&quot;THREAD&quot;</span>,   <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.ThreadOuter );</div><div class="line"></div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;MEMORY&quot;</span>,        <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Off      , <span class="stringliteral">&quot;/CON&quot;</span>    );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Verbose              );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Off      , <span class="stringliteral">&quot;/MEM&quot;</span>    );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Error    , <span class="stringliteral">&quot;/UI&quot;</span>     );</div><div class="line">    Log.SetVerbosity( <span class="stringliteral">&quot;DEBUG_LOGGER&quot;</span> , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#abf3be10d03894afb391f3a2935e3b313">Verbosity</a>.Info     , <span class="stringliteral">&quot;/UI/DLG&quot;</span> );</div><div class="line"></div><div class="line">    Log.Info( <span class="stringliteral">&quot;This goes to both loggers&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;/MEM&quot;</span>, <span class="stringliteral">&quot;This goes only to the memory logger&quot;</span> );</div><div class="line">    Log.Info( <span class="stringliteral">&quot;/CON&quot;</span>, <span class="stringliteral">&quot;This goes only to the console logger&quot;</span> );</div><div class="line"></div><div class="line">    Log.Once( <span class="stringliteral">&quot;Will we see this in the config?&quot;</span> );</div><div class="line">    Log.Once( <span class="stringliteral">&quot;Will we see this in the config?&quot;</span>, <span class="stringliteral">&quot;ONCEKEY&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line"></div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 1&quot;</span>,            <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 2&quot;</span>, <span class="stringliteral">&quot;DataKey&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 3&quot;</span>, <span class="stringliteral">&quot;DataKey&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Filename );</div><div class="line">    Log.Store( <span class="stringliteral">&quot;MyData 4&quot;</span>, <span class="stringliteral">&quot;DataKey&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.ThreadOuter );</div><div class="line"></div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;TPre: &quot;</span>  , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.ThreadOuter );</div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;MPre: &quot;</span>  , <a class="code" href="namespacecs_1_1aworx_1_1lox.html#aaecc53892786f2fa11e682f633af84c6">Scope</a>.Method );</div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;DomPre: &quot;</span> );</div><div class="line">    Log.SetPrefix( <span class="stringliteral">&quot;Mouse: &quot;</span>, <span class="stringliteral">&quot;/UI/MOUSE&quot;</span> );</div><div class="line">    Log.SetPrefix( ESC.RED,  <span class="stringliteral">&quot;/ERRORS&quot;</span>, <a class="code" href="namespacecs_1_1aworx_1_1lib_1_1lang.html#a217539925b78b2eed40ae7817d5bee52">Inclusion</a>.Exclude );</div><div class="line"></div><div class="line">    Log.MapThreadName( <span class="stringliteral">&quot;TUTORIAL&quot;</span> );</div></div><!-- fragment --><p> The output will be:</p>
<pre class="fragment">[UT]     [$/LGR](001): Logger "MEMORY" added for internal log messages.
[UT]     [$/LGR](002): Logger "MEMORY":       '$/'    = Verbosity.Verbose (Default).
[UT]     [$/LGR](003): Logger "DEBUG_LOGGER": '$/'    = Verbosity.Verbose (Default).
[UT]     [$/DMN](004): 'PNS' set as default for Scope.Path(L0).
[UT][WRN][$/DMN](005): 'PATH' set as default for Scope.Path(L0). Replacing previous default 'PNS'
[UT]     [$/DMN](006): 'FN' set as default for Scope.Filename.
[UT]     [$/DMN](007): 'THREAD' set as default for Scope.ThreadOuter.
[UT]     [$/DMN](008): '/CON' registered.
[UT][***][$/DMN](009):   "DEBUG_LOGGER": /CON = Verbose (Default)
[UT][***][$/DMN](010):   "MEMORY":       /CON = Verbose (Default)
[UT]     [$/LGR](011): Logger "MEMORY":       '/CON'  = Verbosity.Off     (Default).
[UT]     [$/LGR](012): Logger "DEBUG_LOGGER": '/'     = Verbosity.Verbose (Default).
[UT]     [$/DMN](013): '/MEM' registered.
[UT][***][$/DMN](014):   "DEBUG_LOGGER": /MEM = Verbose (Default)
[UT][***][$/DMN](015):   "MEMORY":       /MEM = Verbose (Default)
[UT]     [$/LGR](016): Logger "DEBUG_LOGGER": '/MEM'  = Verbosity.Off     (Default).
[UT]     [$/DMN](017): '/UI' registered.
[UT][***][$/DMN](018):   "DEBUG_LOGGER": /UI = Verbose (Default)
[UT][***][$/DMN](019):   "MEMORY":       /UI = Verbose (Default)
[UT]     [$/LGR](020): Logger "DEBUG_LOGGER": '/UI'   = Verbosity.Error   (Default).
[UT]     [$/DMN](021): '/UI/DLG' registered.
[UT][***][$/DMN](022):   "DEBUG_LOGGER": /UI/DLG = Error   (Default)
[UT][***][$/DMN](023):   "MEMORY":       /UI/DLG = Verbose (Default)
[UT]     [$/LGR](024): Logger "DEBUG_LOGGER": '/UI/DLG' = Verbosity.Info    (Default).
[UT]     [$/DMN](025): '/THREAD' registered.
[UT][***][$/DMN](026):   "DEBUG_LOGGER": /THREAD = Verbose (Default)
[UT][***][$/DMN](027):   "MEMORY":       /THREAD = Verbose (Default)
[UT]     [$/DMN](028): '/THREAD/PATH' registered.
[UT][***][$/DMN](029):   "DEBUG_LOGGER": /THREAD/PATH = Verbose (Default)
[UT][***][$/DMN](030):   "MEMORY":       /THREAD/PATH = Verbose (Default)
[UT]     [$/DMN](031): '/THREAD/PATH/FN' registered.
[UT][***][$/DMN](032):   "DEBUG_LOGGER": /THREAD/PATH/FN = Verbose (Default)
[UT][***][$/DMN](033):   "MEMORY":       /THREAD/PATH/FN = Verbose (Default)
[UT]     [/THREAD/PATH/FN](034): This goes to both loggers
[UT]     [/MEM           ](035): This goes only to the memory logger
[UT]     [/THREAD/PATH/FN](036): Will we see this in the config?
[UT]     [$/             ](037): Once() reached limit of 1 logs. No further logs for Scope.Filename.
[UT]     [/THREAD/PATH/FN](038): Will we see this in the config?
[UT]     [$/             ](039): Once() reached limit of 1 logs. No further logs for group "ONCEKEY" in Scope.Filename.
[UT]     [$/LGD          ](040): Stored data in Scope.Method.
[UT]     [$/LGD          ](041): Stored data  with key "ONCEKEY" in Scope.Method.
[UT]     [$/LGD          ](042): Stored data  with key "ONCEKEY" in Scope.Filename.
[UT]     [$/LGD          ](043): Stored data  with key "ONCEKEY" in Scope.ThreadOuter.
[UT]     [$/PFX          ](044): Object "TPre: " set as prefix logable for Scope.ThreadOuter.
[UT]     [$/PFX          ](045): Object "MPre: " set as prefix logable for Scope.Method.
[UT]     [$/PFX          ](046): Object "DomPre: " added as prefix logable for domain '/THREAD/PATH/FN'.
[UT]     [$/DMN          ](047): '/UI/MOUSE' registered.
[UT][***][$/DMN          ](048):   "DEBUG_LOGGER": /UI/MOUSE = Error   (Default)
[UT][***][$/DMN          ](049):   "MEMORY":       /UI/MOUSE = Verbose (Default)
[UT]     [$/PFX          ](050): Object "Mouse: " added as prefix logable for domain '/UI/MOUSE'.
[UT]     [$/DMN          ](051): '/ERRORS' registered.
[UT][***][$/DMN          ](052):   "DEBUG_LOGGER": /ERRORS = Verbose (Default)
[UT][***][$/DMN          ](053):   "MEMORY":       /ERRORS = Verbose (Default)
[UT]     [$/PFX          ](054): Object "" added as prefix logable for domain '/ERRORS'.
[UT]     [$/THR          ](055): Mapped thread ID 6 to "TUTORIAL". Original thread name: "Runner thread".</pre><p>This way, you can exactly observe what is going on inside ALox.</p>
<p>To summarize: We have to ways to look into ALox:</p>
<ol type="1">
<li>Method <a class="el" href="classcs_1_1aworx_1_1lox_1_1Log.html#ae11da4f0fea803dd5120175fa021aaa6">Log.State()</a> logs a "snapshot" of the current states. The advantage of this is, that it is all logged sequentially in one place and does not clutter your log output.</li>
<li>By setting the <em>Verbosity</em> of the internal <em>Log Domain</em> <a class="el" href="classcs_1_1aworx_1_1lox_1_1ALox.html#a7b6260c97ca73f960a2b5aabd5cc91ae">ALox.InternalDomains</a> to a more verbose level. While this clutters your log output and you might have to search the pieces in your overall log stream, the advantage here is that you see the scope information and therefore you see "where" a certain manipulation of the settings took place...and you can click on it!</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>The internal <em>Log Domain</em> found in static, read-only field <a class="el" href="classcs_1_1aworx_1_1lox_1_1ALox.html#a7b6260c97ca73f960a2b5aabd5cc91ae">ALox.InternalDomains</a> is not just a domain name string. In fact it specifies a completely different <b>domain tree</b> which is not related to those domains created when using ALox. Even when changing the <em>Verbosity</em> for a <em>Logger</em> on the root domain <code>/</code>, this domain is not affected, because it is just not a part of the general domain system. The advantage is that you can not 'accidentally' switch this domain on or off. In other words, the general domain tree is completely kept free for the users of ALox.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><b>ALox</b> configuration variable <a href="../group__GrpALoxConfigVars.html">ALOX_LOXNAME_DUMP_STATE_ON_EXIT</a> provides a way to automatically log state information when a <b>Lox</b> gets deleted.</dd></dl>
<h1><a class="anchor" id="tutcs_end"></a>
Further Reading</h1>
<p>This is the end of the tutorial of ALox for C++. You should be able to use the basic features of the ALox logging ecosystem and have nice, formatted, configurable log output in your software projects. ALox puts you in the comfortable position to keep your debug <em>Log Statements</em> in your code, because you can easily configure not only the verbosity as a global parameter, but for different <em>Log Domains</em> separately. When you start editing code that you have not touched for a while, you just can enable the corresponding <em>Log Domain</em> and restrict others to warnings and errors for a while. Because of the efficient ALox implementation, disabled <em>Log Domains</em> do not have a relevant impact on the execution of your debug code. As soon as you release your code, debug logging is pruned completely from your binaries.</p>
<p>In the <a href="../manual.html">ALox User Manual</a> you will find all details of the ALox features along with information on use cases and often explanations why a feature is designed as it is. Some important things not covered in the tutorial are:</p>
<ul>
<li><b>Release Logging</b><br />
 Release logging is very similar to debug logging. The differences and how to use release-logging is described in a <a href="../alox_man_debug_and_release_logging.html">dedicated chapter</a> of the manual</li>
<li><b>External Configuration</b><br />
 Instead of setting <em>Verbosities</em> and other changeable configuration "from within the source" (by adding ALox API invocations to your software), such data can also come from INI files, environment variables, command-line parameters or a any custom source that your application uses. This is especially important on larger projects, when working in teams.<br />
 A summary of all ALox configuration variables is found in reference chapter: <a href="../group__GrpALoxConfigVars.html">I - Configuration Variables</a>.</li>
<li><b>Trimming Source File Paths</b><br />
 For C++ and C# users: ALox automatically trims paths of source code files. This can be optimized, as described in <a href="../alox_man_trim_source_path.html">Trimming Source File Paths and Clickable IDE Output</a>.</li>
<li><b>Log Domain Substitution</b><br />
 What this is, is described in <a href="../alox_man_domain_substitution.html">Log Domain Substitution</a>.</li>
</ul>
<p>If however, you just want to start using ALox and get to know more details over time, you should only read <a class="el" href="alox_cs_setup.html">IDE Setup for ALox for C#</a>.</p>
<p>Finally, for the daily work, the <a href="annotated.html">ALox class reference</a> gives a lot of help! </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.12-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 29 2018 20:36:51 for ALox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
<!-- Start of StatCounter Code e -->
<script type="text/javascript">
var sc_project=11242602;
var sc_invisible=1;
var sc_security="5ac13373";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web statistics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11242602/0/5ac13373/1/" alt="web
statistics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>
